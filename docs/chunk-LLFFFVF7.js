import{$ as yi,$a as dc,$b as G,$c as gc,A as F,Aa as Or,Ab as H4,Ac as Xn,Ad as Te,B as Rr,Ba as De,Bb as cn,Bc as ke,Bd as K,C as ft,Ca as oe,Cb as Ft,Cc as E7,Cd as _t,D as W5,Da as pe,Db as tn,Dd as Ce,E as Z,Ea as t7,Ed as wc,F as Y1,Fa as Tt,Fb as fc,Fc as $e,Fd as zc,G as Xt,Gb as i1,Gc as et,H as rc,Ha as n7,Hb as qn,I as $i,Ia as _n,Ib as Qe,J as Q1,Ja as en,Jb as y7,Jc as T7,K as X5,Ka as i7,Kb as mc,Kc as _4,L as e1,La as s7,Lb as Se,Lc as I7,Ld as k7,Ma as _e,Mb as b7,Mc as j4,Md as kr,Na as It,Nb as bi,Nc as C7,Nd as Q4,O as x4,Oa as Ct,Ob as Nr,Oc as vc,P as xe,Pb as Ve,Pc as U4,Q as J1,Qa as bn,Qb as ns,Qc as rs,R as pi,Ra as r7,Rb as Dt,Rc as q4,S as yn,Sa as Ge,Sd as H7,Ta as P4,Tb as w7,Tc as W4,Td as J4,U as O4,Ua as D4,Uc as St,V as oc,Va as Ee,Vb as Ke,Vc as M7,Vd as F7,W as Et,Wa as Y,Wc as S7,X as L4,Xa as uc,Xc as ge,Yc as X4,Z as gi,Za as t1,Zc as a1,_ as an,_a as he,_b as _,_c as pc,_d as B7,a as H,aa as ac,ab as o7,ac as ue,b as Ne,ba as G5,bb as k4,bc as s1,bd as V7,c as J3,ca as cc,cb as a7,cc as r1,cd as yc,da as lc,db as Kt,dc as z7,dd as A7,ea as K5,eb as wn,ec as Wn,ed as R7,f as mi,fa as xr,fb as jn,fd as ne,g as w,ga as N4,gb as $1,gd as x7,ha as Gt,hb as es,hc as Le,hd as Dr,i as Pt,ia as ot,ib as c7,id as O7,j as $3,ja as ve,jb as l7,jc as de,jd as L7,k as Xe,ka as Z5,kb as h7,kc as is,kd as c1,l as ec,la as Be,lb as u7,lc as ss,m as Ar,ma as Y5,mb as d7,md as G4,n as q,nb as f7,nc as F4,o as Ht,oa as Pe,ob as m7,oc as Pr,od as K4,p as tc,pa as Q5,pb as Un,pc as o1,pd as N7,q as _5,qa as N,qb as n1,qc as ln,r as j5,ra as re,rb as ts,rc as hn,s as U5,sa as J5,sb as v7,t as q5,ta as X,tb as p7,tc as Je,u as vi,ua as hc,ub as Lr,uc as Mt,ud as P7,v as nc,va as V,vb as W,vc as B4,vd as D7,w as gn,wa as x,wb as L,wd as Z4,x as ic,xa as $5,xb as g7,xd as bc,y as sc,ya as mt,yb as at,yd as Y4,z as Re,za as e7,zd as Bt}from"./chunk-TANJPCFI.js";var Fr=class{},Ti=class{},Gn=class i{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let n=t.indexOf(":");if(n>0){let s=t.slice(0,n),r=s.toLowerCase(),o=t.slice(n+1).trim();this.maybeSetNormalizedName(s,r),this.headers.has(r)?this.headers.get(r).push(o):this.headers.set(r,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,n)=>{this.setHeaderEntries(n,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,n])=>{this.setHeaderEntries(t,n)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new i;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(e.name,t);let s=(e.op==="a"?this.headers.get(t):void 0)||[];s.push(...n),this.headers.set(t,s);break;case"d":let r=e.value;if(!r)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(c=>r.indexOf(c)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let n=(Array.isArray(t)?t:[t]).map(r=>r.toString()),s=e.toLowerCase();this.headers.set(s,n),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Tc=class{encodeKey(e){return _7(e)}encodeValue(e){return _7(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Cy(i,e){let t=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(s=>{let r=s.indexOf("="),[o,c]=r==-1?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,r)),e.decodeValue(s.slice(r+1))],l=t.get(o)||[];l.push(c),t.set(o,l)}),t}var My=/%(\d[a-f0-9])/gi,Sy={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _7(i){return encodeURIComponent(i).replace(My,(e,t)=>Sy[t]??e)}function $4(i){return`${i}`}var zi=class i{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tc,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Cy(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let n=e.fromObject[t],s=Array.isArray(n)?n.map($4):[$4(n)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(n=>{let s=e[n];Array.isArray(s)?s.forEach(r=>{t.push({param:n,value:r,op:"a"})}):t.push({param:n,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(n=>t+"="+this.encoder.encodeValue(n)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new i({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push($4(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let n=this.map.get(e.param)||[],s=n.indexOf($4(e.value));s!==-1&&n.splice(s,1),n.length>0?this.map.set(e.param,n):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Ic=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Vy(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function j7(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function U7(i){return typeof Blob<"u"&&i instanceof Blob}function q7(i){return typeof FormData<"u"&&i instanceof FormData}function Ay(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Hr=class i{constructor(e,t,n,s){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let r;if(Vy(this.method)||s?(this.body=n!==void 0?n:null,r=s):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.context&&(this.context=r.context),r.params&&(this.params=r.params),this.transferCache=r.transferCache),this.headers??=new Gn,this.context??=new Ic,!this.params)this.params=new zi,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),l=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||j7(this.body)||U7(this.body)||q7(this.body)||Ay(this.body)?this.body:this.body instanceof zi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||q7(this.body)?null:U7(this.body)?this.body.type||null:j7(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof zi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,n=e.url||this.url,s=e.responseType||this.responseType,r=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,f=e.params||this.params,v=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((p,I)=>p.set(I,e.setHeaders[I]),h)),e.setParams&&(f=Object.keys(e.setParams).reduce((p,I)=>p.set(I,e.setParams[I]),f)),new i(t,n,o,{params:f,headers:h,context:v,reportProgress:l,responseType:s,withCredentials:c,transferCache:r})}},Ei=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(Ei||{}),Br=class{constructor(e,t=200,n="OK"){this.headers=e.headers||new Gn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},e2=class i extends Br{constructor(e={}){super(e),this.type=Ei.ResponseHeader}clone(e={}){return new i({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},_r=class i extends Br{constructor(e={}){super(e),this.type=Ei.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new i({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},wi=class extends Br{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Z7=200,Ry=204;function Ec(i,e){return{body:e,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var Sc=(()=>{let e=class e{constructor(n){this.handler=n}request(n,s,r={}){let o;if(n instanceof Hr)o=n;else{let h;r.headers instanceof Gn?h=r.headers:h=new Gn(r.headers);let f;r.params&&(r.params instanceof zi?f=r.params:f=new zi({fromObject:r.params})),o=new Hr(n,s,r.body!==void 0?r.body:null,{headers:h,context:r.context,params:f,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let c=F(o).pipe(yn(h=>this.handler.handle(h)));if(n instanceof Hr||r.observe==="events")return c;let l=c.pipe(xe(h=>h instanceof _r));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(Z(h=>{if(h.body!==null&&!(h.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return h.body}));case"blob":return l.pipe(Z(h=>{if(h.body!==null&&!(h.body instanceof Blob))throw new Error("Response is not a Blob.");return h.body}));case"text":return l.pipe(Z(h=>{if(h.body!==null&&typeof h.body!="string")throw new Error("Response is not a string.");return h.body}));case"json":default:return l.pipe(Z(h=>h.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:new zi().append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,r={}){return this.request("PATCH",n,Ec(r,s))}post(n,s,r={}){return this.request("POST",n,Ec(r,s))}put(n,s,r={}){return this.request("PUT",n,Ec(r,s))}};e.\u0275fac=function(s){return new(s||e)(V(Fr))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),xy=/^\)\]\}',?\n/,Oy="X-Request-URL";function W7(i){if(i.url)return i.url;let e=Oy.toLocaleLowerCase();return i.headers.get(e)}var Ly=(()=>{let e=class e{constructor(){this.fetchImpl=x(Cc,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=x(Y)}handle(n){return new Xe(s=>{let r=new AbortController;return this.doRequest(n,r.signal,s).then(Mc,o=>s.error(new wi({error:o}))),()=>r.abort()})}doRequest(n,s,r){return w(this,null,function*(){let o=this.createRequestInit(n),c;try{let A=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,H({signal:s},o)));Ny(A),r.next({type:Ei.Sent}),c=yield A}catch(A){r.error(new wi({error:A,status:A.status??0,statusText:A.statusText,url:n.urlWithParams,headers:A.headers}));return}let l=new Gn(c.headers),h=c.statusText,f=W7(c)??n.urlWithParams,v=c.status,p=null;if(n.reportProgress&&r.next(new e2({headers:l,status:v,statusText:h,url:f})),c.body){let A=c.headers.get("content-length"),P=[],R=c.body.getReader(),B=0,J,te,se=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:le,value:E}=yield R.read();if(le)break;if(P.push(E),B+=E.length,n.reportProgress){te=n.responseType==="text"?(te??"")+(J??=new TextDecoder).decode(E,{stream:!0}):void 0;let g=()=>r.next({type:Ei.DownloadProgress,total:A?+A:void 0,loaded:B,partialText:te});se?se.run(g):g()}}}));let Ye=this.concatChunks(P,B);try{let le=c.headers.get("Content-Type")??"";p=this.parseBody(n,Ye,le)}catch(le){r.error(new wi({error:le,headers:new Gn(c.headers),status:c.status,statusText:c.statusText,url:W7(c)??n.urlWithParams}));return}}v===0&&(v=p?Z7:0),v>=200&&v<300?(r.next(new _r({body:p,headers:l,status:v,statusText:h,url:f})),r.complete()):r.error(new wi({error:p,headers:l,status:v,statusText:h,url:f}))})}parseBody(n,s,r){switch(n.responseType){case"json":let o=new TextDecoder().decode(s).replace(xy,"");return o===""?null:JSON.parse(o);case"text":return new TextDecoder().decode(s);case"blob":return new Blob([s],{type:r});case"arraybuffer":return s.buffer}}createRequestInit(n){let s={},r=n.withCredentials?"include":void 0;if(n.headers.forEach((o,c)=>s[o]=c.join(",")),n.headers.has("Accept")||(s.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let o=n.detectContentTypeHeader();o!==null&&(s["Content-Type"]=o)}return{body:n.serializeBody(),method:n.method,headers:s,credentials:r}}concatChunks(n,s){let r=new Uint8Array(s),o=0;for(let c of n)r.set(c,o),o+=c.length;return r}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),Cc=class{};function Mc(){}function Ny(i){i.then(Mc,Mc)}function Py(i,e){return e(i)}function Dy(i,e,t){return(n,s)=>en(t,()=>e(n,r=>i(r,s)))}var Y7=new X(""),ky=new X(""),Hy=new X("",{providedIn:"root",factory:()=>!0});var X7=(()=>{let e=class e extends Fr{constructor(n,s){super(),this.backend=n,this.injector=s,this.chain=null,this.pendingTasks=x(D4),this.contributeToStability=x(Hy)}handle(n){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Y7),...this.injector.get(ky,[])]));this.chain=s.reduceRight((r,o)=>Dy(r,o,this.injector),Py)}if(this.contributeToStability){let s=this.pendingTasks.add();return this.chain(n,r=>this.backend.handle(r)).pipe(an(()=>this.pendingTasks.remove(s)))}else return this.chain(n,s=>this.backend.handle(s))}};e.\u0275fac=function(s){return new(s||e)(V(Ti),V(_n))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();var Fy=/^\)\]\}',?\n/;function By(i){return"responseURL"in i&&i.responseURL?i.responseURL:/^X-Request-URL:/m.test(i.getAllResponseHeaders())?i.getResponseHeader("X-Request-URL"):null}var G7=(()=>{let e=class e{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Pe(-2800,!1);let s=this.xhrFactory;return(s.\u0275loadImpl?Re(s.\u0275loadImpl()):F(null)).pipe(ot(()=>new Xe(o=>{let c=s.build();if(c.open(n.method,n.urlWithParams),n.withCredentials&&(c.withCredentials=!0),n.headers.forEach((R,B)=>c.setRequestHeader(R,B.join(","))),n.headers.has("Accept")||c.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let R=n.detectContentTypeHeader();R!==null&&c.setRequestHeader("Content-Type",R)}if(n.responseType){let R=n.responseType.toLowerCase();c.responseType=R!=="json"?R:"text"}let l=n.serializeBody(),h=null,f=()=>{if(h!==null)return h;let R=c.statusText||"OK",B=new Gn(c.getAllResponseHeaders()),J=By(c)||n.url;return h=new e2({headers:B,status:c.status,statusText:R,url:J}),h},v=()=>{let{headers:R,status:B,statusText:J,url:te}=f(),se=null;B!==Ry&&(se=typeof c.response>"u"?c.responseText:c.response),B===0&&(B=se?Z7:0);let Ye=B>=200&&B<300;if(n.responseType==="json"&&typeof se=="string"){let le=se;se=se.replace(Fy,"");try{se=se!==""?JSON.parse(se):null}catch(E){se=le,Ye&&(Ye=!1,se={error:E,text:se})}}Ye?(o.next(new _r({body:se,headers:R,status:B,statusText:J,url:te||void 0})),o.complete()):o.error(new wi({error:se,headers:R,status:B,statusText:J,url:te||void 0}))},p=R=>{let{url:B}=f(),J=new wi({error:R,status:c.status||0,statusText:c.statusText||"Unknown Error",url:B||void 0});o.error(J)},I=!1,A=R=>{I||(o.next(f()),I=!0);let B={type:Ei.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),n.responseType==="text"&&c.responseText&&(B.partialText=c.responseText),o.next(B)},P=R=>{let B={type:Ei.UploadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),o.next(B)};return c.addEventListener("load",v),c.addEventListener("error",p),c.addEventListener("timeout",p),c.addEventListener("abort",p),n.reportProgress&&(c.addEventListener("progress",A),l!==null&&c.upload&&c.upload.addEventListener("progress",P)),c.send(l),o.next({type:Ei.Sent}),()=>{c.removeEventListener("error",p),c.removeEventListener("abort",p),c.removeEventListener("load",v),c.removeEventListener("timeout",p),n.reportProgress&&(c.removeEventListener("progress",A),l!==null&&c.upload&&c.upload.removeEventListener("progress",P)),c.readyState!==c.DONE&&c.abort()}})))}};e.\u0275fac=function(s){return new(s||e)(V(Y4))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),Q7=new X(""),_y="XSRF-TOKEN",jy=new X("",{providedIn:"root",factory:()=>_y}),Uy="X-XSRF-TOKEN",qy=new X("",{providedIn:"root",factory:()=>Uy}),t2=class{},Wy=(()=>{let e=class e{constructor(n,s,r){this.doc=n,this.platform=s,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=G4(n,this.cookieName),this.lastCookieString=n),this.lastToken}};e.\u0275fac=function(s){return new(s||e)(V(ne),V(Kt),V(jy))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function Xy(i,e){let t=i.url.toLowerCase();if(!x(Q7)||i.method==="GET"||i.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(i);let n=x(t2).getToken(),s=x(qy);return n!=null&&!i.headers.has(s)&&(i=i.clone({headers:i.headers.set(s,n)})),e(i)}function HR(...i){let e=[Sc,G7,X7,{provide:Fr,useExisting:X7},{provide:Ti,useFactory:()=>x(Ly,{optional:!0})??x(G7)},{provide:Y7,useValue:Xy,multi:!0},{provide:Q7,useValue:!0},{provide:t2,useClass:Wy}];for(let t of i)e.push(...t.\u0275providers);return Tt(e)}var Rc=class extends R7{constructor(){super(...arguments),this.supportsDOMEvents=!0}},xc=class i extends Rc{static makeCurrent(){A7(new i)}onAndCancel(e,t,n){return e.addEventListener(t,n),()=>{e.removeEventListener(t,n)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=Zy();return t==null?null:Yy(t)}resetBaseElement(){jr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return G4(document.cookie,e)}},jr=null;function Zy(){return jr=jr||document.querySelector("base"),jr?jr.getAttribute("href"):null}function Yy(i){return new URL(i,document.baseURI).pathname}var Qy=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),Oc=new X(""),eu=(()=>{let e=class e{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,s,r){return this._findPluginFor(s).addEventListener(n,s,r)}getZone(){return this._zone}_findPluginFor(n){let s=this._eventNameToPlugin.get(n);if(s)return s;if(s=this._plugins.find(o=>o.supports(n)),!s)throw new Pe(5101,!1);return this._eventNameToPlugin.set(n,s),s}};e.\u0275fac=function(s){return new(s||e)(V(Oc),V(Y))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),n2=class{constructor(e){this._doc=e}},Vc="ng-app-id",tu=(()=>{let e=class e{constructor(n,s,r,o={}){this.doc=n,this.appId=s,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Z4(o),this.resetHostNodes()}addStyles(n){for(let s of n)this.changeUsageCount(s,1)===1&&this.onStyleAdded(s)}removeStyles(n){for(let s of n)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(s=>s.remove()),n.clear());for(let s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let s of this.getAllStyles())this.addStyleToHost(n,s)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let s of this.hostNodes)this.addStyleToHost(s,n)}onStyleRemoved(n){let s=this.styleRef;s.get(n)?.elements?.forEach(r=>r.remove()),s.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Vc}="${this.appId}"]`);if(n?.length){let s=new Map;return n.forEach(r=>{r.textContent!=null&&s.set(r.textContent,r)}),s}return null}changeUsageCount(n,s){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=s,o.usage}return r.set(n,{usage:s,elements:[]}),s}getStyleElement(n,s){let r=this.styleNodesInDOM,o=r?.get(s);if(o?.parentNode===n)return r.delete(s),o.removeAttribute(Vc),o;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=s,this.platformIsServer&&c.setAttribute(Vc,this.appId),n.appendChild(c),c}}addStyleToHost(n,s){let r=this.getStyleElement(n,s),o=this.styleRef,c=o.get(s)?.elements;c?c.push(r):o.set(s,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}};e.\u0275fac=function(s){return new(s||e)(V(ne),V(k4),V(jn,8),V(Kt))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),Ac={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Nc=/%COMP%/g,nu="%COMP%",Jy=`_nghost-${nu}`,$y=`_ngcontent-${nu}`,eb=!0,tb=new X("",{providedIn:"root",factory:()=>eb});function nb(i){return $y.replace(Nc,i)}function ib(i){return Jy.replace(Nc,i)}function iu(i,e){return e.map(t=>t.replace(Nc,i))}var i2=(()=>{let e=class e{constructor(n,s,r,o,c,l,h,f=null){this.eventManager=n,this.sharedStylesHost=s,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=c,this.platformId=l,this.ngZone=h,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Z4(l),this.defaultRenderer=new Ur(n,c,h,this.platformIsServer)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===Or.ShadowDom&&(s=Ne(H({},s),{encapsulation:Or.Emulated}));let r=this.getOrCreateRenderer(n,s);return r instanceof s2?r.applyToHost(n):r instanceof qr&&r.applyStyles(),r}getOrCreateRenderer(n,s){let r=this.rendererByCompId,o=r.get(s.id);if(!o){let c=this.doc,l=this.ngZone,h=this.eventManager,f=this.sharedStylesHost,v=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(s.encapsulation){case Or.Emulated:o=new s2(h,f,s,this.appId,v,c,l,p);break;case Or.ShadowDom:return new Lc(h,f,n,s,c,l,this.nonce,p);default:o=new qr(h,f,s,v,c,l,p);break}r.set(s.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(s){return new(s||e)(V(eu),V(tu),V(k4),V(tb),V(ne),V(Kt),V(Y),V(jn))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),Ur=class{constructor(e,t,n,s){this.eventManager=e,this.doc=t,this.ngZone=n,this.platformIsServer=s,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ac[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(J7(e)?e.content:e).appendChild(t)}insertBefore(e,t,n){e&&(J7(e)?e.content:e).insertBefore(t,n)}removeChild(e,t){t.remove()}selectRootElement(e,t){let n=typeof e=="string"?this.doc.querySelector(e):e;if(!n)throw new Pe(-5104,!1);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,s){if(s){t=s+":"+t;let r=Ac[s];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){let s=Ac[n];s?e.removeAttributeNS(s,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,s){s&(Lr.DashCase|Lr.Important)?e.style.setProperty(t,n,s&Lr.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&Lr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e!=null&&(e[t]=n)}setValue(e,t){e.nodeValue=t}listen(e,t,n){if(typeof e=="string"&&(e=yc().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(n))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function J7(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Lc=class extends Ur{constructor(e,t,n,s,r,o,c,l){super(e,r,o,l),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=iu(s.id,s.styles);for(let f of h){let v=document.createElement("style");c&&v.setAttribute("nonce",c),v.textContent=f,this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},qr=class extends Ur{constructor(e,t,n,s,r,o,c,l){super(e,r,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.styles=l?iu(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},s2=class extends qr{constructor(e,t,n,s,r,o,c,l){let h=s+"-"+n.id;super(e,t,n,r,o,c,l,h),this.contentAttr=nb(h),this.hostAttr=ib(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}},sb=(()=>{let e=class e extends n2{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,r){return n.addEventListener(s,r,!1),()=>this.removeEventListener(n,s,r)}removeEventListener(n,s,r){return n.removeEventListener(s,r)}};e.\u0275fac=function(s){return new(s||e)(V(ne))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),$7=["alt","control","meta","shift"],rb={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ob={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},ab=(()=>{let e=class e extends n2{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,s,r){let o=e.parseEventName(s),c=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>yc().onAndCancel(n,o.domEventName,c))}static parseEventName(n){let s=n.toLowerCase().split("."),r=s.shift();if(s.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(s.pop()),c="",l=s.indexOf("code");if(l>-1&&(s.splice(l,1),c="code."),$7.forEach(f=>{let v=s.indexOf(f);v>-1&&(s.splice(v,1),c+=f+".")}),c+=o,s.length!=0||o.length===0)return null;let h={};return h.domEventName=r,h.fullKey=c,h}static matchEventFullKeyCode(n,s){let r=rb[n.key]||n.key,o="";return s.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),$7.forEach(c=>{if(c!==r){let l=ob[c];l(n)&&(o+=c+".")}}),o+=r,o===s)}static eventCallback(n,s,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>s(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}};e.\u0275fac=function(s){return new(s||e)(V(ne))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function ax(i,e){return S7(H({rootComponent:i},cb(e)))}function cb(i){return{appProviders:[...fb,...i?.providers??[]],platformProviders:db}}function lb(){xc.makeCurrent()}function hb(){return new uc}function ub(){return o7(document),document}var db=[{provide:Kt,useValue:P7},{provide:a7,useValue:lb,multi:!0},{provide:ne,useFactory:ub,deps:[]}];var fb=[{provide:n7,useValue:"root"},{provide:uc,useFactory:hb,deps:[]},{provide:Oc,useClass:sb,multi:!0,deps:[ne,Y,Kt]},{provide:Oc,useClass:ab,multi:!0,deps:[ne]},i2,tu,eu,{provide:cn,useExisting:i2},{provide:Y4,useClass:Qy,deps:[]},[]];var su=(()=>{let e=class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}};e.\u0275fac=function(s){return new(s||e)(V(ne))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Wr=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:function(s){let r=null;return s?r=new(s||e):r=V(mb),r},providedIn:"root"});let i=e;return i})(),mb=(()=>{let e=class e extends Wr{constructor(n){super(),this._doc=n}sanitize(n,s){if(s==null)return null;switch(n){case Un.NONE:return s;case Un.HTML:return es(s,"HTML")?$1(s):m7(this._doc,String(s)).toString();case Un.STYLE:return es(s,"Style")?$1(s):s;case Un.SCRIPT:if(es(s,"Script"))return $1(s);throw new Pe(5200,!1);case Un.URL:return es(s,"URL")?$1(s):f7(String(s));case Un.RESOURCE_URL:if(es(s,"ResourceURL"))return $1(s);throw new Pe(5201,!1);default:throw new Pe(5202,!1)}}bypassSecurityTrustHtml(n){return c7(n)}bypassSecurityTrustStyle(n){return l7(n)}bypassSecurityTrustScript(n){return h7(n)}bypassSecurityTrustUrl(n){return u7(n)}bypassSecurityTrustResourceUrl(n){return d7(n)}};e.\u0275fac=function(s){return new(s||e)(V(ne))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ce="primary",oo=Symbol("RouteTitle"),Bc=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function us(i){return new Bc(i)}function vb(i,e,t){let n=t.path.split("/");if(n.length>i.length||t.pathMatch==="full"&&(e.hasChildren()||n.length<i.length))return null;let s={};for(let r=0;r<n.length;r++){let o=n[r],c=i[r];if(o[0]===":")s[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:i.slice(0,n.length),posParams:s}}function pb(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!zn(i[t],e[t]))return!1;return!0}function zn(i,e){let t=i?_c(i):void 0,n=e?_c(e):void 0;if(!t||!n||t.length!=n.length)return!1;let s;for(let r=0;r<t.length;r++)if(s=t[r],!vu(i[s],e[s]))return!1;return!0}function _c(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function vu(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let t=[...i].sort(),n=[...e].sort();return t.every((s,r)=>n[r]===s)}else return i===e}function pu(i){return i.length>0?i[i.length-1]:null}function Mi(i){return ft(i)?i:C7(i)?Re(Promise.resolve(i)):F(i)}var gb={exact:yu,subset:bu},gu={exact:yb,subset:bb,ignored:()=>!0};function ru(i,e,t){return gb[t.paths](i.root,e.root,t.matrixParams)&&gu[t.queryParams](i.queryParams,e.queryParams)&&!(t.fragment==="exact"&&i.fragment!==e.fragment)}function yb(i,e){return zn(i,e)}function yu(i,e,t){if(!h1(i.segments,e.segments)||!a2(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let n in e.children)if(!i.children[n]||!yu(i.children[n],e.children[n],t))return!1;return!0}function bb(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>vu(i[t],e[t]))}function bu(i,e,t){return wu(i,e,e.segments,t)}function wu(i,e,t,n){if(i.segments.length>t.length){let s=i.segments.slice(0,t.length);return!(!h1(s,t)||e.hasChildren()||!a2(s,t,n))}else if(i.segments.length===t.length){if(!h1(i.segments,t)||!a2(i.segments,t,n))return!1;for(let s in e.children)if(!i.children[s]||!bu(i.children[s],e.children[s],n))return!1;return!0}else{let s=t.slice(0,i.segments.length),r=t.slice(i.segments.length);return!h1(i.segments,s)||!a2(i.segments,s,n)||!i.children[ce]?!1:wu(i.children[ce],e,r,n)}}function a2(i,e,t){return e.every((n,s)=>gu[t](i[s].parameters,n.parameters))}var Zn=class{constructor(e=new Ie([],{}),t={},n=null){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap??=us(this.queryParams),this._queryParamMap}toString(){return Eb.serialize(this)}},Ie=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return c2(this)}},l1=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=us(this.parameters),this._parameterMap}toString(){return Eu(this)}};function wb(i,e){return h1(i,e)&&i.every((t,n)=>zn(t.parameters,e[n].parameters))}function h1(i,e){return i.length!==e.length?!1:i.every((t,n)=>t.path===e[n].path)}function zb(i,e){let t=[];return Object.entries(i.children).forEach(([n,s])=>{n===ce&&(t=t.concat(e(s,n)))}),Object.entries(i.children).forEach(([n,s])=>{n!==ce&&(t=t.concat(e(s,n)))}),t}var ps=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:()=>new ds,providedIn:"root"});let i=e;return i})(),ds=class{parse(e){let t=new Uc(e);return new Zn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Xr(e.root,!0)}`,n=Cb(e.queryParams),s=typeof e.fragment=="string"?`#${Tb(e.fragment)}`:"";return`${t}${n}${s}`}},Eb=new ds;function c2(i){return i.segments.map(e=>Eu(e)).join("/")}function Xr(i,e){if(!i.hasChildren())return c2(i);if(e){let t=i.children[ce]?Xr(i.children[ce],!1):"",n=[];return Object.entries(i.children).forEach(([s,r])=>{s!==ce&&n.push(`${s}:${Xr(r,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}else{let t=zb(i,(n,s)=>s===ce?[Xr(i.children[ce],!1)]:[`${s}:${Xr(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[ce]!=null?`${c2(i)}/${t[0]}`:`${c2(i)}/(${t.join("//")})`}}function zu(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function r2(i){return zu(i).replace(/%3B/gi,";")}function Tb(i){return encodeURI(i)}function jc(i){return zu(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function l2(i){return decodeURIComponent(i)}function ou(i){return l2(i.replace(/\+/g,"%20"))}function Eu(i){return`${jc(i.path)}${Ib(i.parameters)}`}function Ib(i){return Object.entries(i).map(([e,t])=>`;${jc(e)}=${jc(t)}`).join("")}function Cb(i){let e=Object.entries(i).map(([t,n])=>Array.isArray(n)?n.map(s=>`${r2(t)}=${r2(s)}`).join("&"):`${r2(t)}=${r2(n)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Mb=/^[^\/()?;#]+/;function Dc(i){let e=i.match(Mb);return e?e[0]:""}var Sb=/^[^\/()?;=#]+/;function Vb(i){let e=i.match(Sb);return e?e[0]:""}var Ab=/^[^=?&#]+/;function Rb(i){let e=i.match(Ab);return e?e[0]:""}var xb=/^[^&#]+/;function Ob(i){let e=i.match(xb);return e?e[0]:""}var Uc=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[ce]=new Ie(e,t)),n}parseSegment(){let e=Dc(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Pe(4009,!1);return this.capture(e),new l1(l2(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Vb(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let s=Dc(this.remaining);s&&(n=s,this.capture(n))}e[l2(t)]=l2(n)}parseQueryParam(e){let t=Rb(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){let o=Ob(this.remaining);o&&(n=o,this.capture(n))}let s=ou(t),r=ou(n);if(e.hasOwnProperty(s)){let o=e[s];Array.isArray(o)||(o=[o],e[s]=o),o.push(r)}else e[s]=r}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=Dc(this.remaining),s=this.remaining[n.length];if(s!=="/"&&s!==")"&&s!==";")throw new Pe(4010,!1);let r;n.indexOf(":")>-1?(r=n.slice(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=ce);let o=this.parseChildren();t[r]=Object.keys(o).length===1?o[ce]:new Ie([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Pe(4011,!1)}};function Tu(i){return i.segments.length>0?new Ie([],{[ce]:i}):i}function Iu(i){let e={};for(let[n,s]of Object.entries(i.children)){let r=Iu(s);if(n===ce&&r.segments.length===0&&r.hasChildren())for(let[o,c]of Object.entries(r.children))e[o]=c;else(r.segments.length>0||r.hasChildren())&&(e[n]=r)}let t=new Ie(i.segments,e);return Lb(t)}function Lb(i){if(i.numberOfChildren===1&&i.children[ce]){let e=i.children[ce];return new Ie(i.segments.concat(e.segments),e.children)}return i}function u1(i){return i instanceof Zn}function Nb(i,e,t=null,n=null){let s=Cu(i);return Mu(s,e,t,n)}function Cu(i){let e;function t(r){let o={};for(let l of r.children){let h=t(l);o[l.outlet]=h}let c=new Ie(r.url,o);return r===i&&(e=c),c}let n=t(i.root),s=Tu(n);return e??s}function Mu(i,e,t,n){let s=i;for(;s.parent;)s=s.parent;if(e.length===0)return kc(s,s,s,t,n);let r=Pb(e);if(r.toRoot())return kc(s,s,new Ie([],{}),t,n);let o=Db(r,s,i),c=o.processChildren?Zr(o.segmentGroup,o.index,r.commands):Vu(o.segmentGroup,o.index,r.commands);return kc(s,o.segmentGroup,c,t,n)}function h2(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Jr(i){return typeof i=="object"&&i!=null&&i.outlets}function kc(i,e,t,n,s){let r={};n&&Object.entries(n).forEach(([l,h])=>{r[l]=Array.isArray(h)?h.map(f=>`${f}`):`${h}`});let o;i===e?o=t:o=Su(i,e,t);let c=Tu(Iu(o));return new Zn(c,r,s)}function Su(i,e,t){let n={};return Object.entries(i.children).forEach(([s,r])=>{r===e?n[s]=t:n[s]=Su(r,e,t)}),new Ie(i.segments,n)}var u2=class{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&h2(n[0]))throw new Pe(4003,!1);let s=n.find(Jr);if(s&&s!==pu(n))throw new Pe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Pb(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new u2(!0,0,i);let e=0,t=!1,n=i.reduce((s,r,o)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let c={};return Object.entries(r.outlets).forEach(([l,h])=>{c[l]=typeof h=="string"?h.split("/"):h}),[...s,{outlets:c}]}if(r.segmentPath)return[...s,r.segmentPath]}return typeof r!="string"?[...s,r]:o===0?(r.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?t=!0:c===".."?e++:c!=""&&s.push(c))}),s):[...s,r]},[]);return new u2(t,e,n)}var cs=class{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}};function Db(i,e,t){if(i.isAbsolute)return new cs(e,!0,0);if(!t)return new cs(e,!1,NaN);if(t.parent===null)return new cs(t,!0,0);let n=h2(i.commands[0])?0:1,s=t.segments.length-1+n;return kb(t,s,i.numberOfDoubleDots)}function kb(i,e,t){let n=i,s=e,r=t;for(;r>s;){if(r-=s,n=n.parent,!n)throw new Pe(4005,!1);s=n.segments.length}return new cs(n,!1,s-r)}function Hb(i){return Jr(i[0])?i[0].outlets:{[ce]:i}}function Vu(i,e,t){if(i??=new Ie([],{}),i.segments.length===0&&i.hasChildren())return Zr(i,e,t);let n=Fb(i,e,t),s=t.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let r=new Ie(i.segments.slice(0,n.pathIndex),{});return r.children[ce]=new Ie(i.segments.slice(n.pathIndex),i.children),Zr(r,0,s)}else return n.match&&s.length===0?new Ie(i.segments,{}):n.match&&!i.hasChildren()?qc(i,e,t):n.match?Zr(i,0,s):qc(i,e,t)}function Zr(i,e,t){if(t.length===0)return new Ie(i.segments,{});{let n=Hb(t),s={};if(Object.keys(n).some(r=>r!==ce)&&i.children[ce]&&i.numberOfChildren===1&&i.children[ce].segments.length===0){let r=Zr(i.children[ce],e,t);return new Ie(i.segments,r.children)}return Object.entries(n).forEach(([r,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(s[r]=Vu(i.children[r],e,o))}),Object.entries(i.children).forEach(([r,o])=>{n[r]===void 0&&(s[r]=o)}),new Ie(i.segments,s)}}function Fb(i,e,t){let n=0,s=e,r={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(n>=t.length)return r;let o=i.segments[s],c=t[n];if(Jr(c))break;let l=`${c}`,h=n<t.length-1?t[n+1]:null;if(s>0&&l===void 0)break;if(l&&h&&typeof h=="object"&&h.outlets===void 0){if(!cu(l,h,o))return r;n+=2}else{if(!cu(l,{},o))return r;n++}s++}return{match:!0,pathIndex:s,commandIndex:n}}function qc(i,e,t){let n=i.segments.slice(0,e),s=0;for(;s<t.length;){let r=t[s];if(Jr(r)){let l=Bb(r.outlets);return new Ie(n,l)}if(s===0&&h2(t[0])){let l=i.segments[e];n.push(new l1(l.path,au(t[0]))),s++;continue}let o=Jr(r)?r.outlets[ce]:`${r}`,c=s<t.length-1?t[s+1]:null;o&&c&&h2(c)?(n.push(new l1(o,au(c))),s+=2):(n.push(new l1(o,{})),s++)}return new Ie(n,{})}function Bb(i){let e={};return Object.entries(i).forEach(([t,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(e[t]=qc(new Ie([],{}),0,n))}),e}function au(i){let e={};return Object.entries(i).forEach(([t,n])=>e[t]=`${n}`),e}function cu(i,e,t){return i==t.path&&zn(e,t.parameters)}var Yr="imperative",ct=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(ct||{}),nn=class{constructor(e,t){this.id=e,this.url=t}},fs=class extends nn{constructor(e,t,n="imperative",s=null){super(e,t),this.type=ct.NavigationStart,this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends nn{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Yt=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(Yt||{}),d2=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(d2||{}),Kn=class extends nn{constructor(e,t,n,s){super(e,t),this.reason=n,this.code=s,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ii=class extends nn{constructor(e,t,n,s){super(e,t),this.reason=n,this.code=s,this.type=ct.NavigationSkipped}},$r=class extends nn{constructor(e,t,n,s){super(e,t),this.error=n,this.target=s,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},f2=class extends nn{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Wc=class extends nn{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xc=class extends nn{constructor(e,t,n,s,r){super(e,t),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=r,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Gc=class extends nn{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Kc=class extends nn{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zc=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Yc=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Qc=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Jc=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$c=class{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},e6=class{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},m2=class{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n,this.type=ct.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},eo=class{},ms=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function _b(i,e){return i.providers&&!i._injector&&(i._injector=mc(i.providers,e,`Route: ${i.path}`)),i._injector??e}function un(i){return i.outlet||ce}function jb(i,e){let t=i.filter(n=>un(n)===e);return t.push(...i.filter(n=>un(n)!==e)),t}function ao(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var t6=class{get injector(){return ao(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new co(this.rootInjector),this.attachRef=null}},co=(()=>{let e=class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,s){let r=this.getOrCreateContext(n);r.outlet=s,this.contexts.set(n,r)}onChildOutletDestroyed(n){let s=this.getContext(n);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let s=this.getContext(n);return s||(s=new t6(this.rootInjector),this.contexts.set(n,s)),s}getContext(n){return this.contexts.get(n)||null}};e.\u0275fac=function(s){return new(s||e)(V(_n))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),v2=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=n6(e,this._root);return t?t.children.map(n=>n.value):[]}firstChild(e){let t=n6(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=i6(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return i6(e,this._root).map(t=>t.value)}};function n6(i,e){if(i===e.value)return e;for(let t of e.children){let n=n6(i,t);if(n)return n}return null}function i6(i,e){if(i===e.value)return[e];for(let t of e.children){let n=i6(i,t);if(n.length)return n.unshift(e),n}return[]}var Zt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function as(i){let e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}var p2=class extends v2{constructor(e,t){super(e),this.snapshot=t,d6(this,e)}toString(){return this.snapshot.toString()}};function Au(i){let e=Ub(i),t=new Ht([new l1("",{})]),n=new Ht({}),s=new Ht({}),r=new Ht({}),o=new Ht(""),c=new Ci(t,n,r,o,s,ce,i,e.root);return c.snapshot=e.root,new p2(new Zt(c,[]),e)}function Ub(i){let e={},t={},n={},s="",r=new ls([],e,n,s,t,ce,i,null,{});return new y2("",new Zt(r,[]))}var Ci=class{constructor(e,t,n,s,r,o,c,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=n,this.fragmentSubject=s,this.dataSubject=r,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Z(h=>h[oo]))??F(void 0),this.url=e,this.params=t,this.queryParams=n,this.fragment=s,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>us(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>us(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function g2(i,e,t="emptyOnly"){let n,{routeConfig:s}=i;return e!==null&&(t==="always"||s?.path===""||!e.component&&!e.routeConfig?.loadComponent)?n={params:H(H({},e.params),i.params),data:H(H({},e.data),i.data),resolve:H(H(H(H({},i.data),e.data),s?.data),i._resolvedData)}:n={params:H({},i.params),data:H({},i.data),resolve:H(H({},i.data),i._resolvedData??{})},s&&xu(s)&&(n.resolve[oo]=s.title),n}var ls=class{get title(){return this.data?.[oo]}constructor(e,t,n,s,r,o,c,l,h){this.url=e,this.params=t,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=us(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=us(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(n=>n.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},y2=class extends v2{constructor(e,t){super(t),this.url=e,d6(this,t)}toString(){return Ru(this._root)}};function d6(i,e){e.value._routerState=i,e.children.forEach(t=>d6(i,t))}function Ru(i){let e=i.children.length>0?` { ${i.children.map(Ru).join(", ")} } `:"";return`${i.value}${e}`}function Hc(i){if(i.snapshot){let e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,zn(e.queryParams,t.queryParams)||i.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&i.fragmentSubject.next(t.fragment),zn(e.params,t.params)||i.paramsSubject.next(t.params),pb(e.url,t.url)||i.urlSubject.next(t.url),zn(e.data,t.data)||i.dataSubject.next(t.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function s6(i,e){let t=zn(i.params,e.params)&&wb(i.url,e.url),n=!i.parent!=!e.parent;return t&&!n&&(!i.parent||s6(i.parent,e.parent))}function xu(i){return typeof i.title=="string"||i.title===null}var qb=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Ee,this.deactivateEvents=new Ee,this.attachEvents=new Ee,this.detachEvents=new Ee,this.parentContexts=x(co),this.location=x(tn),this.changeDetector=x(St),this.inputBinder=x(E2,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:s,previousValue:r}=n.name;if(s)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pe(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,s){this.activated=n,this._activatedRoute=s,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,s){if(this.isActivated)throw new Pe(4013,!1);this._activatedRoute=n;let r=this.location,c=n.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,h=new r6(n,l,r.injector);this.activated=r.createComponent(c,{index:r.length,injector:h,environmentInjector:s}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=pe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_e]});let i=e;return i})(),r6=class i{__ngOutletInjector(e){return new i(this.route,this.childContexts,e)}constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===Ci?this.route:e===co?this.childContexts:this.parent.get(e,t)}},E2=new X(""),lu=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:s}=n,r=Y1([s.queryParams,s.params,s.data]).pipe(ot(([o,c,l],h)=>(l=H(H(H({},o),c),l),h===0?F(l):Promise.resolve(l)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==s||s.component===null){this.unsubscribeFromRouteData(n);return}let c=V7(s.component);if(!c){this.unsubscribeFromRouteData(n);return}for(let{templateName:l}of c.inputs)n.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(n,r)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function Wb(i,e,t){let n=to(i,e._root,t?t._root:void 0);return new p2(n,e)}function to(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){let n=t.value;n._futureSnapshot=e.value;let s=Xb(i,e,t);return new Zt(n,s)}else{if(i.shouldAttach(e.value)){let r=i.retrieve(e.value);if(r!==null){let o=r.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>to(i,c)),o}}let n=Gb(e.value),s=e.children.map(r=>to(i,r));return new Zt(n,s)}}function Xb(i,e,t){return e.children.map(n=>{for(let s of t.children)if(i.shouldReuseRoute(n.value,s.value.snapshot))return to(i,n,s);return to(i,n)})}function Gb(i){return new Ci(new Ht(i.url),new Ht(i.params),new Ht(i.queryParams),new Ht(i.fragment),new Ht(i.data),i.outlet,i.component,i)}var no=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Ou="ngNavigationCancelingError";function b2(i,e){let{redirectTo:t,navigationBehaviorOptions:n}=u1(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Lu(!1,Yt.Redirect);return s.url=t,s.navigationBehaviorOptions=n,s}function Lu(i,e){let t=new Error(`NavigationCancelingError: ${i||""}`);return t[Ou]=!0,t.cancellationCode=e,t}function Kb(i){return Nu(i)&&u1(i.url)}function Nu(i){return!!i&&i[Ou]}var Zb=(i,e,t,n)=>Z(s=>(new o6(e,s.targetRouterState,s.currentRouterState,t,n).activate(i),s)),o6=class{constructor(e,t,n,s,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=s,this.inputBindingEnabled=r}activate(e){let t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Hc(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){let s=as(t);e.children.forEach(r=>{let o=r.value.outlet;this.deactivateRoutes(r,s[o],n),delete s[o]}),Object.values(s).forEach(r=>{this.deactivateRouteAndItsChildren(r,n)})}deactivateRoutes(e,t,n){let s=e.value,r=t?t.value:null;if(s===r)if(s.component){let o=n.getContext(s.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let n=t.getContext(e.value.outlet),s=n&&e.value.component?n.children:t,r=as(e);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,s);if(n&&n.outlet){let o=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let n=t.getContext(e.value.outlet),s=n&&e.value.component?n.children:t,r=as(e);for(let o of Object.values(r))this.deactivateRouteAndItsChildren(o,s);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(e,t,n){let s=as(t);e.children.forEach(r=>{this.activateRoutes(r,s[r.value.outlet],n),this.forwardEvent(new e6(r.value.snapshot))}),e.children.length&&this.forwardEvent(new Jc(e.value.snapshot))}activateRoutes(e,t,n){let s=e.value,r=t?t.value:null;if(Hc(s),s===r)if(s.component){let o=n.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,n);else if(s.component){let o=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){let c=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),Hc(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=s,o.outlet&&o.outlet.activateWith(s,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,n)}},w2=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},hs=class{constructor(e,t){this.component=e,this.route=t}};function Yb(i,e,t){let n=i._root,s=e?e._root:null;return Gr(n,s,t,[n.value])}function Qb(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function gs(i,e){let t=Symbol(),n=e.get(i,t);return n===t?typeof i=="function"&&!J5(i)?i:e.get(i):n}function Gr(i,e,t,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let r=as(e);return i.children.forEach(o=>{Jb(o,r[o.value.outlet],t,n.concat([o.value]),s),delete r[o.value.outlet]}),Object.entries(r).forEach(([o,c])=>Qr(c,t.getContext(o),s)),s}function Jb(i,e,t,n,s={canDeactivateChecks:[],canActivateChecks:[]}){let r=i.value,o=e?e.value:null,c=t?t.getContext(i.value.outlet):null;if(o&&r.routeConfig===o.routeConfig){let l=$b(o,r,r.routeConfig.runGuardsAndResolvers);l?s.canActivateChecks.push(new w2(n)):(r.data=o.data,r._resolvedData=o._resolvedData),r.component?Gr(i,e,c?c.children:null,n,s):Gr(i,e,t,n,s),l&&c&&c.outlet&&c.outlet.isActivated&&s.canDeactivateChecks.push(new hs(c.outlet.component,o))}else o&&Qr(e,c,s),s.canActivateChecks.push(new w2(n)),r.component?Gr(i,null,c?c.children:null,n,s):Gr(i,null,t,n,s);return s}function $b(i,e,t){if(typeof t=="function")return t(i,e);switch(t){case"pathParamsChange":return!h1(i.url,e.url);case"pathParamsOrQueryParamsChange":return!h1(i.url,e.url)||!zn(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!s6(i,e)||!zn(i.queryParams,e.queryParams);case"paramsChange":default:return!s6(i,e)}}function Qr(i,e,t){let n=as(i),s=i.value;Object.entries(n).forEach(([r,o])=>{s.component?e?Qr(o,e.children.getContext(r),t):Qr(o,null,t):Qr(o,e,t)}),s.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new hs(e.outlet.component,s)):t.canDeactivateChecks.push(new hs(null,s)):t.canDeactivateChecks.push(new hs(null,s))}function lo(i){return typeof i=="function"}function ew(i){return typeof i=="boolean"}function tw(i){return i&&lo(i.canLoad)}function nw(i){return i&&lo(i.canActivate)}function iw(i){return i&&lo(i.canActivateChild)}function sw(i){return i&&lo(i.canDeactivate)}function rw(i){return i&&lo(i.canMatch)}function Pu(i){return i instanceof W5||i?.name==="EmptyError"}var o2=Symbol("INITIAL_VALUE");function vs(){return ot(i=>Y1(i.map(e=>e.pipe(Et(1),Gt(o2)))).pipe(Z(e=>{for(let t of e)if(t!==!0){if(t===o2)return o2;if(t===!1||ow(t))return t}return!0}),xe(e=>e!==o2),Et(1)))}function ow(i){return u1(i)||i instanceof no}function aw(i,e){return Xt(t=>{let{targetSnapshot:n,currentSnapshot:s,guards:{canActivateChecks:r,canDeactivateChecks:o}}=t;return o.length===0&&r.length===0?F(Ne(H({},t),{guardsResult:!0})):cw(o,n,s,i).pipe(Xt(c=>c&&ew(c)?lw(n,r,i,e):F(c)),Z(c=>Ne(H({},t),{guardsResult:c})))})}function cw(i,e,t,n){return Re(i).pipe(Xt(s=>mw(s.component,s.route,t,e,n)),yi(s=>s!==!0,!0))}function lw(i,e,t,n){return Re(e).pipe(yn(s=>$i(uw(s.route.parent,n),hw(s.route,n),fw(i,s.path,t),dw(i,s.route,t))),yi(s=>s!==!0,!0))}function hw(i,e){return i!==null&&e&&e(new $c(i)),F(!0)}function uw(i,e){return i!==null&&e&&e(new Qc(i)),F(!0)}function dw(i,e,t){let n=e.routeConfig?e.routeConfig.canActivate:null;if(!n||n.length===0)return F(!0);let s=n.map(r=>Q1(()=>{let o=ao(e)??t,c=gs(r,o),l=nw(c)?c.canActivate(e,i):en(o,()=>c(e,i));return Mi(l).pipe(yi())}));return F(s).pipe(vs())}function fw(i,e,t){let n=e[e.length-1],r=e.slice(0,e.length-1).reverse().map(o=>Qb(o)).filter(o=>o!==null).map(o=>Q1(()=>{let c=o.guards.map(l=>{let h=ao(o.node)??t,f=gs(l,h),v=iw(f)?f.canActivateChild(n,i):en(h,()=>f(n,i));return Mi(v).pipe(yi())});return F(c).pipe(vs())}));return F(r).pipe(vs())}function mw(i,e,t,n,s){let r=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!r||r.length===0)return F(!0);let o=r.map(c=>{let l=ao(e)??s,h=gs(c,l),f=sw(h)?h.canDeactivate(i,e,t,n):en(l,()=>h(i,e,t,n));return Mi(f).pipe(yi())});return F(o).pipe(vs())}function vw(i,e,t,n){let s=e.canLoad;if(s===void 0||s.length===0)return F(!0);let r=s.map(o=>{let c=gs(o,i),l=tw(c)?c.canLoad(e,t):en(i,()=>c(e,t));return Mi(l)});return F(r).pipe(vs(),Du(n))}function Du(i){return $3(Be(e=>{if(typeof e!="boolean")throw b2(i,e)}),Z(e=>e===!0))}function pw(i,e,t,n){let s=e.canMatch;if(!s||s.length===0)return F(!0);let r=s.map(o=>{let c=gs(o,i),l=rw(c)?c.canMatch(e,t):en(i,()=>c(e,t));return Mi(l)});return F(r).pipe(vs(),Du(n))}var io=class{constructor(e){this.segmentGroup=e||null}},so=class extends Error{constructor(e){super(),this.urlTree=e}};function os(i){return Rr(new io(i))}function gw(i){return Rr(new Pe(4e3,!1))}function yw(i){return Rr(Lu(!1,Yt.GuardRejected))}var a6=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let n=[],s=t.root;for(;;){if(n=n.concat(s.segments),s.numberOfChildren===0)return F(n);if(s.numberOfChildren>1||!s.children[ce])return gw(`${e.redirectTo}`);s=s.children[ce]}}applyRedirectCommands(e,t,n,s,r){if(typeof t!="string"){let c=t,{queryParams:l,fragment:h,routeConfig:f,url:v,outlet:p,params:I,data:A,title:P}=s,R=en(r,()=>c({params:I,data:A,queryParams:l,fragment:h,routeConfig:f,url:v,outlet:p,title:P}));if(R instanceof Zn)throw new so(R);t=R}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,n);if(t[0]==="/")throw new so(o);return o}applyRedirectCreateUrlTree(e,t,n,s){let r=this.createSegmentGroup(e,t.root,n,s);return new Zn(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let n={};return Object.entries(e).forEach(([s,r])=>{if(typeof r=="string"&&r[0]===":"){let c=r.substring(1);n[s]=t[c]}else n[s]=r}),n}createSegmentGroup(e,t,n,s){let r=this.createSegments(e,t.segments,n,s),o={};return Object.entries(t.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(e,l,n,s)}),new Ie(r,o)}createSegments(e,t,n,s){return t.map(r=>r.path[0]===":"?this.findPosParam(e,r,s):this.findOrReturn(r,n))}findPosParam(e,t,n){let s=n[t.path.substring(1)];if(!s)throw new Pe(4001,!1);return s}findOrReturn(e,t){let n=0;for(let s of t){if(s.path===e.path)return t.splice(n),s;n++}return e}},c6={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bw(i,e,t,n,s){let r=ku(i,e,t);return r.matched?(n=_b(e,n),pw(n,e,t,s).pipe(Z(o=>o===!0?r:H({},c6)))):F(r)}function ku(i,e,t){if(e.path==="**")return ww(t);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||t.length>0)?H({},c6):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let s=(e.matcher||vb)(t,i,e);if(!s)return H({},c6);let r={};Object.entries(s.posParams??{}).forEach(([c,l])=>{r[c]=l.path});let o=s.consumed.length>0?H(H({},r),s.consumed[s.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:o,positionalParamSegments:s.posParams??{}}}function ww(i){return{matched:!0,parameters:i.length>0?pu(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function hu(i,e,t,n){return t.length>0&&Tw(i,t,n)?{segmentGroup:new Ie(e,Ew(n,new Ie(t,i.children))),slicedSegments:[]}:t.length===0&&Iw(i,t,n)?{segmentGroup:new Ie(i.segments,zw(i,t,n,i.children)),slicedSegments:t}:{segmentGroup:new Ie(i.segments,i.children),slicedSegments:t}}function zw(i,e,t,n){let s={};for(let r of t)if(T2(i,e,r)&&!n[un(r)]){let o=new Ie([],{});s[un(r)]=o}return H(H({},n),s)}function Ew(i,e){let t={};t[ce]=e;for(let n of i)if(n.path===""&&un(n)!==ce){let s=new Ie([],{});t[un(n)]=s}return t}function Tw(i,e,t){return t.some(n=>T2(i,e,n)&&un(n)!==ce)}function Iw(i,e,t){return t.some(n=>T2(i,e,n))}function T2(i,e,t){return(i.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Cw(i,e,t){return e.length===0&&!i.children[t]}var l6=class{};function Mw(i,e,t,n,s,r,o="emptyOnly"){return new h6(i,e,t,n,s,o,r).recognize()}var Sw=31,h6=class{constructor(e,t,n,s,r,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=n,this.config=s,this.urlTree=r,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new a6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Pe(4002,`'${e.segmentGroup}'`)}recognize(){let e=hu(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:t,rootSnapshot:n})=>{let s=new Zt(n,t),r=new y2("",s),o=Nb(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(o),{state:r,tree:o}}))}match(e){let t=new ls([],Object.freeze({}),Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(Z(n=>({children:n,rootSnapshot:t})),pi(n=>{if(n instanceof so)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof io?this.noMatchError(n):n}))}processSegmentGroup(e,t,n,s,r){return n.segments.length===0&&n.hasChildren()?this.processChildren(e,t,n,r):this.processSegment(e,t,n,n.segments,s,!0,r).pipe(Z(o=>o instanceof Zt?[o]:[]))}processChildren(e,t,n,s){let r=[];for(let o of Object.keys(n.children))o==="primary"?r.unshift(o):r.push(o);return Re(r).pipe(yn(o=>{let c=n.children[o],l=jb(t,o);return this.processSegmentGroup(e,l,c,o,s)}),lc((o,c)=>(o.push(...c),o)),oc(null),G5(),Xt(o=>{if(o===null)return os(n);let c=Hu(o);return Vw(c),F(c)}))}processSegment(e,t,n,s,r,o,c){return Re(t).pipe(yn(l=>this.processSegmentAgainstRoute(l._injector??e,t,l,n,s,r,o,c).pipe(pi(h=>{if(h instanceof io)return F(null);throw h}))),yi(l=>!!l),pi(l=>{if(Pu(l))return Cw(n,s,r)?F(new l6):os(n);throw l}))}processSegmentAgainstRoute(e,t,n,s,r,o,c,l){return un(n)!==o&&(o===ce||!T2(s,r,n))?os(s):n.redirectTo===void 0?this.matchSegmentAgainstRoute(e,s,n,r,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,n,r,o,l):os(s)}expandSegmentAgainstRouteUsingRedirect(e,t,n,s,r,o,c){let{matched:l,parameters:h,consumedSegments:f,positionalParamSegments:v,remainingSegments:p}=ku(t,s,r);if(!l)return os(t);typeof s.redirectTo=="string"&&s.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Sw&&(this.allowRedirects=!1));let I=new ls(r,h,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,uu(s),un(s),s.component??s._loadedComponent??null,s,du(s)),A=g2(I,c,this.paramsInheritanceStrategy);I.params=Object.freeze(A.params),I.data=Object.freeze(A.data);let P=this.applyRedirects.applyRedirectCommands(f,s.redirectTo,v,I,e);return this.applyRedirects.lineralizeSegments(s,P).pipe(Xt(R=>this.processSegment(e,n,t,R.concat(p),o,!1,c)))}matchSegmentAgainstRoute(e,t,n,s,r,o){let c=bw(t,n,s,e,this.urlSerializer);return n.path==="**"&&(t.children={}),c.pipe(ot(l=>l.matched?(e=n._injector??e,this.getChildConfig(e,n,s).pipe(ot(({routes:h})=>{let f=n._loadedInjector??e,{parameters:v,consumedSegments:p,remainingSegments:I}=l,A=new ls(p,v,Object.freeze(H({},this.urlTree.queryParams)),this.urlTree.fragment,uu(n),un(n),n.component??n._loadedComponent??null,n,du(n)),P=g2(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(P.params),A.data=Object.freeze(P.data);let{segmentGroup:R,slicedSegments:B}=hu(t,p,I,h);if(B.length===0&&R.hasChildren())return this.processChildren(f,h,R,A).pipe(Z(te=>new Zt(A,te)));if(h.length===0&&B.length===0)return F(new Zt(A,[]));let J=un(n)===r;return this.processSegment(f,h,R,B,J?ce:r,!0,A).pipe(Z(te=>new Zt(A,te instanceof Zt?[te]:[])))}))):os(t)))}getChildConfig(e,t,n){return t.children?F({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?F({routes:t._loadedRoutes,injector:t._loadedInjector}):vw(e,t,n,this.urlSerializer).pipe(Xt(s=>s?this.configLoader.loadChildren(e,t).pipe(Be(r=>{t._loadedRoutes=r.routes,t._loadedInjector=r.injector})):yw(t))):F({routes:[],injector:e})}};function Vw(i){i.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function Aw(i){let e=i.value.routeConfig;return e&&e.path===""}function Hu(i){let e=[],t=new Set;for(let n of i){if(!Aw(n)){e.push(n);continue}let s=e.find(r=>n.value.routeConfig===r.value.routeConfig);s!==void 0?(s.children.push(...n.children),t.add(s)):e.push(n)}for(let n of t){let s=Hu(n.children);e.push(new Zt(n.value,s))}return e.filter(n=>!t.has(n))}function uu(i){return i.data||{}}function du(i){return i.resolve||{}}function Rw(i,e,t,n,s,r){return Xt(o=>Mw(i,e,t,n,o.extractedUrl,s,r).pipe(Z(({state:c,tree:l})=>Ne(H({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function xw(i,e){return Xt(t=>{let{targetSnapshot:n,guards:{canActivateChecks:s}}=t;if(!s.length)return F(t);let r=new Set(s.map(l=>l.route)),o=new Set;for(let l of r)if(!o.has(l))for(let h of Fu(l))o.add(h);let c=0;return Re(o).pipe(yn(l=>r.has(l)?Ow(l,n,i,e):(l.data=g2(l,l.parent,i).resolve,F(void 0))),Be(()=>c++),ac(1),Xt(l=>c===o.size?F(t):vi))})}function Fu(i){let e=i.children.map(t=>Fu(t)).flat();return[i,...e]}function Ow(i,e,t,n){let s=i.routeConfig,r=i._resolve;return s?.title!==void 0&&!xu(s)&&(r[oo]=s.title),Lw(r,i,e,n).pipe(Z(o=>(i._resolvedData=o,i.data=g2(i,i.parent,t).resolve,null)))}function Lw(i,e,t,n){let s=_c(i);if(s.length===0)return F({});let r={};return Re(s).pipe(Xt(o=>Nw(i[o],e,t,n).pipe(yi(),Be(c=>{if(c instanceof no)throw b2(new ds,c);r[o]=c}))),ac(1),L4(r),pi(o=>Pu(o)?vi:Rr(o)))}function Nw(i,e,t,n){let s=ao(e)??n,r=gs(i,s),o=r.resolve?r.resolve(e,t):en(s,()=>r(e,t));return Mi(o)}function Fc(i){return ot(e=>{let t=i(e);return t?Re(t).pipe(Z(()=>e)):F(e)})}var Bu=(()=>{let e=class e{buildTitle(n){let s,r=n.root;for(;r!==void 0;)s=this.getResolvedTitleForRoute(r)??s,r=r.children.find(o=>o.outlet===ce);return s}getResolvedTitleForRoute(n){return n.data[oo]}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:()=>x(Pw),providedIn:"root"});let i=e;return i})(),Pw=(()=>{let e=class e extends Bu{constructor(n){super(),this.title=n}updateTitle(n){let s=this.buildTitle(n);s!==void 0&&this.title.setTitle(s)}};e.\u0275fac=function(s){return new(s||e)(V(su))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ho=new X("",{providedIn:"root",factory:()=>({})}),Dw=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275cmp=De({type:e,selectors:[["ng-component"]],standalone:!0,features:[ke],decls:1,vars:0,template:function(s,r){s&1&&ue(0,"router-outlet")},dependencies:[qb],encapsulation:2});let i=e;return i})();function f6(i){let e=i.children&&i.children.map(f6),t=e?Ne(H({},i),{children:e}):H({},i);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=Dw),t}var ro=new X(""),m6=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(q4)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return F(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let s=Mi(n.loadComponent()).pipe(Z(_u),Be(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),an(()=>{this.componentLoaders.delete(n)})),r=new Ar(s,()=>new q).pipe(ec());return this.componentLoaders.set(n,r),r}loadChildren(n,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return F({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);let o=kw(s,this.compiler,n,this.onLoadEndListener).pipe(an(()=>{this.childrenLoaders.delete(s)})),c=new Ar(o,()=>new q).pipe(ec());return this.childrenLoaders.set(s,c),c}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function kw(i,e,t,n){return Mi(i.loadChildren()).pipe(Z(_u),Xt(s=>s instanceof y7||Array.isArray(s)?F(s):Re(e.compileModuleAsync(s))),Z(s=>{n&&n(i);let r,o,c=!1;return Array.isArray(s)?(o=s,c=!0):(r=s.create(t).injector,o=r.get(ro,[],{optional:!0,self:!0}).flat()),{routes:o.map(f6),injector:r}}))}function Hw(i){return i&&typeof i=="object"&&"default"in i}function _u(i){return Hw(i)?i.default:i}var v6=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:()=>x(Fw),providedIn:"root"});let i=e;return i})(),Fw=(()=>{let e=class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,s){return n}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ju=new X(""),Uu=new X("");function Bw(i,e,t){let n=i.get(Uu),s=i.get(ne);return i.get(Y).runOutsideAngular(()=>{if(!s.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(h=>setTimeout(h));let r,o=new Promise(h=>{r=h}),c=s.startViewTransition(()=>(r(),_w(i))),{onViewTransitionCreated:l}=n;return l&&en(i,()=>l({transition:c,from:e,to:t})),o})}function _w(i){return new Promise(e=>{bi({read:()=>setTimeout(e)},{injector:i})})}var jw=new X(""),I2=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new q,this.transitionAbortSubject=new q,this.configLoader=x(m6),this.environmentInjector=x(_n),this.urlSerializer=x(ps),this.rootContexts=x(co),this.location=x(c1),this.inputBindingEnabled=x(E2,{optional:!0})!==null,this.titleStrategy=x(Bu),this.options=x(ho,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(v6),this.createViewTransition=x(ju,{optional:!0}),this.navigationErrorHandler=x(jw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>F(void 0),this.rootComponentType=null;let n=r=>this.events.next(new Zc(r)),s=r=>this.events.next(new Yc(r));this.configLoader.onLoadEndListener=s,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let s=++this.navigationId;this.transitions?.next(Ne(H(H({},this.transitions.value),n),{id:s}))}setupNavigations(n,s,r){return this.transitions=new Ht({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Yr,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xe(o=>o.id!==0),Z(o=>Ne(H({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ot(o=>{let c=!1,l=!1;return F(o).pipe(ot(h=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Yt.SupersededByNewNavigation),vi;this.currentTransition=o,this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,targetBrowserUrl:typeof h.extras.browserUrl=="string"?this.urlSerializer.parse(h.extras.browserUrl):h.extras.browserUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Ne(H({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),v=h.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!f&&v!=="reload"){let p="";return this.events.next(new Ii(h.id,this.urlSerializer.serialize(h.rawUrl),p,d2.IgnoredSameUrlNavigation)),h.resolve(!1),vi}if(this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return F(h).pipe(ot(p=>{let I=this.transitions?.getValue();return this.events.next(new fs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),I!==this.transitions?.getValue()?vi:Promise.resolve(p)}),Rw(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=Ne(H({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let I=new f2(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(I)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(h.currentRawUrl)){let{id:p,extractedUrl:I,source:A,restoredState:P,extras:R}=h,B=new fs(p,this.urlSerializer.serialize(I),A,P);this.events.next(B);let J=Au(this.rootComponentType).snapshot;return this.currentTransition=o=Ne(H({},h),{targetSnapshot:J,urlAfterRedirects:I,extras:Ne(H({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=I,F(o)}else{let p="";return this.events.next(new Ii(h.id,this.urlSerializer.serialize(h.extractedUrl),p,d2.IgnoredByUrlHandlingStrategy)),h.resolve(!1),vi}}),Be(h=>{let f=new Wc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}),Z(h=>(this.currentTransition=o=Ne(H({},h),{guards:Yb(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),o)),aw(this.environmentInjector,h=>this.events.next(h)),Be(h=>{if(o.guardsResult=h.guardsResult,h.guardsResult&&typeof h.guardsResult!="boolean")throw b2(this.urlSerializer,h.guardsResult);let f=new Xc(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.events.next(f)}),xe(h=>h.guardsResult?!0:(this.cancelNavigationTransition(h,"",Yt.GuardRejected),!1)),Fc(h=>{if(h.guards.canActivateChecks.length)return F(h).pipe(Be(f=>{let v=new Gc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}),ot(f=>{let v=!1;return F(f).pipe(xw(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>v=!0,complete:()=>{v||this.cancelNavigationTransition(f,"",Yt.NoDataFromResolver)}}))}),Be(f=>{let v=new Kc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}))}),Fc(h=>{let f=v=>{let p=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(v.routeConfig).pipe(Be(I=>{v.component=I}),Z(()=>{})));for(let I of v.children)p.push(...f(I));return p};return Y1(f(h.targetSnapshot.root)).pipe(oc(null),Et(1))}),Fc(()=>this.afterPreactivation()),ot(()=>{let{currentSnapshot:h,targetSnapshot:f}=o,v=this.createViewTransition?.(this.environmentInjector,h.root,f.root);return v?Re(v).pipe(Z(()=>o)):F(o)}),Z(h=>{let f=Wb(n.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return this.currentTransition=o=Ne(H({},h),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,o}),Be(()=>{this.events.next(new eo)}),Zb(this.rootContexts,n.routeReuseStrategy,h=>this.events.next(h),this.inputBindingEnabled),Et(1),Be({next:h=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sn(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects))),this.titleStrategy?.updateTitle(h.targetRouterState.snapshot),h.resolve(!0)},complete:()=>{c=!0}}),ve(this.transitionAbortSubject.pipe(Be(h=>{throw h}))),an(()=>{!c&&!l&&this.cancelNavigationTransition(o,"",Yt.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),pi(h=>{if(l=!0,Nu(h))this.events.next(new Kn(o.id,this.urlSerializer.serialize(o.extractedUrl),h.message,h.cancellationCode)),Kb(h)?this.events.next(new ms(h.url,h.navigationBehaviorOptions)):o.resolve(!1);else{let f=new $r(o.id,this.urlSerializer.serialize(o.extractedUrl),h,o.targetSnapshot??void 0);try{let v=en(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(v instanceof no){let{message:p,cancellationCode:I}=b2(this.urlSerializer,v);this.events.next(new Kn(o.id,this.urlSerializer.serialize(o.extractedUrl),p,I)),this.events.next(new ms(v.redirectTo,v.navigationBehaviorOptions))}else{this.events.next(f);let p=n.errorHandler(h);o.resolve(!!p)}}catch(v){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(v)}}return vi}))}))}cancelNavigationTransition(n,s,r){let o=new Kn(n.id,this.urlSerializer.serialize(n.extractedUrl),s,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),s=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==s?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Uw(i){return i!==Yr}var qw=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:()=>x(Ww),providedIn:"root"});let i=e;return i})(),u6=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},Ww=(()=>{let e=class e extends u6{};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=bn(e)))(r||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),qu=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:()=>x(Xw),providedIn:"root"});let i=e;return i})(),Xw=(()=>{let e=class e extends qu{constructor(){super(...arguments),this.location=x(c1),this.urlSerializer=x(ps),this.options=x(ho,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(v6),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Au(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(s=>{s.type==="popstate"&&n(s.url,s.state)})}handleRouterEvent(n,s){if(n instanceof fs)this.stateMemento=this.createStateMemento();else if(n instanceof Ii)this.rawUrlTree=s.initialUrl;else if(n instanceof f2){if(this.urlUpdateStrategy==="eager"&&!s.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(s.targetBrowserUrl??r,s)}}else n instanceof eo?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,this.urlUpdateStrategy==="deferred"&&!s.extras.skipLocationChange&&this.setBrowserUrl(s.targetBrowserUrl??this.rawUrlTree,s)):n instanceof Kn&&(n.code===Yt.GuardRejected||n.code===Yt.NoDataFromResolver)?this.restoreHistory(s):n instanceof $r?this.restoreHistory(s,!0):n instanceof sn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,s){let r=n instanceof Zn?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||s.extras.replaceUrl){let o=this.browserPageId,c=H(H({},s.extras.state),this.generateNgRouterState(s.id,o));this.location.replaceState(r,"",c)}else{let o=H(H({},s.extras.state),this.generateNgRouterState(s.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,s=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(s&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,s){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:s}:{navigationId:n}}};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=bn(e)))(r||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Kr=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(Kr||{});function Wu(i,e){i.events.pipe(xe(t=>t instanceof sn||t instanceof Kn||t instanceof $r||t instanceof Ii),Z(t=>t instanceof sn||t instanceof Ii?Kr.COMPLETE:(t instanceof Kn?t.code===Yt.Redirect||t.code===Yt.SupersededByNewNavigation:!1)?Kr.REDIRECTING:Kr.FAILED),xe(t=>t!==Kr.REDIRECTING),Et(1)).subscribe(()=>{e()})}function Gw(i){throw i}var Kw={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kt=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(j4),this.stateManager=x(qu),this.options=x(ho,{optional:!0})||{},this.pendingTasks=x(D4),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(I2),this.urlSerializer=x(ps),this.location=x(c1),this.urlHandlingStrategy=x(v6),this._events=new q,this.errorHandler=this.options.errorHandler||Gw,this.navigated=!1,this.routeReuseStrategy=x(qw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(ro,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(E2,{optional:!0}),this.eventsSubscription=new Pt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(s=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(s,o),s instanceof Kn&&s.code!==Yt.Redirect&&s.code!==Yt.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof sn)this.navigated=!0;else if(s instanceof ms){let c=s.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(s.url,r.currentRawUrl),h=H({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Uw(r.source)},c);this.scheduleNavigation(l,Yr,null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Qw(s)&&this._events.next(s)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Yr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",s)},0)})}navigateToSyncWithBrowser(n,s,r){let o={replaceUrl:!0},c=r?.navigationId?r:null;if(r){let h=H({},r);delete h.navigationId,delete h.\u0275routerPageId,Object.keys(h).length!==0&&(o.state=h)}let l=this.parseUrl(n);this.scheduleNavigation(l,s,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(f6),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,s={}){let{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:l,preserveFragment:h}=s,f=h?this.currentUrlTree.fragment:c,v=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":v=H(H({},this.currentUrlTree.queryParams),o);break;case"preserve":v=this.currentUrlTree.queryParams;break;default:v=o||null}v!==null&&(v=this.removeEmptyProps(v));let p;try{let I=r?r.snapshot:this.routerState.snapshot.root;p=Cu(I)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return Mu(p,n,v,f??null)}navigateByUrl(n,s={skipLocationChange:!1}){let r=u1(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,Yr,null,s)}navigate(n,s={skipLocationChange:!1}){return Yw(n),this.navigateByUrl(this.createUrlTree(n,s),s)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,s){let r;if(s===!0?r=H({},Kw):s===!1?r=H({},Zw):r=s,u1(n))return ru(this.currentUrlTree,n,r);let o=this.parseUrl(n);return ru(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((s,[r,o])=>(o!=null&&(s[r]=o),s),{})}scheduleNavigation(n,s,r,o,c){if(this.disposed)return Promise.resolve(!1);let l,h,f;c?(l=c.resolve,h=c.reject,f=c.promise):f=new Promise((p,I)=>{l=p,h=I});let v=this.pendingTasks.add();return Wu(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(v))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:l,reject:h,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(p=>Promise.reject(p))}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Yw(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new Pe(4008,!1)}function Qw(i){return!(i instanceof eo)&&!(i instanceof ms)}var C2=(()=>{let e=class e{constructor(n,s,r,o,c,l){this.router=n,this.route=s,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.locationStrategy=l,this.href=null,this.onChanges=new q,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let h=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=h==="a"||h==="area",this.isAnchorElement?this.subscription=n.events.subscribe(f=>{f instanceof sn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(u1(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,s,r,o,c){let l=this.urlTree;if(l===null||this.isAnchorElement&&(n!==0||s||r||o||c||typeof this.target=="string"&&this.target!="_self"))return!0;let h={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,h),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let s=this.href===null?null:v7(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",s)}applyAttributeValue(n,s){let r=this.renderer,o=this.el.nativeElement;s!==null?r.setAttribute(o,n,s):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:u1(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(s){return new(s||e)(L(kt),L(Ci),r7("tabindex"),L(Ft),L(he),L(Dr))},e.\u0275dir=pe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(s,r){s&1&&Le("click",function(c){return r.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),s&2&&Nr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ge],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ge],replaceUrl:[2,"replaceUrl","replaceUrl",ge],routerLink:"routerLink"},standalone:!0,features:[Qe,_e]});let i=e;return i})();var z2=class{};var Jw=(()=>{let e=class e{constructor(n,s,r,o,c){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(xe(n=>n instanceof sn),yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,s){let r=[];for(let o of s){o.providers&&!o._injector&&(o._injector=mc(o.providers,n,`Route: ${o.path}`));let c=o._injector??n,l=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Re(r).pipe(rc())}preloadConfig(n,s){return this.preloadingStrategy.preload(s,()=>{let r;s.loadChildren&&s.canLoad===void 0?r=this.loader.loadChildren(n,s):r=F(null);let o=r.pipe(Xt(c=>c===null?F(void 0):(s._loadedRoutes=c.routes,s._loadedInjector=c.injector,this.processRoutes(c.injector??n,c.routes))));if(s.loadComponent&&!s._loadedComponent){let c=this.loader.loadComponent(s);return Re([o,c]).pipe(rc())}else return o})}};e.\u0275fac=function(s){return new(s||e)(V(kt),V(q4),V(_n),V(z2),V(m6))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),p6=new X(""),Xu=(()=>{let e=class e{constructor(n,s,r,o,c={}){this.urlSerializer=n,this.transitions=s,this.viewportScroller=r,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration||="disabled",c.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof fs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof sn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Ii&&n.code===d2.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof m2&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,s){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new m2(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,s))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(s){g7()},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function Mx(i,...e){return Tt([{provide:ro,multi:!0,useValue:i},[],{provide:Ci,useFactory:Gu,deps:[kt]},{provide:U4,multi:!0,useFactory:Ku},e.map(t=>t.\u0275providers)])}function Gu(i){return i.routerState.root}function ys(i,e){return{\u0275kind:i,\u0275providers:e}}function Sx(i={}){return ys(4,[{provide:p6,useFactory:()=>{let t=x(bc),n=x(Y),s=x(I2),r=x(ps);return new Xu(r,s,t,n,i)}}])}function Ku(){let i=x(Ge);return e=>{let t=i.get(rs);if(e!==t.components[0])return;let n=i.get(kt),s=i.get(Zu);i.get(g6)===1&&n.initialNavigation(),i.get(Yu,null,hc.Optional)?.setUpPreloading(),i.get(p6,null,hc.Optional)?.init(),n.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}var Zu=new X("",{factory:()=>new q}),g6=new X("",{providedIn:"root",factory:()=>1});function $w(){return ys(2,[{provide:g6,useValue:0},{provide:vc,multi:!0,deps:[Ge],useFactory:e=>{let t=e.get(x7,Promise.resolve());return()=>t.then(()=>new Promise(n=>{let s=e.get(kt),r=e.get(Zu);Wu(s,()=>{n(!0)}),e.get(I2).afterPreactivation=()=>(n(!0),r.closed?F(void 0):r),s.initialNavigation()}))}}])}function ez(){return ys(3,[{provide:vc,multi:!0,useFactory:()=>{let e=x(kt);return()=>{e.setUpLocationChangeListener()}}},{provide:g6,useValue:2}])}var Yu=new X("");function tz(i){return ys(0,[{provide:Yu,useExisting:Jw},{provide:z2,useExisting:i}])}function nz(){return ys(8,[lu,{provide:E2,useExisting:lu}])}function iz(i){let e=[{provide:ju,useValue:Bw},{provide:Uu,useValue:H({skipNextTransition:!!i?.skipInitialTransition},i)}];return ys(9,e)}var fu=new X("ROUTER_FORROOT_GUARD"),sz=[c1,{provide:ps,useClass:ds},kt,co,{provide:Ci,useFactory:Gu,deps:[kt]},m6,[]],M2=(()=>{let e=class e{constructor(n){}static forRoot(n,s){return{ngModule:e,providers:[sz,[],{provide:ro,multi:!0,useValue:n},{provide:fu,useFactory:cz,deps:[[kt,new mt,new e7]]},{provide:ho,useValue:s||{}},s?.useHash?oz():az(),rz(),s?.preloadingStrategy?tz(s.preloadingStrategy).\u0275providers:[],s?.initialNavigation?lz(s):[],s?.bindToComponentInputs?nz().\u0275providers:[],s?.enableViewTransitions?iz().\u0275providers:[],hz()]}}static forChild(n){return{ngModule:e,providers:[{provide:ro,multi:!0,useValue:n}]}}};e.\u0275fac=function(s){return new(s||e)(V(fu,8))},e.\u0275mod=oe({type:e}),e.\u0275inj=re({});let i=e;return i})();function rz(){return{provide:p6,useFactory:()=>{let i=x(bc),e=x(Y),t=x(ho),n=x(I2),s=x(ps);return t.scrollOffset&&i.setOffset(t.scrollOffset),new Xu(s,n,i,e,t)}}}function oz(){return{provide:Dr,useClass:L7}}function az(){return{provide:Dr,useClass:O7}}function cz(i){return"guarded"}function lz(i){return[i.initialNavigation==="disabled"?ez().\u0275providers:[],i.initialNavigation==="enabledBlocking"?$w().\u0275providers:[]]}var mu=new X("");function hz(){return[{provide:mu,useFactory:Ku},{provide:U4,multi:!0,useExisting:mu}]}var bs=class{},Ju=(()=>{class i extends bs{getTranslation(t){return F({})}static \u0275fac=(()=>{let t;return function(s){return(t||(t=bn(i)))(s||i)}})();static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),uo=class{},$u=(()=>{class i{handle(t){return t.key}static \u0275fac=function(n){return new(n||i)};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})();function S2(i,e){if(i===e)return!0;if(i===null||e===null)return!1;if(i!==i&&e!==e)return!0;let t=typeof i,n=typeof e,s,r,o;if(t==n&&t=="object")if(Array.isArray(i)){if(!Array.isArray(e))return!1;if((s=i.length)==e.length){for(r=0;r<s;r++)if(!S2(i[r],e[r]))return!1;return!0}}else{if(Array.isArray(e))return!1;o=Object.create(null);for(r in i){if(!S2(i[r],e[r]))return!1;o[r]=!0}for(r in e)if(!(r in o)&&typeof e[r]<"u")return!1;return!0}return!1}function Si(i){return typeof i<"u"&&i!==null}function y6(i){return i&&typeof i=="object"&&!Array.isArray(i)}function nd(i,e){let t=Object.assign({},i);return y6(i)&&y6(e)&&Object.keys(e).forEach(n=>{y6(e[n])?n in i?t[n]=nd(i[n],e[n]):Object.assign(t,{[n]:e[n]}):Object.assign(t,{[n]:e[n]})}),t}var ws=class{},ed=(()=>{class i extends ws{templateMatcher=/{{\s?([^{}\s]*)\s?}}/g;interpolate(t,n){let s;return typeof t=="string"?s=this.interpolateString(t,n):typeof t=="function"?s=this.interpolateFunction(t,n):s=t,s}getValue(t,n){let s=typeof n=="string"?n.split("."):[n];n="";do n+=s.shift(),Si(t)&&Si(t[n])&&(typeof t[n]=="object"||!s.length)?(t=t[n],n=""):s.length?n+=".":t=void 0;while(s.length);return t}interpolateFunction(t,n){return t(n)}interpolateString(t,n){return n?t.replace(this.templateMatcher,(s,r)=>{let o=this.getValue(n,r);return Si(o)?o:s}):t}static \u0275fac=(()=>{let t;return function(s){return(t||(t=bn(i)))(s||i)}})();static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),zs=class{},td=(()=>{class i extends zs{compile(t,n){return t}compileTranslations(t,n){return t}static \u0275fac=(()=>{let t;return function(s){return(t||(t=bn(i)))(s||i)}})();static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),V2=class{defaultLang;currentLang=this.defaultLang;translations={};langs=[];onTranslationChange=new Ee;onLangChange=new Ee;onDefaultLangChange=new Ee},b6=new X("USE_STORE"),w6=new X("USE_DEFAULT_LANG"),z6=new X("DEFAULT_LANGUAGE"),E6=new X("USE_EXTEND"),d1=(()=>{class i{store;currentLoader;compiler;parser;missingTranslationHandler;useDefaultLang;isolate;extend;loadingTranslations;pending=!1;_onTranslationChange=new Ee;_onLangChange=new Ee;_onDefaultLangChange=new Ee;_defaultLang;_currentLang;_langs=[];_translations={};_translationRequests={};get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}constructor(t,n,s,r,o,c=!0,l=!1,h=!1,f){this.store=t,this.currentLoader=n,this.compiler=s,this.parser=r,this.missingTranslationHandler=o,this.useDefaultLang=c,this.isolate=l,this.extend=h,f&&this.setDefaultLang(f)}setDefaultLang(t){if(t===this.defaultLang)return;let n=this.retrieveTranslations(t);typeof n<"u"?(this.defaultLang==null&&(this.defaultLang=t),n.pipe(Et(1)).subscribe(s=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return F(this.translations[t]);let n=this.retrieveTranslations(t);return typeof n<"u"?(this.currentLang||(this.currentLang=t),n.pipe(Et(1)).subscribe(s=>{this.changeLang(t)}),n):(this.changeLang(t),F(this.translations[t]))}retrieveTranslations(t){let n;return(typeof this.translations[t]>"u"||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),n=this._translationRequests[t]),n}getTranslation(t){this.pending=!0;let n=this.currentLoader.getTranslation(t).pipe(xr(1),Et(1));return this.loadingTranslations=n.pipe(Z(s=>this.compiler.compileTranslations(s,t)),xr(1),Et(1)),this.loadingTranslations.subscribe({next:s=>{this.translations[t]=this.extend&&this.translations[t]?H(H({},s),this.translations[t]):s,this.updateLangs(),this.pending=!1},error:s=>{this.pending=!1}}),n}setTranslation(t,n,s=!1){n=this.compiler.compileTranslations(n,t),(s||this.extend)&&this.translations[t]?this.translations[t]=nd(this.translations[t],n):this.translations[t]=n,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(n=>{this.langs.indexOf(n)===-1&&this.langs.push(n)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,n,s){let r;if(n instanceof Array){let o={},c=!1;for(let l of n)o[l]=this.getParsedResult(t,l,s),ft(o[l])&&(c=!0);if(c){let l=n.map(h=>ft(o[h])?o[h]:F(o[h]));return X5(l).pipe(Z(h=>{let f={};return h.forEach((v,p)=>{f[n[p]]=v}),f}))}return o}if(t&&(r=this.parser.interpolate(this.parser.getValue(t,n),s)),typeof r>"u"&&this.defaultLang!=null&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(r=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],n),s)),typeof r>"u"){let o={key:n,translateService:this};typeof s<"u"&&(o.interpolateParams=s),r=this.missingTranslationHandler.handle(o)}return typeof r<"u"?r:n}get(t,n){if(!Si(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(yn(s=>(s=this.getParsedResult(s,t,n),ft(s)?s:F(s))));{let s=this.getParsedResult(this.translations[this.currentLang],t,n);return ft(s)?s:F(s)}}getStreamOnTranslationChange(t,n){if(!Si(t)||!t.length)throw new Error('Parameter "key" required');return $i(Q1(()=>this.get(t,n)),this.onTranslationChange.pipe(ot(s=>{let r=this.getParsedResult(s.translations,t,n);return typeof r.subscribe=="function"?r:F(r)})))}stream(t,n){if(!Si(t)||!t.length)throw new Error('Parameter "key" required');return $i(Q1(()=>this.get(t,n)),this.onLangChange.pipe(ot(s=>{let r=this.getParsedResult(s.translations,t,n);return ft(r)?r:F(r)})))}instant(t,n){if(!Si(t)||!t.length)throw new Error('Parameter "key" required');let s=this.getParsedResult(this.translations[this.currentLang],t,n);if(ft(s)){if(t instanceof Array){let r={};return t.forEach((o,c)=>{r[t[c]]=t[c]}),r}return t}else return s}set(t,n,s=this.currentLang){this.translations[s][t]=this.compiler.compile(n,s),this.updateLangs(),this.onTranslationChange.emit({lang:s,translations:this.translations[s]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),this.defaultLang==null&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;if(t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,!(typeof t>"u"))return t.indexOf("-")!==-1&&(t=t.split("-")[0]),t.indexOf("_")!==-1&&(t=t.split("_")[0]),t}getBrowserCultureLang(){if(typeof window>"u"||typeof window.navigator>"u")return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}static \u0275fac=function(n){return new(n||i)(V(V2),V(bs),V(zs),V(ws),V(uo),V(w6),V(b6),V(E6),V(z6))};static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})();var Vi=(()=>{class i{translate;_ref;value="";lastKey=null;lastParams=[];onTranslationChange;onLangChange;onDefaultLangChange;constructor(t,n){this.translate=t,this._ref=n}updateValue(t,n,s){let r=o=>{this.value=o!==void 0?o:t,this.lastKey=t,this._ref.markForCheck()};if(s){let o=this.translate.getParsedResult(s,t,n);ft(o.subscribe)?o.subscribe(r):r(o)}this.translate.get(t,n).subscribe(r)}transform(t,...n){if(!t||!t.length)return t;if(S2(t,this.lastKey)&&S2(n,this.lastParams))return this.value;let s;if(Si(n[0])&&n.length)if(typeof n[0]=="string"&&n[0].length){let r=n[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{s=JSON.parse(r)}catch{throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${n[0]}`)}}else typeof n[0]=="object"&&!Array.isArray(n[0])&&(s=n[0]);return this.lastKey=t,this.lastParams=n,this.updateValue(t,s),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(r=>{this.lastKey&&r.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,s,r.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(r=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,s,r.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,s))})),this.value}_dispose(){typeof this.onTranslationChange<"u"&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),typeof this.onLangChange<"u"&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),typeof this.onDefaultLangChange<"u"&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}static \u0275fac=function(n){return new(n||i)(L(d1,16),L(St,16))};static \u0275pipe=t7({name:"translate",type:i,pure:!1});static \u0275prov=N({token:i,factory:i.\u0275fac})}return i})(),En=(()=>{class i{static forRoot(t={}){return{ngModule:i,providers:[t.loader||{provide:bs,useClass:Ju},t.compiler||{provide:zs,useClass:td},t.parser||{provide:ws,useClass:ed},t.missingTranslationHandler||{provide:uo,useClass:$u},V2,{provide:b6,useValue:t.isolate},{provide:w6,useValue:t.useDefaultLang},{provide:E6,useValue:t.extend},{provide:z6,useValue:t.defaultLanguage},d1]}}static forChild(t={}){return{ngModule:i,providers:[t.loader||{provide:bs,useClass:Ju},t.compiler||{provide:zs,useClass:td},t.parser||{provide:ws,useClass:ed},t.missingTranslationHandler||{provide:uo,useClass:$u},{provide:b6,useValue:t.isolate},{provide:w6,useValue:t.useDefaultLang},{provide:E6,useValue:t.extend},{provide:z6,useValue:t.defaultLanguage},d1]}}static \u0275fac=function(n){return new(n||i)};static \u0275mod=oe({type:i});static \u0275inj=re({})}return i})();function st(i,e){uz(i)&&(i="100%");var t=dz(i);return i=e===360?i:Math.min(e,Math.max(0,parseFloat(i))),t&&(i=parseInt(String(i*e),10)/100),Math.abs(i-e)<1e-6?1:(e===360?i=(i<0?i%e+e:i%e)/parseFloat(String(e)):i=i%e/parseFloat(String(e)),i)}function fo(i){return Math.min(1,Math.max(0,i))}function uz(i){return typeof i=="string"&&i.indexOf(".")!==-1&&parseFloat(i)===1}function dz(i){return typeof i=="string"&&i.indexOf("%")!==-1}function R2(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function mo(i){return i<=1?"".concat(Number(i)*100,"%"):i}function Ai(i){return i.length===1?"0"+i:String(i)}function id(i,e,t){return{r:st(i,255)*255,g:st(e,255)*255,b:st(t,255)*255}}function I6(i,e,t){i=st(i,255),e=st(e,255),t=st(t,255);var n=Math.max(i,e,t),s=Math.min(i,e,t),r=0,o=0,c=(n+s)/2;if(n===s)o=0,r=0;else{var l=n-s;switch(o=c>.5?l/(2-n-s):l/(n+s),n){case i:r=(e-t)/l+(e<t?6:0);break;case e:r=(t-i)/l+2;break;case t:r=(i-e)/l+4;break;default:break}r/=6}return{h:r,s:o,l:c}}function T6(i,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?i+(e-i)*(6*t):t<1/2?e:t<2/3?i+(e-i)*(2/3-t)*6:i}function sd(i,e,t){var n,s,r;if(i=st(i,360),e=st(e,100),t=st(t,100),e===0)s=t,r=t,n=t;else{var o=t<.5?t*(1+e):t+e-t*e,c=2*t-o;n=T6(c,o,i+1/3),s=T6(c,o,i),r=T6(c,o,i-1/3)}return{r:n*255,g:s*255,b:r*255}}function f1(i,e,t){i=st(i,255),e=st(e,255),t=st(t,255);var n=Math.max(i,e,t),s=Math.min(i,e,t),r=0,o=n,c=n-s,l=n===0?0:c/n;if(n===s)r=0;else{switch(n){case i:r=(e-t)/c+(e<t?6:0);break;case e:r=(t-i)/c+2;break;case t:r=(i-e)/c+4;break;default:break}r/=6}return{h:r,s:l,v:o}}function rd(i,e,t){i=st(i,360)*6,e=st(e,100),t=st(t,100);var n=Math.floor(i),s=i-n,r=t*(1-e),o=t*(1-s*e),c=t*(1-(1-s)*e),l=n%6,h=[t,o,r,r,c,t][l],f=[c,t,t,o,r,r][l],v=[r,r,c,t,t,o][l];return{r:h*255,g:f*255,b:v*255}}function m1(i,e,t,n){var s=[Ai(Math.round(i).toString(16)),Ai(Math.round(e).toString(16)),Ai(Math.round(t).toString(16))];return n&&s[0].startsWith(s[0].charAt(1))&&s[1].startsWith(s[1].charAt(1))&&s[2].startsWith(s[2].charAt(1))?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function od(i,e,t,n,s){var r=[Ai(Math.round(i).toString(16)),Ai(Math.round(e).toString(16)),Ai(Math.round(t).toString(16)),Ai(fz(n))];return s&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))&&r[3].startsWith(r[3].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0)+r[3].charAt(0):r.join("")}function fz(i){return Math.round(parseFloat(i)*255).toString(16)}function C6(i){return jt(i)/255}function jt(i){return parseInt(i,16)}function ad(i){return{r:i>>16,g:(i&65280)>>8,b:i&255}}var vo={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Ut(i){var e={r:0,g:0,b:0},t=1,n=null,s=null,r=null,o=!1,c=!1;return typeof i=="string"&&(i=pz(i)),typeof i=="object"&&(Yn(i.r)&&Yn(i.g)&&Yn(i.b)?(e=id(i.r,i.g,i.b),o=!0,c=String(i.r).substr(-1)==="%"?"prgb":"rgb"):Yn(i.h)&&Yn(i.s)&&Yn(i.v)?(n=mo(i.s),s=mo(i.v),e=rd(i.h,n,s),o=!0,c="hsv"):Yn(i.h)&&Yn(i.s)&&Yn(i.l)&&(n=mo(i.s),r=mo(i.l),e=sd(i.h,n,r),o=!0,c="hsl"),Object.prototype.hasOwnProperty.call(i,"a")&&(t=i.a)),t=R2(t),{ok:o,format:i.format||c,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}var mz="[-\\+]?\\d+%?",vz="[-\\+]?\\d*\\.\\d+%?",Ri="(?:".concat(vz,")|(?:").concat(mz,")"),M6="[\\s|\\(]+(".concat(Ri,")[,|\\s]+(").concat(Ri,")[,|\\s]+(").concat(Ri,")\\s*\\)?"),S6="[\\s|\\(]+(".concat(Ri,")[,|\\s]+(").concat(Ri,")[,|\\s]+(").concat(Ri,")[,|\\s]+(").concat(Ri,")\\s*\\)?"),dn={CSS_UNIT:new RegExp(Ri),rgb:new RegExp("rgb"+M6),rgba:new RegExp("rgba"+S6),hsl:new RegExp("hsl"+M6),hsla:new RegExp("hsla"+S6),hsv:new RegExp("hsv"+M6),hsva:new RegExp("hsva"+S6),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function pz(i){if(i=i.trim().toLowerCase(),i.length===0)return!1;var e=!1;if(vo[i])i=vo[i],e=!0;else if(i==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t=dn.rgb.exec(i);return t?{r:t[1],g:t[2],b:t[3]}:(t=dn.rgba.exec(i),t?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=dn.hsl.exec(i),t?{h:t[1],s:t[2],l:t[3]}:(t=dn.hsla.exec(i),t?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=dn.hsv.exec(i),t?{h:t[1],s:t[2],v:t[3]}:(t=dn.hsva.exec(i),t?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=dn.hex8.exec(i),t?{r:jt(t[1]),g:jt(t[2]),b:jt(t[3]),a:C6(t[4]),format:e?"name":"hex8"}:(t=dn.hex6.exec(i),t?{r:jt(t[1]),g:jt(t[2]),b:jt(t[3]),format:e?"name":"hex"}:(t=dn.hex4.exec(i),t?{r:jt(t[1]+t[1]),g:jt(t[2]+t[2]),b:jt(t[3]+t[3]),a:C6(t[4]+t[4]),format:e?"name":"hex8"}:(t=dn.hex3.exec(i),t?{r:jt(t[1]+t[1]),g:jt(t[2]+t[2]),b:jt(t[3]+t[3]),format:e?"name":"hex"}:!1)))))))))}function Yn(i){return!!dn.CSS_UNIT.exec(String(i))}var x2=function(){function i(e,t){e===void 0&&(e=""),t===void 0&&(t={});var n;if(e instanceof i)return e;typeof e=="number"&&(e=ad(e)),this.originalInput=e;var s=Ut(e);this.originalInput=e,this.r=s.r,this.g=s.g,this.b=s.b,this.a=s.a,this.roundA=Math.round(100*this.a)/100,this.format=(n=t.format)!==null&&n!==void 0?n:s.format,this.gradientType=t.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=s.ok}return i.prototype.isDark=function(){return this.getBrightness()<128},i.prototype.isLight=function(){return!this.isDark()},i.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},i.prototype.getLuminance=function(){var e=this.toRgb(),t,n,s,r=e.r/255,o=e.g/255,c=e.b/255;return r<=.03928?t=r/12.92:t=Math.pow((r+.055)/1.055,2.4),o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),c<=.03928?s=c/12.92:s=Math.pow((c+.055)/1.055,2.4),.2126*t+.7152*n+.0722*s},i.prototype.getAlpha=function(){return this.a},i.prototype.setAlpha=function(e){return this.a=R2(e),this.roundA=Math.round(100*this.a)/100,this},i.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},i.prototype.toHsv=function(){var e=f1(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},i.prototype.toHsvString=function(){var e=f1(this.r,this.g,this.b),t=Math.round(e.h*360),n=Math.round(e.s*100),s=Math.round(e.v*100);return this.a===1?"hsv(".concat(t,", ").concat(n,"%, ").concat(s,"%)"):"hsva(".concat(t,", ").concat(n,"%, ").concat(s,"%, ").concat(this.roundA,")")},i.prototype.toHsl=function(){var e=I6(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},i.prototype.toHslString=function(){var e=I6(this.r,this.g,this.b),t=Math.round(e.h*360),n=Math.round(e.s*100),s=Math.round(e.l*100);return this.a===1?"hsl(".concat(t,", ").concat(n,"%, ").concat(s,"%)"):"hsla(".concat(t,", ").concat(n,"%, ").concat(s,"%, ").concat(this.roundA,")")},i.prototype.toHex=function(e){return e===void 0&&(e=!1),m1(this.r,this.g,this.b,e)},i.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},i.prototype.toHex8=function(e){return e===void 0&&(e=!1),od(this.r,this.g,this.b,this.a,e)},i.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},i.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},i.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},i.prototype.toRgbString=function(){var e=Math.round(this.r),t=Math.round(this.g),n=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(t,", ").concat(n,")"):"rgba(".concat(e,", ").concat(t,", ").concat(n,", ").concat(this.roundA,")")},i.prototype.toPercentageRgb=function(){var e=function(t){return"".concat(Math.round(st(t,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},i.prototype.toPercentageRgbString=function(){var e=function(t){return Math.round(st(t,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},i.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+m1(this.r,this.g,this.b,!1),t=0,n=Object.entries(vo);t<n.length;t++){var s=n[t],r=s[0],o=s[1];if(e===o)return r}return!1},i.prototype.toString=function(e){var t=!!e;e=e??this.format;var n=!1,s=this.a<1&&this.a>=0,r=!t&&s&&(e.startsWith("hex")||e==="name");return r?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},i.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},i.prototype.clone=function(){return new i(this.toString())},i.prototype.lighten=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l+=e/100,t.l=fo(t.l),new i(t)},i.prototype.brighten=function(e){e===void 0&&(e=10);var t=this.toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),new i(t)},i.prototype.darken=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.l-=e/100,t.l=fo(t.l),new i(t)},i.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},i.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},i.prototype.desaturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s-=e/100,t.s=fo(t.s),new i(t)},i.prototype.saturate=function(e){e===void 0&&(e=10);var t=this.toHsl();return t.s+=e/100,t.s=fo(t.s),new i(t)},i.prototype.greyscale=function(){return this.desaturate(100)},i.prototype.spin=function(e){var t=this.toHsl(),n=(t.h+e)%360;return t.h=n<0?360+n:n,new i(t)},i.prototype.mix=function(e,t){t===void 0&&(t=50);var n=this.toRgb(),s=new i(e).toRgb(),r=t/100,o={r:(s.r-n.r)*r+n.r,g:(s.g-n.g)*r+n.g,b:(s.b-n.b)*r+n.b,a:(s.a-n.a)*r+n.a};return new i(o)},i.prototype.analogous=function(e,t){e===void 0&&(e=6),t===void 0&&(t=30);var n=this.toHsl(),s=360/t,r=[this];for(n.h=(n.h-(s*e>>1)+720)%360;--e;)n.h=(n.h+s)%360,r.push(new i(n));return r},i.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new i(e)},i.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var t=this.toHsv(),n=t.h,s=t.s,r=t.v,o=[],c=1/e;e--;)o.push(new i({h:n,s,v:r})),r=(r+c)%1;return o},i.prototype.splitcomplement=function(){var e=this.toHsl(),t=e.h;return[this,new i({h:(t+72)%360,s:e.s,l:e.l}),new i({h:(t+216)%360,s:e.s,l:e.l})]},i.prototype.onBackground=function(e){var t=this.toRgb(),n=new i(e).toRgb(),s=t.a+n.a*(1-t.a);return new i({r:(t.r*t.a+n.r*n.a*(1-t.a))/s,g:(t.g*t.a+n.g*n.a*(1-t.a))/s,b:(t.b*t.a+n.b*n.a*(1-t.a))/s,a:s})},i.prototype.triad=function(){return this.polyad(3)},i.prototype.tetrad=function(){return this.polyad(4)},i.prototype.polyad=function(e){for(var t=this.toHsl(),n=t.h,s=[this],r=360/e,o=1;o<e;o++)s.push(new i({h:(n+o*r)%360,s:t.s,l:t.l}));return s},i.prototype.equals=function(e){return this.toRgbString()===new i(e).toRgbString()},i}();var O2=2,cd=.16,gz=.05,yz=.05,bz=.15,fd=5,md=4,wz=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function ld(i){var e=i.r,t=i.g,n=i.b,s=f1(e,t,n);return{h:s.h*360,s:s.s,v:s.v}}function L2(i){var e=i.r,t=i.g,n=i.b;return"#".concat(m1(e,t,n,!1))}function zz(i,e,t){var n=t/100,s={r:(e.r-i.r)*n+i.r,g:(e.g-i.g)*n+i.g,b:(e.b-i.b)*n+i.b};return s}function hd(i,e,t){var n;return Math.round(i.h)>=60&&Math.round(i.h)<=240?n=t?Math.round(i.h)-O2*e:Math.round(i.h)+O2*e:n=t?Math.round(i.h)+O2*e:Math.round(i.h)-O2*e,n<0?n+=360:n>=360&&(n-=360),n}function ud(i,e,t){if(i.h===0&&i.s===0)return i.s;var n;return t?n=i.s-cd*e:e===md?n=i.s+cd:n=i.s+gz*e,n>1&&(n=1),t&&e===fd&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function dd(i,e,t){var n;return t?n=i.v+yz*e:n=i.v-bz*e,n>1&&(n=1),Number(n.toFixed(2))}function N2(i){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=[],n=Ut(i),s=fd;s>0;s-=1){var r=ld(n),o=L2(Ut({h:hd(r,s,!0),s:ud(r,s,!0),v:dd(r,s,!0)}));t.push(o)}t.push(L2(n));for(var c=1;c<=md;c+=1){var l=ld(n),h=L2(Ut({h:hd(l,c),s:ud(l,c),v:dd(l,c)}));t.push(h)}return e.theme==="dark"?wz.map(function(f){var v=f.index,p=f.opacity,I=L2(zz(Ut(e.backgroundColor||"#141414"),Ut(t[v]),p*100));return I}):t}var vd=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];vd.primary=vd[5];var pd=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];pd.primary=pd[5];var gd=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];gd.primary=gd[5];var yd=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];yd.primary=yd[5];var bd=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];bd.primary=bd[5];var wd=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];wd.primary=wd[5];var zd=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];zd.primary=zd[5];var Ed=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];Ed.primary=Ed[5];var Td=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];Td.primary=Td[5];var Id=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];Id.primary=Id[5];var Cd=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];Cd.primary=Cd[5];var Md=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];Md.primary=Md[5];var Sd=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];Sd.primary=Sd[5];var Vd=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];Vd.primary=Vd[5];var Ad=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];Ad.primary=Ad[5];var Rd=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];Rd.primary=Rd[5];var xd=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];xd.primary=xd[5];var Od=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];Od.primary=Od[5];var Ld=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];Ld.primary=Ld[5];var Nd=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];Nd.primary=Nd[5];var Pd=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];Pd.primary=Pd[5];var Dd=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];Dd.primary=Dd[5];var kd=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];kd.primary=kd[5];var Hd=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];Hd.primary=Hd[5];var Fd=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];Fd.primary=Fd[5];var Bd=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];Bd.primary=Bd[5];var Qn="[@ant-design/icons-angular]:";function Ez(i){console.error(`${Qn} ${i}.`)}function Ud(i){W4()&&console.warn(`${Qn} ${i}.`)}function _d(i){return N2(i)[0]}function P2(i,e){switch(e){case"fill":return`${i}-fill`;case"outline":return`${i}-o`;case"twotone":return`${i}-twotone`;case void 0:return i;default:throw new Error(`${Qn}Theme "${e}" is not a recognized theme!`)}}function Tz(i,e,t,n){return`${P2(i,e)}-${t}-${n}`}function Iz(i){return i==="o"?"outline":i}function Cz(i){return i.endsWith("-fill")||i.endsWith("-o")||i.endsWith("-twotone")}function qd(i){return typeof i=="object"&&typeof i.name=="string"&&(typeof i.theme=="string"||i.theme===void 0)&&typeof i.icon=="string"}function Mz(i){let e=i.split("-"),t=Iz(e.splice(e.length-1,1)[0]);return{name:e.join("-"),theme:t,icon:""}}function Sz(i){return i.cloneNode(!0)}function Vz(i){return i.replace(/['"]#333['"]/g,'"primaryColor"').replace(/['"]#E6E6E6['"]/g,'"secondaryColor"').replace(/['"]#D9D9D9['"]/g,'"secondaryColor"').replace(/['"]#D8D8D8['"]/g,'"secondaryColor"')}function D2(i){let e=i.split(":");switch(e.length){case 1:return[i,""];case 2:return[e[1],e[0]];default:throw new Error(`${Qn}The icon type ${i} is not valid!`)}}function Az(i){return D2(i)[1]!==""}function Rz(){return new Error(`${Qn}Type should have a namespace. Try "namespace:${name}".`)}function jd(i){return new Error(`${Qn}the icon ${i} does not exist or is not registered.`)}function xz(){return Ez('you need to import "HttpClientModule" to use dynamic importing.'),null}function Oz(i){return new Error(`${Qn}The url "${i}" is unsafe.`)}function Lz(){return new Error(`${Qn}<svg> tag not found.`)}function Nz(){return new Error(`${Qn}Importing timeout error.`)}var Pz="__ant_icon_load",Dz=new X("ant_icons"),V6=(()=>{let e=class e{set twoToneColor({primaryColor:n,secondaryColor:s}){this._twoToneColorPalette.primaryColor=n,this._twoToneColorPalette.secondaryColor=s||_d(n)}get twoToneColor(){return H({},this._twoToneColorPalette)}get _disableDynamicLoading(){return!1}constructor(n,s,r,o,c){this._rendererFactory=n,this._handler=s,this._document=r,this.sanitizer=o,this._antIcons=c,this.defaultTheme="outline",this._svgDefinitions=new Map,this._svgRenderedDefinitions=new Map,this._inProgressFetches=new Map,this._assetsUrlRoot="",this._twoToneColorPalette={primaryColor:"#333333",secondaryColor:"#E6E6E6"},this._enableJsonpLoading=!1,this._jsonpIconLoad$=new q,this._renderer=this._rendererFactory.createRenderer(null,null),this._handler&&(this._http=new Sc(this._handler)),this._antIcons&&this.addIcon(...this._antIcons)}useJsonpLoading(){this._enableJsonpLoading?Ud("You are already using jsonp loading."):(this._enableJsonpLoading=!0,window[Pz]=n=>{this._jsonpIconLoad$.next(n)})}changeAssetsSource(n){this._assetsUrlRoot=n.endsWith("/")?n:n+"/"}addIcon(...n){n.forEach(s=>{this._svgDefinitions.set(P2(s.name,s.theme),s)})}addIconLiteral(n,s){let[r,o]=D2(n);if(!o)throw Rz();this.addIcon({name:n,icon:s})}clear(){this._svgDefinitions.clear(),this._svgRenderedDefinitions.clear()}getRenderedContent(n,s){let r=qd(n)?n:this._svgDefinitions.get(n)||null;if(!r&&this._disableDynamicLoading)throw jd(n);return(r?F(r):this._loadIconDynamically(n)).pipe(Z(c=>{if(!c)throw jd(n);return this._loadSVGFromCacheOrCreateNew(c,s)}))}getCachedIcons(){return this._svgDefinitions}_loadIconDynamically(n){if(!this._http&&!this._enableJsonpLoading)return F(xz());let s=this._inProgressFetches.get(n);if(!s){let[r,o]=D2(n),c=o?{name:n,icon:""}:Mz(r),l=this._enableJsonpLoading?".js":".svg",h=(o?`${this._assetsUrlRoot}assets/${o}/${r}`:`${this._assetsUrlRoot}assets/${c.theme}/${c.name}`)+l,f=this.sanitizer.sanitize(Un.URL,h);if(!f)throw Oz(h);s=(this._enableJsonpLoading?this._loadIconDynamicallyWithJsonp(c,f):this._http.get(f,{responseType:"text"}).pipe(Z(p=>Ne(H({},c),{icon:p})))).pipe(Be(p=>this.addIcon(p)),an(()=>this._inProgressFetches.delete(n)),pi(()=>F(null)),K5()),this._inProgressFetches.set(n,s)}return s}_loadIconDynamicallyWithJsonp(n,s){return new Xe(r=>{let o=this._document.createElement("script"),c=setTimeout(()=>{l(),r.error(Nz())},6e3);o.src=s;function l(){o.parentNode.removeChild(o),clearTimeout(c)}this._document.body.appendChild(o),this._jsonpIconLoad$.pipe(xe(h=>h.name===n.name&&h.theme===n.theme),Et(1)).subscribe(h=>{r.next(h),l()})})}_loadSVGFromCacheOrCreateNew(n,s){let r,o=s||this._twoToneColorPalette.primaryColor,c=_d(o)||this._twoToneColorPalette.secondaryColor,l=n.theme==="twotone"?Tz(n.name,n.theme,o,c):n.theme===void 0?n.name:P2(n.name,n.theme),h=this._svgRenderedDefinitions.get(l);return h?r=h.icon:(r=this._setSVGAttribute(this._colorizeSVGIcon(this._createSVGElementFromString(Az(n.name)?n.icon:Vz(n.icon)),n.theme==="twotone",o,c)),this._svgRenderedDefinitions.set(l,Ne(H({},n),{icon:r}))),Sz(r)}_createSVGElementFromString(n){let s=this._document.createElement("div");s.innerHTML=n;let r=s.querySelector("svg");if(!r)throw Lz;return r}_setSVGAttribute(n){return this._renderer.setAttribute(n,"width","1em"),this._renderer.setAttribute(n,"height","1em"),n}_colorizeSVGIcon(n,s,r,o){if(s){let c=n.childNodes,l=c.length;for(let h=0;h<l;h++){let f=c[h];f.getAttribute("fill")==="secondaryColor"?this._renderer.setAttribute(f,"fill",o):this._renderer.setAttribute(f,"fill",r)}}return this._renderer.setAttribute(n,"fill","currentColor"),n}};e.\u0275fac=function(s){return new(s||e)(V(cn),V(Ti,8),V(ne,8),V(Wr),V(Dz,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function kz(i,e){return i.type===e.type&&i.theme===e.theme&&i.twoToneColor===e.twoToneColor}var Wd=(()=>{let e=class e{constructor(n,s,r){this._iconService=n,this._elementRef=s,this._renderer=r}ngOnChanges(n){(n.type||n.theme||n.twoToneColor)&&this._changeIcon()}_changeIcon(){return new Promise(n=>{if(!this.type){this._clearSVGElement(),n(null);return}let s=this._getSelfRenderMeta();this._iconService.getRenderedContent(this._parseIconType(this.type,this.theme),this.twoToneColor).subscribe(r=>{let o=this._getSelfRenderMeta();kz(s,o)?(this._setSVGElement(r),n(r)):n(null)})})}_getSelfRenderMeta(){return{type:this.type,theme:this.theme,twoToneColor:this.twoToneColor}}_parseIconType(n,s){if(qd(n))return n;{let[r,o]=D2(n);return o?n:Cz(r)?(s&&Ud(`'type' ${r} already gets a theme inside so 'theme' ${s} would be ignored`),r):P2(r,s||this._iconService.defaultTheme)}}_setSVGElement(n){this._clearSVGElement(),this._renderer.appendChild(this._elementRef.nativeElement,n)}_clearSVGElement(){let n=this._elementRef.nativeElement,s=n.childNodes,r=s.length;for(let o=r-1;o>=0;o--){let c=s[o];c.tagName?.toLowerCase()==="svg"&&this._renderer.removeChild(n,c)}}};e.\u0275fac=function(s){return new(s||e)(L(V6),L(he),L(Ft))},e.\u0275dir=pe({type:e,selectors:[["","antIcon",""]],inputs:{type:"type",theme:"theme",twoToneColor:"twoToneColor"},features:[_e]});let i=e;return i})();var k2={isTestMode:!1};var Xd={},Hz="[NG-ZORRO]:";function Fz(...i){let e=i.reduce((t,n)=>t+n.toString(),"");return Xd[e]?!1:(Xd[e]=!0,!0)}function Bz(i,...e){(k2.isTestMode||W4()&&Fz(...e))&&i(...e)}var po=(...i)=>Bz((...e)=>console.warn(Hz,...e),...i);var Gd={name:"bars",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M912 192H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H328c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM104 228a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0zm0 284a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var Kd={name:"calendar",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M880 184H712v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H384v-64c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v64H144c-17.7 0-32 14.3-32 32v664c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V216c0-17.7-14.3-32-32-32zm-40 656H184V460h656v380zM184 392V256h128v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h256v48c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-48h128v136H184z" /></svg>'};var Zd={name:"caret-down",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'},Yd={name:"caret-down",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z" /></svg>'};var Qd={name:"caret-up",theme:"fill",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'},Jd={name:"caret-up",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M858.9 689L530.5 308.2c-9.4-10.9-27.5-10.9-37 0L165.1 689c-12.2 14.2-1.2 35 18.5 35h656.8c19.7 0 30.7-20.8 18.5-35z" /></svg>'};var $d={name:"check-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z" /></svg>'},e9={name:"check-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z" /><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /></svg>'};var t9={name:"close-circle",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z" /></svg>'};var n9={name:"close",theme:"outline",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z" /></svg>'};var i9={name:"check",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z" /></svg>'},s9={name:"clock-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z" /></svg>'};var r9={name:"copy",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z" /></svg>'};var o9={name:"delete",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z" /></svg>'};var a9={name:"double-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z" /></svg>'},c9={name:"double-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z" /></svg>'};var l9={name:"down",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z" /></svg>'};var h9={name:"close-circle",theme:"fill",icon:'<svg fill-rule="evenodd" viewBox="64 64 896 896" focusable="false"><path d="M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z" /></svg>'};var u9={name:"ellipsis",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z" /></svg>'};var d9={name:"edit",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z" /></svg>'};var f9={name:"exclamation-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var m9={name:"eye",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z" /></svg>'};var v9={name:"file",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z" /></svg>'};var p9={name:"file",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z" /></svg>'};var g9={name:"filter",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M349 838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V642H349v196zm531.1-684H143.9c-24.5 0-39.8 26.7-27.5 48l221.3 376h348.8l221.3-376c12.1-21.3-3.2-48-27.7-48z" /></svg>'};var y9={name:"info-circle",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z" /></svg>'};var b9={name:"exclamation-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z" /></svg>'};var w9={name:"info-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z" /></svg>'};var z9={name:"left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z" /></svg>'};var E9={name:"loading",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z" /></svg>'};var T9={name:"paper-clip",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M779.3 196.6c-94.2-94.2-247.6-94.2-341.7 0l-261 260.8c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l261-260.8c32.4-32.4 75.5-50.2 121.3-50.2s88.9 17.8 121.2 50.2c32.4 32.4 50.2 75.5 50.2 121.2 0 45.8-17.8 88.8-50.2 121.2l-266 265.9-43.1 43.1c-40.3 40.3-105.8 40.3-146.1 0-19.5-19.5-30.2-45.4-30.2-73s10.7-53.5 30.2-73l263.9-263.8c6.7-6.6 15.5-10.3 24.9-10.3h.1c9.4 0 18.1 3.7 24.7 10.3 6.7 6.7 10.3 15.5 10.3 24.9 0 9.3-3.7 18.1-10.3 24.7L372.4 653c-1.7 1.7-2.6 4-2.6 6.4s.9 4.7 2.6 6.4l36.9 36.9a9 9 0 0012.7 0l215.6-215.6c19.9-19.9 30.8-46.3 30.8-74.4s-11-54.6-30.8-74.4c-41.1-41.1-107.9-41-149 0L463 364 224.8 602.1A172.22 172.22 0 00174 724.8c0 46.3 18.1 89.8 50.8 122.5 33.9 33.8 78.3 50.7 122.7 50.7 44.4 0 88.8-16.9 122.6-50.7l309.2-309C824.8 492.7 850 432 850 367.5c.1-64.6-25.1-125.3-70.7-170.9z" /></svg>'};var I9={name:"question-circle",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z" /><path d="M623.6 316.7C593.6 290.4 554 276 512 276s-81.6 14.5-111.6 40.7C369.2 344 352 380.7 352 420v7.6c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V420c0-44.1 43.1-80 96-80s96 35.9 96 80c0 31.1-22 59.6-56.1 72.7-21.2 8.1-39.2 22.3-52.1 40.9-13.1 19-19.9 41.8-19.9 64.9V620c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8v-22.7a48.3 48.3 0 0130.9-44.8c59-22.7 97.1-74.7 97.1-132.5.1-39.3-17.1-76-48.3-103.3zM472 732a40 40 0 1080 0 40 40 0 10-80 0z" /></svg>'};var C9={name:"rotate-right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z" /><path d="M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z" /></svg>'};var M9={name:"right",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z" /></svg>'};var S9={name:"search",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z" /></svg>'};var A6={name:"star",theme:"fill",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z" /></svg>'};var V9={name:"swap",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M847.9 592H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h605.2L612.9 851c-4.1 5.2-.4 13 6.3 13h72.5c4.9 0 9.5-2.2 12.6-6.1l168.8-214.1c16.5-21 1.6-51.8-25.2-51.8zM872 356H266.8l144.3-183c4.1-5.2.4-13-6.3-13h-72.5c-4.9 0-9.5 2.2-12.6 6.1L150.9 380.2c-16.5 21-1.6 51.8 25.1 51.8h696c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z" /></svg>'},A9={name:"swap-right",theme:"outline",icon:'<svg viewBox="0 0 1024 1024" focusable="false"><path d="M873.1 596.2l-164-208A32 32 0 00684 376h-64.8c-6.7 0-10.4 7.7-6.3 13l144.3 183H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h695.9c26.8 0 41.7-30.8 25.2-51.8z" /></svg>'};var R9={name:"up",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z" /></svg>'};var x9={name:"rotate-left",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><defs><style /></defs><path d="M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z" /><path d="M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z" /></svg>'};var O9={name:"vertical-align-top",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z" /></svg>'};var L9={name:"zoom-in",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'};var N9={name:"zoom-out",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z" /></svg>'},P9={name:"upload",theme:"outline",icon:'<svg viewBox="64 64 896 896" focusable="false"><path d="M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z" /></svg>'};var _z=["pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime"];function CO(i){return _z.indexOf(i)!==-1}var H2=2,D9=.16,jz=.05,Uz=.05,qz=.15,_9=5,j9=4,Wz=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function k9({r:i,g:e,b:t}){let n=f1(i,e,t);return{h:n.h*360,s:n.s,v:n.v}}function F2({r:i,g:e,b:t}){return`#${m1(i,e,t,!1)}`}function Xz(i,e,t){let n=t/100;return{r:(e.r-i.r)*n+i.r,g:(e.g-i.g)*n+i.g,b:(e.b-i.b)*n+i.b}}function H9(i,e,t){let n;return Math.round(i.h)>=60&&Math.round(i.h)<=240?n=t?Math.round(i.h)-H2*e:Math.round(i.h)+H2*e:n=t?Math.round(i.h)+H2*e:Math.round(i.h)-H2*e,n<0?n+=360:n>=360&&(n-=360),n}function F9(i,e,t){if(i.h===0&&i.s===0)return i.s;let n;return t?n=i.s-D9*e:e===j9?n=i.s+D9:n=i.s+jz*e,n>1&&(n=1),t&&e===_9&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2))}function B9(i,e,t){let n;return t?n=i.v+Uz*e:n=i.v-qz*e,n>1&&(n=1),Number(n.toFixed(2))}function R6(i,e={}){let t=[],n=Ut(i);for(let s=_9;s>0;s-=1){let r=k9(n),o=F2(Ut({h:H9(r,s,!0),s:F9(r,s,!0),v:B9(r,s,!0)}));t.push(o)}t.push(F2(n));for(let s=1;s<=j9;s+=1){let r=k9(n),o=F2(Ut({h:H9(r,s),s:F9(r,s),v:B9(r,s)}));t.push(o)}return e.theme==="dark"?Wz.map(({index:s,opacity:r})=>F2(Xz(Ut(e.backgroundColor||"#141414"),Ut(t[s]),r*100))):t}function U9(i){return i!=null&&`${i}`!="false"}function v1(i,e=0){return Gz(i)?Number(i):arguments.length===2?e:0}function Gz(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function Es(i){return Array.isArray(i)?i:[i]}function je(i){return i==null?"":typeof i=="string"?i:`${i}px`}function xi(i){return i instanceof he?i.nativeElement:i}function OO(i,e){if(!i||!e||i.length!==e.length)return!1;let t=i.length;for(let n=0;n<t;n++)if(i[n]!==e[n])return!1;return!0}function LO(i){return typeof i<"u"&&i!==null}function NO(i){return typeof i>"u"||i===null}function N6(i,e){if(i===e)return!0;if(typeof i!="object"||!i||typeof e!="object"||!e)return!1;let t=Object.keys(i),n=Object.keys(e);if(t.length!==n.length)return!1;let s=Object.prototype.hasOwnProperty.bind(e);for(let r=0;r<t.length;r++){let o=t[r];if(!s(o)||i[o]!==e[o])return!1}return!0}function X9(i){return i instanceof at}function PO(i){return U9(i)}function P6(i){return X4(i,0)}function DO(i,e=0){return v1(i,e)}function go(i){return je(i)}function kO(i){if(!i.getClientRects().length)return{top:0,left:0};let e=i.getBoundingClientRect(),t=i.ownerDocument.defaultView;return{top:e.top+t.pageYOffset,left:e.left+t.pageXOffset}}function D6(i){return i.type.startsWith("touch")}function G9(i){return D6(i)?i.touches[0]||i.changedTouches[0]:i}function Kz(i){return!!i&&typeof i.then=="function"&&typeof i.catch=="function"}function HO(i){return typeof i=="number"&&isFinite(i)}function FO(i,e){return Math.round(i*Math.pow(10,e))/Math.pow(10,e)}var Zz=typeof window<"u",BO=Zz&&window.mozInnerScreenX!=null;function k6(i){return i?Object.keys(i).map(e=>{let t=i[e];return`${e}:${typeof t=="string"?t:`${t}px`}`}).join(";"):""}var x6,O6,q9={position:"absolute",top:"-9999px",width:"50px",height:"50px"};function _O(i="vertical",e="ant"){if(typeof document>"u"||typeof window>"u")return 0;let t=i==="vertical";if(t&&x6)return x6;if(!t&&O6)return O6;let n=document.createElement("div");Object.keys(q9).forEach(r=>{n.style[r]=q9[r]}),n.className=`${e}-hide-scrollbar scroll-div-append-to-body`,t?n.style.overflowY="scroll":n.style.overflowX="scroll",document.body.appendChild(n);let s=0;return t?(s=n.offsetWidth-n.clientWidth,x6=s):(s=n.offsetHeight-n.clientHeight,O6=s),document.body.removeChild(n),s}function jO(i){return ft(i)?i:Kz(i)?Re(Promise.resolve(i)):F(i)}function H6(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Yz="rc-util-key";function K9({mark:i}={}){return i?i.startsWith("data-")?i:`data-${i}`:Yz}function F6(i){return i.attachTo?i.attachTo:document.querySelector("head")||document.body}function W9(i,e={}){if(!H6())return null;let t=document.createElement("style");e.cspNonce&&(t.nonce=e.cspNonce),t.innerHTML=i;let n=F6(e),{firstChild:s}=n;return e.prepend&&n.prepend?n.prepend(t):e.prepend&&s?n.insertBefore(t,s):n.appendChild(t),t}var L6=new Map;function Qz(i,e={}){let t=F6(e);return Array.from(L6.get(t)?.children||[]).find(n=>n.tagName==="STYLE"&&n.getAttribute(K9(e))===i)}function Z9(i,e,t={}){let n=F6(t);if(!L6.has(n)){let o=W9("",t),{parentNode:c}=o;L6.set(n,c),c.removeChild(o)}let s=Qz(e,t);if(s)return t.cspNonce&&s.nonce!==t.cspNonce&&(s.nonce=t.cspNonce),s.innerHTML!==i&&(s.innerHTML=i),s;let r=W9(i,t);return r?.setAttribute(K9(t),e),r}function UO(i,e,t){return{[`${i}-status-success`]:e==="success",[`${i}-status-warning`]:e==="warning",[`${i}-status-error`]:e==="error",[`${i}-status-validating`]:e==="validating",[`${i}-has-feedback`]:t}}var Jz=new X("nz-config");var $z=`-ant-${Date.now()}-${Math.random()}`;function eE(i,e){let t={},n=(o,c)=>{let l=o.clone();return l=c?.(l)||l,l.toRgbString()},s=(o,c)=>{let l=new x2(o),h=R6(l.toRgbString());t[`${c}-color`]=n(l),t[`${c}-color-disabled`]=h[1],t[`${c}-color-hover`]=h[4],t[`${c}-color-active`]=h[7],t[`${c}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),t[`${c}-color-deprecated-bg`]=h[1],t[`${c}-color-deprecated-border`]=h[3]};if(e.primaryColor){s(e.primaryColor,"primary");let o=new x2(e.primaryColor),c=R6(o.toRgbString());c.forEach((h,f)=>{t[`primary-${f+1}`]=h}),t["primary-color-deprecated-l-35"]=n(o,h=>h.lighten(35)),t["primary-color-deprecated-l-20"]=n(o,h=>h.lighten(20)),t["primary-color-deprecated-t-20"]=n(o,h=>h.tint(20)),t["primary-color-deprecated-t-50"]=n(o,h=>h.tint(50)),t["primary-color-deprecated-f-12"]=n(o,h=>h.setAlpha(h.getAlpha()*.12));let l=new x2(c[0]);t["primary-color-active-deprecated-f-30"]=n(l,h=>h.setAlpha(h.getAlpha()*.3)),t["primary-color-active-deprecated-d-02"]=n(l,h=>h.darken(2))}return e.successColor&&s(e.successColor,"success"),e.warningColor&&s(e.warningColor,"warning"),e.errorColor&&s(e.errorColor,"error"),e.infoColor&&s(e.infoColor,"info"),`
  :root {
    ${Object.keys(t).map(o=>`--${i}-${o}: ${t[o]};`).join(`
`)}
  }
  `.trim()}function Y9(i,e,t){let n=eE(i,e);H6()?Z9(n,`${$z}-dynamic-theme`,{cspNonce:t}):po("NzConfigService: SSR do not support dynamic theme with css variables.")}var Q9=function(i){return i!==void 0},J9="ant",Oi=(()=>{let e=class e{constructor(){this.configUpdated$=new q,this.config=x(Jz,{optional:!0})||{},this.cspNonce=x(jn,{optional:!0}),this.config.theme&&Y9(this.getConfig().prefixCls?.prefixCls||J9,this.config.theme,this.cspNonce)}getConfig(){return this.config}getConfigForComponent(n){return this.config[n]}getConfigChangeEventForComponent(n){return this.configUpdated$.pipe(xe(s=>s===n),L4(void 0))}set(n,s){this.config[n]=H(H({},this.config[n]),s),n==="theme"&&this.config.theme&&Y9(this.getConfig().prefixCls?.prefixCls||J9,this.config.theme,this.cspNonce),this.configUpdated$.next(n)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Tn(){return function(e,t,n){let s=`$$__zorroConfigDecorator__${t}`;return Object.defineProperty(e,s,{configurable:!0,writable:!0,enumerable:!1}),{get(){let r=n?.get?n.get.bind(this)():this[s],o=(this.propertyAssignCounter?.[t]||0)>1,c=this.nzConfigService.getConfigForComponent(this._nzModuleName)?.[t];return o&&Q9(r)?r:Q9(c)?c:r},set(r){this.propertyAssignCounter=this.propertyAssignCounter||{},this.propertyAssignCounter[t]=(this.propertyAssignCounter[t]||0)+1,n?.set?n.set.bind(this)(r):this[s]=r},configurable:!0,enumerable:!0}}}var _6;try{_6=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_6=!1}var Ue=(()=>{let e=class e{constructor(n){this._platformId=n,this.isBrowser=this._platformId?D7(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||_6)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};e.\u0275fac=function(s){return new(s||e)(V(Kt))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),$9=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({});let i=e;return i})();var yo;function tE(){if(yo==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yo=!0}))}finally{yo=yo||!1}return yo}function j6(i){return tE()?i:!!i.capture}var fn=function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i}(fn||{}),_2,p1;function j2(){if(p1==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return p1=!1,p1;if("scrollBehavior"in document.documentElement.style)p1=!0;else{let i=Element.prototype.scrollTo;i?p1=!/\{\s*\[native code\]\s*\}/.test(i.toString()):p1=!1}}return p1}function Ts(){if(typeof document!="object"||!document)return fn.NORMAL;if(_2==null){let i=document.createElement("div"),e=i.style;i.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";let t=document.createElement("div"),n=t.style;n.width="2px",n.height="1px",i.appendChild(t),document.body.appendChild(i),_2=fn.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,_2=i.scrollLeft===0?fn.NEGATED:fn.INVERTED),i.remove()}return _2}var B6;function nE(){if(B6==null){let i=typeof document<"u"?document.head:null;B6=!!(i&&(i.createShadowRoot||i.attachShadow))}return B6}function ef(i){if(nE()){let e=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}function In(i){return i.composedPath?i.composedPath()[0]:i.target}function U6(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var iE=[Gd,Kd,Qd,Jd,Zd,Yd,$d,e9,i9,s9,t9,h9,n9,r9,o9,a9,c9,l9,d9,u9,f9,b9,m9,v9,p9,g9,y9,w9,z9,E9,T9,I9,M9,C9,x9,A6,S9,A6,P9,O9,R9,V9,A9,L9,N9],nf=new X("nz_icons"),gL=new X("nz_icon_default_twotone_color"),tf="#1890ff",sf=(()=>{let e=class e extends V6{get _disableDynamicLoading(){return!this.platform.isBrowser}ngOnDestroy(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}normalizeSvgElement(n){n.getAttribute("viewBox")||this._renderer.setAttribute(n,"viewBox","0 0 1024 1024"),(!n.getAttribute("width")||!n.getAttribute("height"))&&(this._renderer.setAttribute(n,"width","1em"),this._renderer.setAttribute(n,"height","1em")),n.getAttribute("fill")||this._renderer.setAttribute(n,"fill","currentColor")}fetchFromIconfont(n){let{scriptUrl:s}=n;if(this._document&&!this.iconfontCache.has(s)){let r=this._renderer.createElement("script");this._renderer.setAttribute(r,"src",s),this._renderer.setAttribute(r,"data-namespace",s.replace(/^(https?|http):/g,"")),this._renderer.appendChild(this._document.body,r),this.iconfontCache.add(s)}}createIconfontIcon(n){return this._createSVGElementFromString(`<svg><use xlink:href="${n}"></svg>`)}constructor(n,s,r,o){super(n,x(Ti,{optional:!0}),x(ne),s,[...iE,...x(nf,{optional:!0})||[]]),this.nzConfigService=r,this.platform=o,this.configUpdated$=new q,this.iconfontCache=new Set,this.subscription=null,this.onConfigChange(),this.configDefaultTwotoneColor(),this.configDefaultTheme()}onConfigChange(){this.subscription=this.nzConfigService.getConfigChangeEventForComponent("icon").subscribe(()=>{this.configDefaultTwotoneColor(),this.configDefaultTheme(),this.configUpdated$.next()})}configDefaultTheme(){let n=this.getConfig();this.defaultTheme=n.nzTheme||"outline"}configDefaultTwotoneColor(){let s=this.getConfig().nzTwotoneColor||tf,r=tf;s&&(s.startsWith("#")?r=s:po("Twotone color must be a hex color!")),this.twoToneColor={primaryColor:r}}getConfig(){return this.nzConfigService.getConfigForComponent("icon")||{}}};e.\u0275fac=function(s){return new(s||e)(V(cn),V(Wr),V(Oi),V(Ue))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),rf=new X("nz_icons_patch"),of=(()=>{let e=class e{constructor(n){this.rootIconService=n,this.patched=!1,this.extraIcons=x(rf,{self:!0})}doPatch(){this.patched||(this.extraIcons.forEach(n=>this.rootIconService.addIcon(n)),this.patched=!0)}};e.\u0275fac=function(s){return new(s||e)(V(sf))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),Cn=(()=>{let e=class e extends Wd{set nzSpin(n){this.spin=n}set nzType(n){this.type=n}set nzTheme(n){this.theme=n}set nzTwotoneColor(n){this.twoToneColor=n}set nzIconfont(n){this.iconfont=n}constructor(n,s,r,o,c){super(o,r,c),this.ngZone=n,this.changeDetectorRef=s,this.iconService=o,this.renderer=c,this.cacheClassName=null,this.nzRotate=0,this.spin=!1,this.destroy$=new q;let l=x(of,{optional:!0});l&&l.doPatch(),this.el=r.nativeElement}ngOnChanges(n){let{nzType:s,nzTwotoneColor:r,nzSpin:o,nzTheme:c,nzRotate:l}=n;s||r||o||c?this.changeIcon2():l?this.handleRotate(this.el.firstChild):this._setSVGElement(this.iconService.createIconfontIcon(`#${this.iconfont}`))}ngOnInit(){this.renderer.setAttribute(this.el,"class",`anticon ${this.el.className}`.trim())}ngAfterContentChecked(){if(!this.type){let n=this.el.children,s=n.length;if(!this.type&&n.length)for(;s--;){let r=n[s];r.tagName.toLowerCase()==="svg"&&this.iconService.normalizeSvgElement(r)}}}ngOnDestroy(){this.destroy$.next()}changeIcon2(){this.setClassName(),this.ngZone.runOutsideAngular(()=>{Re(this._changeIcon()).pipe(ve(this.destroy$)).subscribe({next:n=>{this.ngZone.run(()=>{this.changeDetectorRef.detectChanges(),n&&(this.setSVGData(n),this.handleSpin(n),this.handleRotate(n))})},error:po})})}handleSpin(n){this.spin||this.type==="loading"?this.renderer.addClass(n,"anticon-spin"):this.renderer.removeClass(n,"anticon-spin")}handleRotate(n){this.nzRotate?this.renderer.setAttribute(n,"style",`transform: rotate(${this.nzRotate}deg)`):this.renderer.removeAttribute(n,"style")}setClassName(){this.cacheClassName&&this.renderer.removeClass(this.el,this.cacheClassName),this.cacheClassName=`anticon-${this.type}`,this.renderer.addClass(this.el,this.cacheClassName)}setSVGData(n){this.renderer.setAttribute(n,"data-icon",this.type),this.renderer.setAttribute(n,"aria-hidden","true")}};e.\u0275fac=function(s){return new(s||e)(L(Y),L(St),L(he),L(sf),L(Ft))},e.\u0275dir=pe({type:e,selectors:[["","nz-icon",""]],hostVars:2,hostBindings:function(s,r){s&2&&Dt("anticon",!0)},inputs:{nzSpin:[2,"nzSpin","nzSpin",ge],nzRotate:[2,"nzRotate","nzRotate",X4],nzType:"nzType",nzTheme:"nzTheme",nzTwotoneColor:"nzTwotoneColor",nzIconfont:"nzIconfont"},exportAs:["nzIcon"],standalone:!0,features:[Qe,qn,_e]});let i=e;return i})(),sE=i=>Tt([{provide:nf,useValue:i}]),rE=i=>[of,{provide:rf,useValue:i}],Li=(()=>{let e=class e{static forRoot(n){return{ngModule:e,providers:[sE(n)]}}static forChild(n){return{ngModule:e,providers:[rE(n)]}}};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({});let i=e;return i})();var Cs=(()=>{let e=class e{setHiddenAttribute(){this.hidden?typeof this.hidden=="string"?this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",this.hidden):this.renderer.setAttribute(this.elementRef.nativeElement,"hidden",""):this.renderer.removeAttribute(this.elementRef.nativeElement,"hidden")}constructor(n,s){this.elementRef=n,this.renderer=s,this.hidden=null,this.renderer.setAttribute(this.elementRef.nativeElement,"hidden","")}ngOnChanges(){this.setHiddenAttribute()}ngAfterViewInit(){this.setHiddenAttribute()}};e.\u0275fac=function(s){return new(s||e)(L(he),L(Ft))},e.\u0275dir=pe({type:e,selectors:[["","nz-button",""],["nz-button-group"],["","nz-icon",""],["","nz-menu-item",""],["","nz-submenu",""],["nz-select-top-control"],["nz-select-placeholder"],["nz-input-group"]],inputs:{hidden:"hidden"},standalone:!0,features:[_e]});let i=e;return i})(),af=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({});let i=e;return i})();var oE=(()=>{let e=class e extends J4{constructor(n,s,r){super(n,s,r)}ngOnDestroy(){this.flush()}};e.\u0275fac=function(s){return new(s||e)(V(ne),V(kr),V(Q4))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();function aE(){return new H7}function cE(i,e,t){return new B7(i,e,t)}var cf=[{provide:Q4,useFactory:aE},{provide:J4,useClass:oE},{provide:cn,useFactory:cE,deps:[i2,J4,Y]}],SL=[{provide:kr,useFactory:()=>new F7},{provide:wn,useValue:"BrowserAnimations"},...cf],VL=[{provide:kr,useClass:k7},{provide:wn,useValue:"NoopAnimations"},...cf];var W6=class{get waveAttributeName(){return this.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}constructor(e,t,n,s,r){this.triggerElement=e,this.ngZone=t,this.insertExtraNode=n,this.platformId=s,this.cspNonce=r,this.waveTransitionDuration=400,this.styleForPseudo=null,this.extraNode=null,this.lastTime=0,this.onClick=o=>{!this.triggerElement||!this.triggerElement.getAttribute||this.triggerElement.getAttribute("disabled")||o.target.tagName==="INPUT"||this.triggerElement.className.indexOf("disabled")>=0||this.fadeOutWave()},this.platform=new Ue(this.platformId),this.clickHandler=this.onClick.bind(this),this.bindTriggerEvent()}bindTriggerEvent(){this.platform.isBrowser&&this.ngZone.runOutsideAngular(()=>{this.removeTriggerEvent(),this.triggerElement&&this.triggerElement.addEventListener("click",this.clickHandler,!0)})}removeTriggerEvent(){this.triggerElement&&this.triggerElement.removeEventListener("click",this.clickHandler,!0)}removeStyleAndExtraNode(){this.styleForPseudo&&document.body.contains(this.styleForPseudo)&&(document.body.removeChild(this.styleForPseudo),this.styleForPseudo=null),this.insertExtraNode&&this.triggerElement.contains(this.extraNode)&&this.triggerElement.removeChild(this.extraNode)}destroy(){this.removeTriggerEvent(),this.removeStyleAndExtraNode()}fadeOutWave(){let e=this.triggerElement,t=this.getWaveColor(e);e.setAttribute(this.waveAttributeName,"true"),!(Date.now()<this.lastTime+this.waveTransitionDuration)&&(this.isValidColor(t)&&(this.styleForPseudo||(this.styleForPseudo=document.createElement("style"),this.cspNonce&&(this.styleForPseudo.nonce=this.cspNonce)),this.styleForPseudo.innerHTML=`
      [ant-click-animating-without-extra-node='true']::after, .ant-click-animating-node {
        --antd-wave-shadow-color: ${t};
      }`,document.body.appendChild(this.styleForPseudo)),this.insertExtraNode&&(this.extraNode||(this.extraNode=document.createElement("div")),this.extraNode.className="ant-click-animating-node",e.appendChild(this.extraNode)),this.lastTime=Date.now(),this.runTimeoutOutsideZone(()=>{e.removeAttribute(this.waveAttributeName),this.removeStyleAndExtraNode()},this.waveTransitionDuration))}isValidColor(e){return!!e&&e!=="#ffffff"&&e!=="rgb(255, 255, 255)"&&this.isNotGrey(e)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(e)&&e!=="transparent"}isNotGrey(e){let t=e.match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return t&&t[1]&&t[2]&&t[3]?!(t[1]===t[2]&&t[2]===t[3]):!0}getWaveColor(e){let t=getComputedStyle(e);return t.getPropertyValue("border-top-color")||t.getPropertyValue("border-color")||t.getPropertyValue("background-color")}runTimeoutOutsideZone(e,t){this.ngZone.runOutsideAngular(()=>setTimeout(e,t))}},lE={disabled:!1},lf=new X("nz-wave-global-options");function hE(i){return Tt([{provide:lf,useValue:i}])}var q2=(()=>{let e=class e{get disabled(){return this.waveDisabled}get rendererRef(){return this.waveRenderer}constructor(n,s){this.ngZone=n,this.elementRef=s,this.nzWaveExtraNode=!1,this.waveDisabled=!1,this.cspNonce=x(jn,{optional:!0}),this.platformId=x(Kt),this.config=x(lf,{optional:!0}),this.animationType=x(wn,{optional:!0}),this.waveDisabled=this.isConfigDisabled()}isConfigDisabled(){let n=!1;return this.config&&typeof this.config.disabled=="boolean"&&(n=this.config.disabled),this.animationType==="NoopAnimations"&&(n=!0),n}ngOnDestroy(){this.waveRenderer&&this.waveRenderer.destroy()}ngOnInit(){this.renderWaveIfEnabled()}renderWaveIfEnabled(){!this.waveDisabled&&this.elementRef.nativeElement&&(this.waveRenderer=new W6(this.elementRef.nativeElement,this.ngZone,this.nzWaveExtraNode,this.platformId,this.cspNonce))}disable(){this.waveDisabled=!0,this.waveRenderer&&(this.waveRenderer.removeTriggerEvent(),this.waveRenderer.removeStyleAndExtraNode())}enable(){this.waveDisabled=this.isConfigDisabled()||!1,this.waveRenderer&&this.waveRenderer.bindTriggerEvent()}};e.\u0275fac=function(s){return new(s||e)(L(Y),L(he))},e.\u0275dir=pe({type:e,selectors:[["","nz-wave",""],["button","nz-button","",3,"nzType","link",3,"nzType","text"]],inputs:{nzWaveExtraNode:"nzWaveExtraNode"},exportAs:["nzWave"],standalone:!0});let i=e;return i})(),hf=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({providers:[hE(lE)]});let i=e;return i})();var uE=new X("cdk-dir-doc",{providedIn:"root",factory:dE});function dE(){return x(ne)}var fE=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function mE(i){let e=i?.toLowerCase()||"";return e==="auto"&&typeof navigator<"u"&&navigator?.language?fE.test(navigator.language)?"rtl":"ltr":e==="rtl"?"rtl":"ltr"}var Qt=(()=>{let e=class e{constructor(n){if(this.value="ltr",this.change=new Ee,n){let s=n.body?n.body.dir:null,r=n.documentElement?n.documentElement.dir:null;this.value=mE(s||r||"ltr")}}ngOnDestroy(){this.change.complete()}};e.\u0275fac=function(s){return new(s||e)(V(uE,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var g1=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({});let i=e;return i})();var vE=["nz-button",""],pE=["*"];function gE(i,e){i&1&&ue(0,"span",0)}var df="button",y1=(()=>{let e=class e{insertSpan(n,s){n.forEach(r=>{if(r.nodeName==="#text"){let o=s.createElement("span"),c=s.parentNode(r);s.insertBefore(c,o,r),s.appendChild(o,r)}})}get iconOnly(){let n=Array.from(this.elementRef?.nativeElement?.childNodes||[]),s=n.every(o=>o.nodeName!=="#text"),r=n.filter(o=>!(o.nodeName==="#comment"||o?.attributes?.getNamedItem("nz-icon"))).length==0;return!!this.nzIconDirectiveElement&&r&&s}constructor(n,s,r,o,c,l){this.ngZone=n,this.elementRef=s,this.cdr=r,this.renderer=o,this.nzConfigService=c,this.directionality=l,this._nzModuleName=df,this.nzBlock=!1,this.nzGhost=!1,this.nzSearch=!1,this.nzLoading=!1,this.nzDanger=!1,this.disabled=!1,this.tabIndex=null,this.nzType=null,this.nzShape=null,this.nzSize="default",this.dir="ltr",this.destroy$=new q,this.loading$=new q,this.nzConfigService.getConfigChangeEventForComponent(df).pipe(ve(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe(ve(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{e1(this.elementRef.nativeElement,"click",{capture:!0}).pipe(ve(this.destroy$)).subscribe(n=>{(this.disabled&&n.target?.tagName==="A"||this.nzLoading)&&(n.preventDefault(),n.stopImmediatePropagation())})})}ngOnChanges(n){let{nzLoading:s}=n;s&&this.loading$.next(this.nzLoading)}ngAfterViewInit(){this.insertSpan(this.elementRef.nativeElement.childNodes,this.renderer)}ngAfterContentInit(){this.loading$.pipe(Gt(this.nzLoading),xe(()=>!!this.nzIconDirectiveElement),ve(this.destroy$)).subscribe(n=>{let s=this.nzIconDirectiveElement.nativeElement;n?this.renderer.setStyle(s,"display","none"):this.renderer.removeStyle(s,"display")})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}};e.\u0275fac=function(s){return new(s||e)(L(Y),L(he),L(St),L(Ft),L(Oi),L(Qt))},e.\u0275cmp=De({type:e,selectors:[["button","nz-button",""],["a","nz-button",""]],contentQueries:function(s,r,o){if(s&1&&Pr(o,Cn,5,he),s&2){let c;ln(c=hn())&&(r.nzIconDirectiveElement=c.first)}},hostAttrs:[1,"ant-btn"],hostVars:34,hostBindings:function(s,r){s&2&&(Nr("tabindex",r.disabled?-1:r.tabIndex===null?null:r.tabIndex)("disabled",r.disabled||null),Dt("ant-btn-default",r.nzType==="default")("ant-btn-primary",r.nzType==="primary")("ant-btn-dashed",r.nzType==="dashed")("ant-btn-link",r.nzType==="link")("ant-btn-text",r.nzType==="text")("ant-btn-circle",r.nzShape==="circle")("ant-btn-round",r.nzShape==="round")("ant-btn-lg",r.nzSize==="large")("ant-btn-sm",r.nzSize==="small")("ant-btn-dangerous",r.nzDanger)("ant-btn-loading",r.nzLoading)("ant-btn-background-ghost",r.nzGhost)("ant-btn-block",r.nzBlock)("ant-input-search-button",r.nzSearch)("ant-btn-rtl",r.dir==="rtl")("ant-btn-icon-only",r.iconOnly))},inputs:{nzBlock:[2,"nzBlock","nzBlock",ge],nzGhost:[2,"nzGhost","nzGhost",ge],nzSearch:[2,"nzSearch","nzSearch",ge],nzLoading:[2,"nzLoading","nzLoading",ge],nzDanger:[2,"nzDanger","nzDanger",ge],disabled:[2,"disabled","disabled",ge],tabIndex:"tabIndex",nzType:"nzType",nzShape:"nzShape",nzSize:"nzSize"},exportAs:["nzButton"],standalone:!0,features:[Qe,_e,ke],attrs:vE,ngContentSelectors:pE,decls:2,vars:1,consts:[["nz-icon","","nzType","loading"]],template:function(s,r){s&1&&(is(),Se(0,gE,1,0,"span",0),ss(1)),s&2&&Ke(r.nzLoading?0:-1)},dependencies:[Li,Cn],encapsulation:2,changeDetection:0});let i=e;return gn([Tn()],i.prototype,"nzSize",void 0),i})();var Ms=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({imports:[y1,af,hf]});let i=e;return i})();var wo="ecoc_lang";function W2(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}var G6=class{};function ff(i){return i&&typeof i.connect=="function"&&!(i instanceof Ar)}var X2=class extends G6{constructor(e){super(),this._data=e}connect(){return ft(this._data)?this._data:F(this._data)}disconnect(){}},zo=function(i){return i[i.REPLACED=0]="REPLACED",i[i.INSERTED=1]="INSERTED",i[i.MOVED=2]="MOVED",i[i.REMOVED=3]="REMOVED",i}(zo||{}),K6=new X("_ViewRepeater");var G2=class{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(e,t,n,s,r){e.forEachOperation((o,c,l)=>{let h,f;if(o.previousIndex==null){let v=()=>n(o,c,l);h=this._insertView(v,l,t,s(o)),f=h?zo.INSERTED:zo.REPLACED}else l==null?(this._detachAndCacheView(c,t),f=zo.REMOVED):(h=this._moveView(c,l,t,s(o)),f=zo.MOVED);r&&r({context:h?.context,operation:f,record:o})})}detach(){for(let e of this._viewCache)e.destroy();this._viewCache=[]}_insertView(e,t,n,s){let r=this._insertViewFromCache(t,n);if(r){r.context.$implicit=s;return}let o=e();return n.createEmbeddedView(o.templateRef,o.context,o.index)}_detachAndCacheView(e,t){let n=t.detach(e);this._maybeCacheView(n,t)}_moveView(e,t,n,s){let r=n.get(e);return n.move(r,t),r.context.$implicit=s,r}_maybeCacheView(e,t){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(e);else{let n=t.indexOf(e);n===-1?e.destroy():t.remove(n)}}_insertViewFromCache(e,t){let n=this._viewCache.pop();return n&&t.insert(n,e),n||null}};var yE=["contentWrapper"],bE=["*"],gf=new X("VIRTUAL_SCROLL_STRATEGY"),Z6=class{constructor(e,t,n){this._scrolledIndexChange=new q,this.scrolledIndexChange=this._scrolledIndexChange.pipe(gi()),this._viewport=null,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n}attach(e){this._viewport=e,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(e,t,n){n<t,this._itemSize=e,this._minBufferPx=t,this._maxBufferPx=n,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(e,t){this._viewport&&this._viewport.scrollToOffset(e*this._itemSize,t)}_updateTotalContentSize(){this._viewport&&this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;let e=this._viewport.getRenderedRange(),t={start:e.start,end:e.end},n=this._viewport.getViewportSize(),s=this._viewport.getDataLength(),r=this._viewport.measureScrollOffset(),o=this._itemSize>0?r/this._itemSize:0;if(t.end>s){let l=Math.ceil(n/this._itemSize),h=Math.max(0,Math.min(o,s-l));o!=h&&(o=h,r=h*this._itemSize,t.start=Math.floor(o)),t.end=Math.max(0,Math.min(s,t.start+l))}let c=r-t.start*this._itemSize;if(c<this._minBufferPx&&t.start!=0){let l=Math.ceil((this._maxBufferPx-c)/this._itemSize);t.start=Math.max(0,t.start-l),t.end=Math.min(s,Math.ceil(o+(n+this._minBufferPx)/this._itemSize))}else{let l=t.end*this._itemSize-(r+n);if(l<this._minBufferPx&&t.end!=s){let h=Math.ceil((this._maxBufferPx-l)/this._itemSize);h>0&&(t.end=Math.min(s,t.end+h),t.start=Math.max(0,Math.floor(o-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(t),this._viewport.setRenderedContentOffset(this._itemSize*t.start),this._scrolledIndexChange.next(Math.floor(o))}};function wE(i){return i._scrollStrategy}var RN=(()=>{let e=class e{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new Z6(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(n){this._itemSize=v1(n)}get minBufferPx(){return this._minBufferPx}set minBufferPx(n){this._minBufferPx=v1(n)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(n){this._maxBufferPx=v1(n)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=pe({type:e,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},standalone:!0,features:[Xn([{provide:gf,useFactory:wE,deps:[Q5(()=>e)]}]),_e]});let i=e;return i})(),zE=20,Ss=(()=>{let e=class e{constructor(n,s,r){this._ngZone=n,this._platform=s,this._scrolled=new q,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let s=this.scrollContainers.get(n);s&&(s.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=zE){return this._platform.isBrowser?new Xe(s=>{this._globalSubscription||this._addGlobalListener();let r=n>0?this._scrolled.pipe(J1(n)).subscribe(s):this._scrolled.subscribe(s);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):F()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,s)=>this.deregister(s)),this._scrolled.complete()}ancestorScrolled(n,s){let r=this.getAncestorScrollContainers(n);return this.scrolled(s).pipe(xe(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(n){let s=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,n)&&s.push(o)}),s}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,s){let r=xi(s),o=n.getElementRef().nativeElement;do if(r==o)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let n=this._getWindow();return e1(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};e.\u0275fac=function(s){return new(s||e)(V(Y),V(Ue),V(ne,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Y6=(()=>{let e=class e{constructor(n,s,r,o){this.elementRef=n,this.scrollDispatcher=s,this.ngZone=r,this.dir=o,this._destroyed=new q,this._elementScrolled=new Xe(c=>this.ngZone.runOutsideAngular(()=>e1(this.elementRef.nativeElement,"scroll").pipe(ve(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){let s=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";n.left==null&&(n.left=r?n.end:n.start),n.right==null&&(n.right=r?n.start:n.end),n.bottom!=null&&(n.top=s.scrollHeight-s.clientHeight-n.bottom),r&&Ts()!=fn.NORMAL?(n.left!=null&&(n.right=s.scrollWidth-s.clientWidth-n.left),Ts()==fn.INVERTED?n.left=n.right:Ts()==fn.NEGATED&&(n.left=n.right?-n.right:n.right)):n.right!=null&&(n.left=s.scrollWidth-s.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){let s=this.elementRef.nativeElement;j2()?s.scrollTo(n):(n.top!=null&&(s.scrollTop=n.top),n.left!=null&&(s.scrollLeft=n.left))}measureScrollOffset(n){let s="left",r="right",o=this.elementRef.nativeElement;if(n=="top")return o.scrollTop;if(n=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let c=this.dir&&this.dir.value=="rtl";return n=="start"?n=c?r:s:n=="end"&&(n=c?s:r),c&&Ts()==fn.INVERTED?n==s?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&Ts()==fn.NEGATED?n==s?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:n==s?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}};e.\u0275fac=function(s){return new(s||e)(L(he),L(Ss),L(Y),L(Qt,8))},e.\u0275dir=pe({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0});let i=e;return i})(),EE=20,Eo=(()=>{let e=class e{constructor(n,s,r){this._platform=n,this._change=new q,this._changeListener=o=>{this._change.next(o)},this._document=r,s.runOutsideAngular(()=>{if(n.isBrowser){let o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:s,height:r}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+r,right:n.left+s,height:r,width:s}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,s=this._getWindow(),r=n.documentElement,o=r.getBoundingClientRect(),c=-o.top||n.body.scrollTop||s.scrollY||r.scrollTop||0,l=-o.left||n.body.scrollLeft||s.scrollX||r.scrollLeft||0;return{top:c,left:l}}change(n=EE){return n>0?this._change.pipe(J1(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}};e.\u0275fac=function(s){return new(s||e)(V(Ue),V(Y),V(ne,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),mf=new X("VIRTUAL_SCROLLABLE"),TE=(()=>{let e=class e extends Y6{constructor(n,s,r,o){super(n,s,r,o)}measureViewportSize(n){let s=this.elementRef.nativeElement;return n==="horizontal"?s.clientWidth:s.clientHeight}};e.\u0275fac=function(s){return new(s||e)(L(he),L(Ss),L(Y),L(Qt,8))},e.\u0275dir=pe({type:e,features:[qn]});let i=e;return i})();function IE(i,e){return i.start==e.start&&i.end==e.end}var CE=typeof requestAnimationFrame<"u"?q5:_5,ME=(()=>{let e=class e extends TE{get orientation(){return this._orientation}set orientation(n){this._orientation!==n&&(this._orientation=n,this._calculateSpacerSize())}constructor(n,s,r,o,c,l,h,f){super(n,l,r,c),this.elementRef=n,this._changeDetectorRef=s,this._scrollStrategy=o,this.scrollable=f,this._platform=x(Ue),this._detachedSubject=new q,this._renderedRangeSubject=new q,this._orientation="vertical",this.appendOnly=!1,this.scrolledIndexChange=new Xe(v=>this._scrollStrategy.scrolledIndexChange.subscribe(p=>Promise.resolve().then(()=>this.ngZone.run(()=>v.next(p))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Pt.EMPTY,this._injector=x(Ge),this._isDestroyed=!1,this._viewportChanges=h.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Gt(null),J1(0,CE),ve(this._destroyed)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),this._isDestroyed=!0,super.ngOnDestroy()}attach(n){this._forOf,this.ngZone.runOutsideAngular(()=>{this._forOf=n,this._forOf.dataStream.pipe(ve(this._detachedSubject)).subscribe(s=>{let r=s.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(n){return this.getElementRef().nativeElement.getBoundingClientRect()[n]}setTotalContentSize(n){this._totalContentSize!==n&&(this._totalContentSize=n,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(n){IE(this._renderedRange,n)||(this.appendOnly&&(n={start:0,end:Math.max(this._renderedRange.end,n.end)}),this._renderedRangeSubject.next(this._renderedRange=n),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(n,s="to-start"){n=this.appendOnly&&s==="to-start"?0:n;let r=this.dir&&this.dir.value=="rtl",o=this.orientation=="horizontal",c=o?"X":"Y",h=`translate${c}(${Number((o&&r?-1:1)*n)}px)`;this._renderedContentOffset=n,s==="to-end"&&(h+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=h&&(this._renderedContentTransform=h,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(n,s="auto"){let r={behavior:s};this.orientation==="horizontal"?r.start=n:r.top=n,this.scrollable.scrollTo(r)}scrollToIndex(n,s="auto"){this._scrollStrategy.scrollToIndex(n,s)}measureScrollOffset(n){let s;return this.scrollable==this?s=r=>super.measureScrollOffset(r):s=r=>this.scrollable.measureScrollOffset(r),Math.max(0,s(n??(this.orientation==="horizontal"?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(n){let s,r="left",o="right",c=this.dir?.value=="rtl";n=="start"?s=c?o:r:n=="end"?s=c?r:o:n?s=n:s=this.orientation==="horizontal"?"left":"top";let l=this.scrollable.measureBoundingClientRectWithScrollOffset(s);return this.elementRef.nativeElement.getBoundingClientRect()[s]-l}measureRenderedContentSize(){let n=this._contentWrapper.nativeElement;return this.orientation==="horizontal"?n.offsetWidth:n.offsetHeight}measureRangeSize(n){return this._forOf?this._forOf.measureRangeSize(n,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(n){n&&this._runAfterChangeDetection.push(n),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isDestroyed||this.ngZone.run(()=>{this._changeDetectorRef.markForCheck(),this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,bi(()=>{this._isChangeDetectionPending=!1;let n=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(let s of n)s()},{injector:this._injector})})}_calculateSpacerSize(){this._totalContentHeight=this.orientation==="horizontal"?"":`${this._totalContentSize}px`,this._totalContentWidth=this.orientation==="horizontal"?`${this._totalContentSize}px`:""}};e.\u0275fac=function(s){return new(s||e)(L(he),L(St),L(Y),L(gf,8),L(Qt,8),L(Ss),L(Eo),L(mf,8))},e.\u0275cmp=De({type:e,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(s,r){if(s&1&&o1(yE,7),s&2){let o;ln(o=hn())&&(r._contentWrapper=o.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(s,r){s&2&&Dt("cdk-virtual-scroll-orientation-horizontal",r.orientation==="horizontal")("cdk-virtual-scroll-orientation-vertical",r.orientation!=="horizontal")},inputs:{orientation:"orientation",appendOnly:[2,"appendOnly","appendOnly",ge]},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[Xn([{provide:Y6,useFactory:(n,s)=>n||s,deps:[[new mt,new $5(mf)],e]}]),Qe,qn,ke],ngContentSelectors:bE,decls:4,vars:4,consts:[["contentWrapper",""],[1,"cdk-virtual-scroll-content-wrapper"],[1,"cdk-virtual-scroll-spacer"]],template:function(s,r){s&1&&(is(),_(0,"div",1,0),ss(2),G(),ue(3,"div",2)),s&2&&(W(3),ns("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0});let i=e;return i})();function vf(i,e,t){let n=t;if(!n.getBoundingClientRect)return 0;let s=n.getBoundingClientRect();return i==="horizontal"?e==="start"?s.left:s.right:e==="start"?s.top:s.bottom}var xN=(()=>{let e=class e{get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(n){this._cdkVirtualForOf=n,ff(n)?this._dataSourceChanges.next(n):this._dataSourceChanges.next(new X2(ft(n)?n:Array.from(n||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(n){this._needsUpdate=!0,this._cdkVirtualForTrackBy=n?(s,r)=>n(s+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(n){n&&(this._needsUpdate=!0,this._template=n)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(n){this._viewRepeater.viewCacheSize=v1(n)}constructor(n,s,r,o,c,l){this._viewContainerRef=n,this._template=s,this._differs=r,this._viewRepeater=o,this._viewport=c,this.viewChange=new q,this._dataSourceChanges=new q,this.dataStream=this._dataSourceChanges.pipe(Gt(null),cc(),ot(([h,f])=>this._changeDataSource(h,f)),xr(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new q,this.dataStream.subscribe(h=>{this._data=h,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(ve(this._destroyed)).subscribe(h=>{this._renderedRange=h,this.viewChange.observers.length&&l.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}measureRangeSize(n,s){if(n.start>=n.end)return 0;n.start<this._renderedRange.start||n.end>this._renderedRange.end;let r=n.start-this._renderedRange.start,o=n.end-n.start,c,l;for(let h=0;h<o;h++){let f=this._viewContainerRef.get(h+r);if(f&&f.rootNodes.length){c=l=f.rootNodes[0];break}}for(let h=o-1;h>-1;h--){let f=this._viewContainerRef.get(h+r);if(f&&f.rootNodes.length){l=f.rootNodes[f.rootNodes.length-1];break}}return c&&l?vf(s,"end",l)-vf(s,"start",c):0}ngDoCheck(){if(this._differ&&this._needsUpdate){let n=this._differ.diff(this._renderedItems);n?this._applyChanges(n):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){this._renderedRange&&(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((n,s)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(n,s):s)),this._needsUpdate=!0)}_changeDataSource(n,s){return n&&n.disconnect(this),this._needsUpdate=!0,s?s.connect(this):F()}_updateContext(){let n=this._data.length,s=this._viewContainerRef.length;for(;s--;){let r=this._viewContainerRef.get(s);r.context.index=this._renderedRange.start+s,r.context.count=n,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(n){this._viewRepeater.applyChanges(n,this._viewContainerRef,(o,c,l)=>this._getEmbeddedViewArgs(o,l),o=>o.item),n.forEachIdentityChange(o=>{let c=this._viewContainerRef.get(o.currentIndex);c.context.$implicit=o.item});let s=this._data.length,r=this._viewContainerRef.length;for(;r--;){let o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=s,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(n){n.first=n.index===0,n.last=n.index===n.count-1,n.even=n.index%2===0,n.odd=!n.even}_getEmbeddedViewArgs(n,s){return{templateRef:this._template,context:{$implicit:n.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:s}}};e.\u0275fac=function(s){return new(s||e)(L(tn),L(at),L(M7),L(K6),L(ME,4),L(Y))},e.\u0275dir=pe({type:e,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},standalone:!0,features:[Xn([{provide:K6,useClass:G2}])]});let i=e;return i})();var pf=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({});let i=e;return i})(),Q6=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({imports:[g1,pf,g1,pf]});let i=e;return i})();var To=class{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;e!=null&&(this._attachedHost=null,e.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(e){this._attachedHost=e}},Vs=class extends To{constructor(e,t,n,s,r){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=s,this.projectableNodes=r}},b1=class extends To{constructor(e,t,n,s){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n,this.injector=s}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}},J6=class extends To{constructor(e){super(),this.element=e instanceof he?e.nativeElement:e}},K2=class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){if(e instanceof Vs)return this._attachedPortal=e,this.attachComponentPortal(e);if(e instanceof b1)return this._attachedPortal=e,this.attachTemplatePortal(e);if(this.attachDomPortal&&e instanceof J6)return this._attachedPortal=e,this.attachDomPortal(e)}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}};var Z2=class extends K2{constructor(e,t,n,s,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=s,this.attachDomPortal=o=>{this._document;let c=o.element;c.parentNode;let l=this._document.createComment("dom-portal");c.parentNode.insertBefore(l,c),this.outletElement.appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=r}attachComponentPortal(e){let n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(n,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>s.destroy())):(s=n.create(e.injector||this._defaultInjector||Ge.NULL),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return n.rootNodes.forEach(s=>this.outletElement.appendChild(s)),n.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(n);s!==-1&&t.remove(s)}),this._attachedPortal=e,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}};var Y2=(()=>{let e=class e extends K2{constructor(n,s,r){super(),this._componentFactoryResolver=n,this._viewContainerRef=s,this._isInitialized=!1,this.attached=new Ee,this.attachDomPortal=o=>{this._document;let c=o.element;c.parentNode;let l=this._document.createComment("dom-portal");o.setAttachedHost(this),c.parentNode.insertBefore(l,c),this._getRootNode().appendChild(c),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(c,l)})},this._document=r}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let s=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,o=(n.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(n.component),c=s.createComponent(o,s.length,n.injector||s.injector,n.projectableNodes||void 0);return s!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=n,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(n){n.setAttachedHost(this);let s=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=s,this.attached.emit(s),s}_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}};e.\u0275fac=function(s){return new(s||e)(L(H4),L(tn),L(ne))},e.\u0275dir=pe({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],standalone:!0,features:[qn]});let i=e;return i})();var Q2=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({});let i=e;return i})();var yf=j2(),$6=class{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){let e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=je(-this._previousScrollPosition.left),e.style.top=je(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let e=this._document.documentElement,t=this._document.body,n=e.style,s=t.style,r=n.scrollBehavior||"",o=s.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),yf&&(n.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),yf&&(n.scrollBehavior=r,s.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let t=this._document.body,n=this._viewportRuler.getViewportSize();return t.scrollHeight>n.height||t.scrollWidth>n.width}};var e0=class{constructor(e,t,n,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(this._scrollSubscription)return;let e=this._scrollDispatcher.scrolled(0).pipe(xe(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{let t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},J2=class{enable(){}disable(){}attach(){}};function t0(i,e){return e.some(t=>{let n=i.bottom<t.top,s=i.top>t.bottom,r=i.right<t.left,o=i.left>t.right;return n||s||r||o})}function bf(i,e){return e.some(t=>{let n=i.top<t.top,s=i.bottom>t.bottom,r=i.left<t.left,o=i.right>t.right;return n||s||r||o})}var n0=class{constructor(e,t,n,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef,this._overlayRef=e}enable(){if(!this._scrollSubscription){let e=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(e).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:s}=this._viewportRuler.getViewportSize();t0(t,[{width:n,height:s,bottom:s,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},AE=(()=>{let e=class e{constructor(n,s,r,o){this._scrollDispatcher=n,this._viewportRuler=s,this._ngZone=r,this.noop=()=>new J2,this.close=c=>new e0(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new $6(this._viewportRuler,this._document),this.reposition=c=>new n0(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}};e.\u0275fac=function(s){return new(s||e)(V(Ss),V(Eo),V(Y),V(ne))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),As=class{constructor(e){if(this.scrollStrategy=new J2,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){let t=Object.keys(e);for(let n of t)e[n]!==void 0&&(this[n]=e[n])}}},He=class{constructor(e,t,n,s,r){this.offsetX=n,this.offsetY=s,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}};var i0=class{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}};var Mf=(()=>{let e=class e{constructor(n){this._attachedOverlays=[],this._document=n}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let s=this._attachedOverlays.indexOf(n);s>-1&&this._attachedOverlays.splice(s,1),this._attachedOverlays.length===0&&this.detach()}};e.\u0275fac=function(s){return new(s||e)(V(ne))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),a0=(()=>{let e=class e extends Mf{constructor(n,s){super(n),this._ngZone=s,this._keydownListener=r=>{let o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){let l=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>l.next(r)):l.next(r);break}}}add(n){super.add(n),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}};e.\u0275fac=function(s){return new(s||e)(V(ne),V(Y,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),RE=(()=>{let e=class e extends Mf{constructor(n,s,r){super(n),this._platform=s,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=In(o)},this._clickListener=o=>{let c=In(o),l=o.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;let h=this._attachedOverlays.slice();for(let f=h.length-1;f>-1;f--){let v=h[f];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(wf(v.overlayElement,c)||wf(v.overlayElement,l))break;let p=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>p.next(o)):p.next(o)}}}add(n){if(super.add(n),!this._isAttached){let s=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(s)):this._addEventListeners(s),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=s.style.cursor,s.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){let n=this._document.body;n.removeEventListener("pointerdown",this._pointerDownListener,!0),n.removeEventListener("click",this._clickListener,!0),n.removeEventListener("auxclick",this._clickListener,!0),n.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(n.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(n){n.addEventListener("pointerdown",this._pointerDownListener,!0),n.addEventListener("click",this._clickListener,!0),n.addEventListener("auxclick",this._clickListener,!0),n.addEventListener("contextmenu",this._clickListener,!0)}};e.\u0275fac=function(s){return new(s||e)(V(ne),V(Ue),V(Y,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function wf(i,e){let t=typeof ShadowRoot<"u"&&ShadowRoot,n=e;for(;n;){if(n===i)return!0;n=t&&n instanceof ShadowRoot?n.host:n.parentNode}return!1}var Sf=(()=>{let e=class e{constructor(n,s){this._platform=s,this._document=n}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||U6()){let r=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}let s=this._document.createElement("div");s.classList.add(n),U6()?s.setAttribute("platform","test"):this._platform.isBrowser||s.setAttribute("platform","server"),this._document.body.appendChild(s),this._containerElement=s}};e.\u0275fac=function(s){return new(s||e)(V(ne),V(Ue))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),s0=class{constructor(e,t,n,s,r,o,c,l,h,f=!1,v){this._portalOutlet=e,this._host=t,this._pane=n,this._config=s,this._ngZone=r,this._keyboardDispatcher=o,this._document=c,this._location=l,this._outsideClickDispatcher=h,this._animationsDisabled=f,this._injector=v,this._backdropElement=null,this._backdropClick=new q,this._attachments=new q,this._detachments=new q,this._locationChanges=Pt.EMPTY,this._backdropClickHandler=p=>this._backdropClick.next(p),this._backdropTransitionendHandler=p=>{this._disposeBackdrop(p.target)},this._keydownEvents=new q,this._outsidePointerEvents=new q,this._renders=new q,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy,this._afterRenderRef=pc(()=>b7(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=bi(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof t?.onDestroy=="function"&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){let e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=H(H({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Ne(H({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){let e=this._config.direction;return e?typeof e=="string"?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let e=this._pane.style;e.width=je(this._config.width),e.height=je(this._config.height),e.minWidth=je(this._config.minWidth),e.minHeight=je(this._config.minHeight),e.maxWidth=je(this._config.maxWidth),e.maxHeight=je(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){let e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e=this._backdropElement;if(e){if(this._animationsDisabled){this._disposeBackdrop(e);return}e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,n){let s=Es(t||[]).filter(r=>!!r);s.length&&(n?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let e=this._renders.pipe(ve(x4(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){let e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}},zf="cdk-overlay-connected-position-bounding-box",xE=/([A-Za-z%]+)$/,r0=class{get positions(){return this._preferredPositions}constructor(e,t,n,s,r){this._viewportRuler=t,this._document=n,this._platform=s,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new q,this._resizeSubscription=Pt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._overlayRef&&this._overlayRef,this._validatePositions(),e.hostElement.classList.add(zf),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._originRect,t=this._overlayRect,n=this._viewportRect,s=this._containerRect,r=[],o;for(let c of this._preferredPositions){let l=this._getOriginPoint(e,s,c),h=this._getOverlayPoint(l,t,c),f=this._getOverlayFit(h,t,n,c);if(f.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(c,l);return}if(this._canFitWithFlexibleDimensions(f,h,n)){r.push({position:c,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,c)});continue}(!o||o.overlayFit.visibleArea<f.visibleArea)&&(o={overlayFit:f,overlayPoint:h,originPoint:l,position:c,overlayRect:t})}if(r.length){let c=null,l=-1;for(let h of r){let f=h.boundingBoxRect.width*h.boundingBoxRect.height*(h.position.weight||1);f>l&&(l=f,c=h)}this._isPushed=!1,this._applyPosition(c.position,c.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(o.position,o.originPoint);return}this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&w1(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zf),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,e.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,n){let s;if(n.originX=="center")s=e.left+e.width/2;else{let o=this._isRtl()?e.right:e.left,c=this._isRtl()?e.left:e.right;s=n.originX=="start"?o:c}t.left<0&&(s-=t.left);let r;return n.originY=="center"?r=e.top+e.height/2:r=n.originY=="top"?e.top:e.bottom,t.top<0&&(r-=t.top),{x:s,y:r}}_getOverlayPoint(e,t,n){let s;n.overlayX=="center"?s=-t.width/2:n.overlayX==="start"?s=this._isRtl()?-t.width:0:s=this._isRtl()?0:-t.width;let r;return n.overlayY=="center"?r=-t.height/2:r=n.overlayY=="top"?0:-t.height,{x:e.x+s,y:e.y+r}}_getOverlayFit(e,t,n,s){let r=Tf(t),{x:o,y:c}=e,l=this._getOffset(s,"x"),h=this._getOffset(s,"y");l&&(o+=l),h&&(c+=h);let f=0-o,v=o+r.width-n.width,p=0-c,I=c+r.height-n.height,A=this._subtractOverflows(r.width,f,v),P=this._subtractOverflows(r.height,p,I),R=A*P;return{visibleArea:R,isCompletelyWithinViewport:r.width*r.height===R,fitsInViewportVertically:P===r.height,fitsInViewportHorizontally:A==r.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){let s=n.bottom-t.y,r=n.right-t.x,o=Ef(this._overlayRef.getConfig().minHeight),c=Ef(this._overlayRef.getConfig().minWidth),l=e.fitsInViewportVertically||o!=null&&o<=s,h=e.fitsInViewportHorizontally||c!=null&&c<=r;return l&&h}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};let s=Tf(t),r=this._viewportRect,o=Math.max(e.x+s.width-r.width,0),c=Math.max(e.y+s.height-r.height,0),l=Math.max(r.top-n.top-e.y,0),h=Math.max(r.left-n.left-e.x,0),f=0,v=0;return s.width<=r.width?f=h||-o:f=e.x<this._viewportMargin?r.left-n.left-e.x:0,s.height<=r.height?v=l||-c:v=e.y<this._viewportMargin?r.top-n.top-e.y:0,this._previousPushAmount={x:f,y:v},{x:e.x+f,y:e.y+v}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._positionChanges.observers.length){let n=this._getScrollVisibility();if(e!==this._lastPosition||!this._lastScrollVisibility||!OE(this._lastScrollVisibility,n)){let s=new i0(e,n);this._positionChanges.next(s)}this._lastScrollVisibility=n}this._lastPosition=e,this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;let t=this._boundingBox.querySelectorAll(this._transformOriginSelector),n,s=e.overlayY;e.overlayX==="center"?n="center":this._isRtl()?n=e.overlayX==="start"?"right":"left":n=e.overlayX==="start"?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${n} ${s}`}_calculateBoundingBoxRect(e,t){let n=this._viewportRect,s=this._isRtl(),r,o,c;if(t.overlayY==="top")o=e.y,r=n.height-o+this._viewportMargin;else if(t.overlayY==="bottom")c=n.height-e.y+this._viewportMargin*2,r=n.height-c+this._viewportMargin;else{let I=Math.min(n.bottom-e.y+n.top,e.y),A=this._lastBoundingBoxSize.height;r=I*2,o=e.y-I,r>A&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-A/2)}let l=t.overlayX==="start"&&!s||t.overlayX==="end"&&s,h=t.overlayX==="end"&&!s||t.overlayX==="start"&&s,f,v,p;if(h)p=n.width-e.x+this._viewportMargin*2,f=e.x-this._viewportMargin;else if(l)v=e.x,f=n.right-e.x;else{let I=Math.min(n.right-e.x+n.left,e.x),A=this._lastBoundingBoxSize.width;f=I*2,v=e.x-I,f>A&&!this._isInitialRender&&!this._growAfterOpen&&(v=e.x-A/2)}return{top:o,left:v,bottom:c,right:p,width:f,height:r}}_setBoundingBoxStyles(e,t){let n=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));let s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{let r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;s.height=je(n.height),s.top=je(n.top),s.bottom=je(n.bottom),s.width=je(n.width),s.left=je(n.left),s.right=je(n.right),t.overlayX==="center"?s.alignItems="center":s.alignItems=t.overlayX==="end"?"flex-end":"flex-start",t.overlayY==="center"?s.justifyContent="center":s.justifyContent=t.overlayY==="bottom"?"flex-end":"flex-start",r&&(s.maxHeight=je(r)),o&&(s.maxWidth=je(o))}this._lastBoundingBoxSize=n,w1(this._boundingBox.style,s)}_resetBoundingBoxStyles(){w1(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){w1(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){let n={},s=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(s){let f=this._viewportRuler.getViewportScrollPosition();w1(n,this._getExactOverlayY(t,e,f)),w1(n,this._getExactOverlayX(t,e,f))}else n.position="static";let c="",l=this._getOffset(t,"x"),h=this._getOffset(t,"y");l&&(c+=`translateX(${l}px) `),h&&(c+=`translateY(${h}px)`),n.transform=c.trim(),o.maxHeight&&(s?n.maxHeight=je(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(s?n.maxWidth=je(o.maxWidth):r&&(n.maxWidth="")),w1(this._pane.style,n)}_getExactOverlayY(e,t,n){let s={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);if(this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),e.overlayY==="bottom"){let o=this._document.documentElement.clientHeight;s.bottom=`${o-(r.y+this._overlayRect.height)}px`}else s.top=je(r.y);return s}_getExactOverlayX(e,t,n){let s={left:"",right:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o;if(this._isRtl()?o=e.overlayX==="end"?"left":"right":o=e.overlayX==="end"?"right":"left",o==="right"){let c=this._document.documentElement.clientWidth;s.right=`${c-(r.x+this._overlayRect.width)}px`}else s.left=je(r.x);return s}_getScrollVisibility(){let e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bf(e,n),isOriginOutsideView:t0(e,n),isOverlayClipped:bf(t,n),isOverlayOutsideView:t0(t,n)}}_subtractOverflows(e,...t){return t.reduce((n,s)=>n-Math.max(s,0),e)}_getNarrowedViewportRect(){let e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return t==="x"?e.offsetX==null?this._offsetX:e.offsetX:e.offsetY==null?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Es(e).forEach(t=>{t!==""&&this._appliedPanelClasses.indexOf(t)===-1&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){let e=this._origin;if(e instanceof he)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();let t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}};function w1(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function Ef(i){if(typeof i!="number"&&i!=null){let[e,t]=i.split(xE);return!t||t==="px"?parseFloat(e):null}return i||null}function Tf(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}function OE(i,e){return i===e?!0:i.isOriginClipped===e.isOriginClipped&&i.isOriginOutsideView===e.isOriginOutsideView&&i.isOverlayClipped===e.isOverlayClipped&&i.isOverlayOutsideView===e.isOverlayOutsideView}var If="cdk-global-overlay-wrapper",o0=class{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){let t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(If),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:s,height:r,maxWidth:o,maxHeight:c}=n,l=(s==="100%"||s==="100vw")&&(!o||o==="100%"||o==="100vw"),h=(r==="100%"||r==="100vh")&&(!c||c==="100%"||c==="100vh"),f=this._xPosition,v=this._xOffset,p=this._overlayRef.getConfig().direction==="rtl",I="",A="",P="";l?P="flex-start":f==="center"?(P="center",p?A=v:I=v):p?f==="left"||f==="end"?(P="flex-end",I=v):(f==="right"||f==="start")&&(P="flex-start",A=v):f==="left"||f==="start"?(P="flex-start",I=v):(f==="right"||f==="end")&&(P="flex-end",A=v),e.position=this._cssPosition,e.marginLeft=l?"0":I,e.marginTop=h?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":A,t.justifyContent=P,t.alignItems=h?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove(If),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}},LE=(()=>{let e=class e{constructor(n,s,r,o){this._viewportRuler=n,this._document=s,this._platform=r,this._overlayContainer=o}global(){return new o0}flexibleConnectedTo(n){return new r0(n,this._viewportRuler,this._document,this._platform,this._overlayContainer)}};e.\u0275fac=function(s){return new(s||e)(V(Eo),V(ne),V(Ue),V(Sf))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),NE=0,z1=(()=>{let e=class e{constructor(n,s,r,o,c,l,h,f,v,p,I,A){this.scrollStrategies=n,this._overlayContainer=s,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=l,this._ngZone=h,this._document=f,this._directionality=v,this._location=p,this._outsideClickDispatcher=I,this._animationsModuleType=A}create(n){let s=this._createHostElement(),r=this._createPaneElement(s),o=this._createPortalOutlet(r),c=new As(n);return c.direction=c.direction||this._directionality.value,new s0(o,s,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(_n))}position(){return this._positionBuilder}_createPaneElement(n){let s=this._document.createElement("div");return s.id=`cdk-overlay-${NE++}`,s.classList.add("cdk-overlay-pane"),n.appendChild(s),s}_createHostElement(){let n=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalOutlet(n){return this._appRef||(this._appRef=this._injector.get(rs)),new Z2(n,this._componentFactoryResolver,this._appRef,this._injector,this._document)}};e.\u0275fac=function(s){return new(s||e)(V(AE),V(Sf),V(H4),V(LE),V(a0),V(Ge),V(Y),V(ne),V(Qt),V(c1),V(RE),V(wn,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),PE=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Vf=new X("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{let i=x(z1);return()=>i.scrollStrategies.reposition()}}),$2=(()=>{let e=class e{constructor(n){this.elementRef=n}};e.\u0275fac=function(s){return new(s||e)(L(he))},e.\u0275dir=pe({type:e,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"],standalone:!0});let i=e;return i})(),Af=(()=>{let e=class e{get offsetX(){return this._offsetX}set offsetX(n){this._offsetX=n,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(n){this._offsetY=n,this._position&&this._updatePositionStrategy(this._position)}get disposeOnNavigation(){return this._disposeOnNavigation}set disposeOnNavigation(n){this._disposeOnNavigation=n}constructor(n,s,r,o,c){this._overlay=n,this._dir=c,this._backdropSubscription=Pt.EMPTY,this._attachSubscription=Pt.EMPTY,this._detachSubscription=Pt.EMPTY,this._positionSubscription=Pt.EMPTY,this._disposeOnNavigation=!1,this._ngZone=x(Y),this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.hasBackdrop=!1,this.lockPosition=!1,this.flexibleDimensions=!1,this.growAfterOpen=!1,this.push=!1,this.backdropClick=new Ee,this.positionChange=new Ee,this.attach=new Ee,this.detach=new Ee,this.overlayKeydown=new Ee,this.overlayOutsideClick=new Ee,this._templatePortal=new b1(s,r),this._scrollStrategyFactory=o,this.scrollStrategy=this._scrollStrategyFactory()}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(n){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),n.origin&&this.open&&this._position.apply()),n.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=PE);let n=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=n.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=n.detachments().subscribe(()=>this.detach.emit()),n.keydownEvents().subscribe(s=>{this.overlayKeydown.next(s),s.keyCode===27&&!this.disableClose&&!W2(s)&&(s.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(s=>{let r=this._getOriginElement(),o=In(s);(!r||r!==o&&!r.contains(o))&&this.overlayOutsideClick.next(s)})}_buildConfig(){let n=this._position=this.positionStrategy||this._createPositionStrategy(),s=new As({direction:this._dir,positionStrategy:n,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop,disposeOnNavigation:this.disposeOnNavigation});return(this.width||this.width===0)&&(s.width=this.width),(this.height||this.height===0)&&(s.height=this.height),(this.minWidth||this.minWidth===0)&&(s.minWidth=this.minWidth),(this.minHeight||this.minHeight===0)&&(s.minHeight=this.minHeight),this.backdropClass&&(s.backdropClass=this.backdropClass),this.panelClass&&(s.panelClass=this.panelClass),s}_updatePositionStrategy(n){let s=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return n.setOrigin(this._getOrigin()).withPositions(s).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){let n=this._overlay.position().flexibleConnectedTo(this._getOrigin());return this._updatePositionStrategy(n),n}_getOrigin(){return this.origin instanceof $2?this.origin.elementRef:this.origin}_getOriginElement(){return this.origin instanceof $2?this.origin.elementRef.nativeElement:this.origin instanceof he?this.origin.nativeElement:typeof Element<"u"&&this.origin instanceof Element?this.origin:null}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(n=>{this.backdropClick.emit(n)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(Z5(()=>this.positionChange.observers.length>0)).subscribe(n=>{this._ngZone.run(()=>this.positionChange.emit(n)),this.positionChange.observers.length===0&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}};e.\u0275fac=function(s){return new(s||e)(L(z1),L(at),L(tn),L(Vf),L(Qt,8))},e.\u0275dir=pe({type:e,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:[0,"cdkConnectedOverlayOrigin","origin"],positions:[0,"cdkConnectedOverlayPositions","positions"],positionStrategy:[0,"cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:[0,"cdkConnectedOverlayOffsetX","offsetX"],offsetY:[0,"cdkConnectedOverlayOffsetY","offsetY"],width:[0,"cdkConnectedOverlayWidth","width"],height:[0,"cdkConnectedOverlayHeight","height"],minWidth:[0,"cdkConnectedOverlayMinWidth","minWidth"],minHeight:[0,"cdkConnectedOverlayMinHeight","minHeight"],backdropClass:[0,"cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:[0,"cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:[0,"cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:[0,"cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:[0,"cdkConnectedOverlayOpen","open"],disableClose:[0,"cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:[0,"cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:[2,"cdkConnectedOverlayHasBackdrop","hasBackdrop",ge],lockPosition:[2,"cdkConnectedOverlayLockPosition","lockPosition",ge],flexibleDimensions:[2,"cdkConnectedOverlayFlexibleDimensions","flexibleDimensions",ge],growAfterOpen:[2,"cdkConnectedOverlayGrowAfterOpen","growAfterOpen",ge],push:[2,"cdkConnectedOverlayPush","push",ge],disposeOnNavigation:[2,"cdkConnectedOverlayDisposeOnNavigation","disposeOnNavigation",ge]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],standalone:!0,features:[Qe,_e]});let i=e;return i})();function DE(i){return()=>i.scrollStrategies.reposition()}var kE={provide:Vf,deps:[z1],useFactory:DE},nP=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({providers:[z1,kE],imports:[g1,Q2,Q6,Q6]});let i=e;return i})();var vt=(()=>{let e=class e{};e.SLOW="0.3s",e.BASE="0.2s",e.FAST="0.1s";let i=e;return i})(),Vt=(()=>{let e=class e{};e.EASE_BASE_OUT="cubic-bezier(0.7, 0.3, 0.1, 1)",e.EASE_BASE_IN="cubic-bezier(0.9, 0, 0.3, 0.7)",e.EASE_OUT="cubic-bezier(0.215, 0.61, 0.355, 1)",e.EASE_IN="cubic-bezier(0.55, 0.055, 0.675, 0.19)",e.EASE_IN_OUT="cubic-bezier(0.645, 0.045, 0.355, 1)",e.EASE_OUT_BACK="cubic-bezier(0.12, 0.4, 0.29, 1.46)",e.EASE_IN_BACK="cubic-bezier(0.71, -0.46, 0.88, 0.6)",e.EASE_IN_OUT_BACK="cubic-bezier(0.71, -0.46, 0.29, 1.46)",e.EASE_OUT_CIRC="cubic-bezier(0.08, 0.82, 0.17, 1)",e.EASE_IN_CIRC="cubic-bezier(0.6, 0.04, 0.98, 0.34)",e.EASE_IN_OUT_CIRC="cubic-bezier(0.78, 0.14, 0.15, 0.86)",e.EASE_OUT_QUINT="cubic-bezier(0.23, 1, 0.32, 1)",e.EASE_IN_QUINT="cubic-bezier(0.755, 0.05, 0.855, 0.06)",e.EASE_IN_OUT_QUINT="cubic-bezier(0.86, 0, 0.07, 1)";let i=e;return i})(),oP=Bt("collapseMotion",[_t("expanded",K({height:"*"})),_t("collapsed",K({height:0,overflow:"hidden"})),_t("hidden",K({height:0,overflow:"hidden",borderTopWidth:"0"})),Ce("expanded => collapsed",Te(`150ms ${Vt.EASE_IN_OUT}`)),Ce("expanded => hidden",Te(`150ms ${Vt.EASE_IN_OUT}`)),Ce("collapsed => expanded",Te(`150ms ${Vt.EASE_IN_OUT}`)),Ce("hidden => expanded",Te(`150ms ${Vt.EASE_IN_OUT}`))]),aP=Bt("treeCollapseMotion",[Ce("* => *",[wc("nz-tree-node:leave,nz-tree-builtin-node:leave",[K({overflow:"hidden"}),zc(0,[Te(`150ms ${Vt.EASE_IN_OUT}`,K({height:0,opacity:0,"padding-bottom":0}))])],{optional:!0}),wc("nz-tree-node:enter,nz-tree-builtin-node:enter",[K({overflow:"hidden",height:0,opacity:0,"padding-bottom":0}),zc(0,[Te(`150ms ${Vt.EASE_IN_OUT}`,K({overflow:"hidden",height:"*",opacity:"*","padding-bottom":"*"}))])],{optional:!0})])]),xf=Bt("drawerMaskMotion",[Ce(":enter",[K({opacity:0}),Te(`${vt.SLOW}`,K({opacity:1}))]),Ce(":leave",[K({opacity:1}),Te(`${vt.SLOW}`,K({opacity:0}))])]),cP=Bt("fadeMotion",[Ce("* => enter",[K({opacity:0}),Te(`${vt.BASE}`,K({opacity:1}))]),Ce("* => leave, :leave",[K({opacity:1}),Te(`${vt.BASE}`,K({opacity:0}))])]),lP=Bt("helpMotion",[Ce(":enter",[K({opacity:0,transform:"translateY(-5px)"}),Te(`${vt.SLOW} ${Vt.EASE_IN_OUT}`,K({opacity:1,transform:"translateY(0)"}))]),Ce(":leave",[K({opacity:1,transform:"translateY(0)"}),Te(`${vt.SLOW} ${Vt.EASE_IN_OUT}`,K({opacity:0,transform:"translateY(-5px)"}))])]),hP=Bt("moveUpMotion",[Ce("* => enter",[K({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}),Te(`${vt.BASE}`,K({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}))]),Ce("* => leave",[K({transformOrigin:"0 0",transform:"translateY(0%)",opacity:1}),Te(`${vt.BASE}`,K({transformOrigin:"0 0",transform:"translateY(-100%)",opacity:0}))])]),uP=Bt("notificationMotion",[_t("enterRight",K({opacity:1,transform:"translateX(0)"})),Ce("* => enterRight",[K({opacity:0,transform:"translateX(5%)"}),Te("100ms linear")]),_t("enterLeft",K({opacity:1,transform:"translateX(0)"})),Ce("* => enterLeft",[K({opacity:0,transform:"translateX(-5%)"}),Te("100ms linear")]),_t("enterTop",K({opacity:1,transform:"translateY(0)"})),Ce("* => enterTop",[K({opacity:0,transform:"translateY(-5%)"}),Te("100ms linear")]),_t("enterBottom",K({opacity:1,transform:"translateY(0)"})),Ce("* => enterBottom",[K({opacity:0,transform:"translateY(5%)"}),Te("100ms linear")]),_t("leave",K({opacity:0,transform:"scaleY(0.8)",transformOrigin:"0% 0%"})),Ce("* => leave",[K({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Te("100ms linear")])]),HE=`${vt.BASE} ${Vt.EASE_OUT_QUINT}`,FE=`${vt.BASE} ${Vt.EASE_IN_QUINT}`,dP=Bt("slideMotion",[_t("void",K({opacity:0,transform:"scaleY(0.8)"})),_t("enter",K({opacity:1,transform:"scaleY(1)"})),Ce("void => *",[Te(HE)]),Ce("* => void",[Te(FE)])]),fP=Bt("slideAlertMotion",[Ce(":leave",[K({opacity:1,transform:"scaleY(1)",transformOrigin:"0% 0%"}),Te(`${vt.SLOW} ${Vt.EASE_IN_OUT_CIRC}`,K({opacity:0,transform:"scaleY(0)",transformOrigin:"0% 0%"}))])]),mP=Bt("tabSwitchMotion",[_t("leave",K({display:"none"})),Ce("* => enter",[K({display:"block",opacity:0}),Te(vt.SLOW)]),Ce("* => leave, :leave",[K({position:"absolute",top:0,left:0,width:"100%"}),Te(vt.SLOW,K({opacity:0})),K({display:"none"})])]),vP=Bt("thumbMotion",[_t("from",K({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:0,width:0}}),_t("to",K({transform:"translateX({{ transform }}px)",width:"{{ width }}px"}),{params:{transform:100,width:0}}),Ce("from => to",Te(`300ms ${Vt.EASE_IN_OUT}`))]),pP=Bt("zoomBigMotion",[Ce("void => active",[K({opacity:0,transform:"scale(0.8)"}),Te(`${vt.BASE} ${Vt.EASE_OUT_CIRC}`,K({opacity:1,transform:"scale(1)"}))]),Ce("active => void",[K({opacity:1,transform:"scale(1)"}),Te(`${vt.BASE} ${Vt.EASE_IN_OUT_CIRC}`,K({opacity:0,transform:"scale(0.8)"}))])]),gP=Bt("zoomBadgeMotion",[Ce(":enter",[K({opacity:0,transform:"scale(0) translate(50%, -50%)"}),Te(`${vt.SLOW} ${Vt.EASE_OUT_BACK}`,K({opacity:1,transform:"scale(1) translate(50%, -50%)"}))]),Ce(":leave",[K({opacity:1,transform:"scale(1) translate(50%, -50%)"}),Te(`${vt.SLOW} ${Vt.EASE_IN_BACK}`,K({opacity:0,transform:"scale(0) translate(50%, -50%)"}))])]);var Of=(()=>{let e=class e{constructor(){this.animationType=x(wn,{optional:!0}),this.nzNoAnimation=!1}};e.\u0275fac=function(s){return new(s||e)},e.\u0275dir=pe({type:e,selectors:[["","nzNoAnimation",""]],hostVars:2,hostBindings:function(s,r){s&2&&Dt("nz-animate-disabled",r.nzNoAnimation||r.animationType==="NoopAnimations")},inputs:{nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",ge]},exportAs:["nzNoAnimation"],standalone:!0,features:[Qe]});let i=e;return i})();var Lf=(()=>{let e=class e{static ngTemplateContextGuard(n,s){return!0}recreateView(){this.viewContainer.clear();let n=this.nzStringTemplateOutlet instanceof at,s=n?this.nzStringTemplateOutlet:this.templateRef;this.embeddedViewRef=this.viewContainer.createEmbeddedView(s,n?this.nzStringTemplateOutletContext:this.context)}updateContext(){let s=this.nzStringTemplateOutlet instanceof at?this.nzStringTemplateOutletContext:this.context,r=this.embeddedViewRef.context;if(s)for(let o of Object.keys(s))r[o]=s[o]}constructor(n,s){this.viewContainer=n,this.templateRef=s,this.embeddedViewRef=null,this.context=new c0,this.nzStringTemplateOutletContext=null,this.nzStringTemplateOutlet=null}ngOnChanges(n){let{nzStringTemplateOutletContext:s,nzStringTemplateOutlet:r}=n,o=()=>{let l=!1;if(r)if(r.firstChange)l=!0;else{let v=r.previousValue instanceof at,p=r.currentValue instanceof at;l=v||p}return s&&(v=>{let p=Object.keys(v.previousValue||{}),I=Object.keys(v.currentValue||{});if(p.length===I.length){for(let A of I)if(p.indexOf(A)===-1)return!0;return!1}else return!0})(s)||l};r&&(this.context.$implicit=r.currentValue),o()?this.recreateView():this.updateContext()}};e.\u0275fac=function(s){return new(s||e)(L(tn),L(at))},e.\u0275dir=pe({type:e,selectors:[["","nzStringTemplateOutlet",""]],inputs:{nzStringTemplateOutletContext:"nzStringTemplateOutletContext",nzStringTemplateOutlet:"nzStringTemplateOutlet"},exportAs:["nzStringTemplateOutlet"],standalone:!0,features:[_e]});let i=e;return i})(),c0=class{},Nf=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({});let i=e;return i})();var Pf=["moz","ms","webkit"];function _E(){let i=0;return function(e){let t=new Date().getTime(),n=Math.max(0,16-(t-i)),s=window.setTimeout(()=>{e(t+n)},n);return i=t+n,s}}function jE(){if(typeof window>"u")return()=>0;if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);let i=Pf.filter(e=>`${e}RequestAnimationFrame`in window)[0];return i?window[`${i}RequestAnimationFrame`]:_E()}function AP(i){if(typeof window>"u")return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(i);let e=Pf.filter(t=>`${t}CancelAnimationFrame`in window||`${t}CancelRequestAnimationFrame`in window)[0];return e?(window[`${e}CancelAnimationFrame`]||window[`${e}CancelRequestAnimationFrame`]).call(this,i):clearTimeout(i)}var l0=jE();var Df=new Set,E1,h0=(()=>{let e=class e{constructor(n,s){this._platform=n,this._nonce=s,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qE}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&UE(n,this._nonce),this._matchMedia(n)}};e.\u0275fac=function(s){return new(s||e)(V(Ue),V(jn,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function UE(i,e){if(!Df.has(i))try{E1||(E1=document.createElement("style"),e&&E1.setAttribute("nonce",e),E1.setAttribute("type","text/css"),document.head.appendChild(E1)),E1.sheet&&(E1.sheet.insertRule(`@media ${i} {body{ }}`,0),Df.add(i))}catch(t){console.error(t)}}function qE(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Hf=(()=>{let e=class e{constructor(n,s){this._mediaMatcher=n,this._zone=s,this._queries=new Map,this._destroySubject=new q}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return kf(Es(n)).some(r=>this._registerQuery(r).mql.matches)}observe(n){let r=kf(Es(n)).map(c=>this._registerQuery(c).observable),o=Y1(r);return o=$i(o.pipe(Et(1)),o.pipe(N4(1),O4(0))),o.pipe(Z(c=>{let l={matches:!1,breakpoints:{}};return c.forEach(({matches:h,query:f})=>{l.matches=l.matches||h,l.breakpoints[f]=h}),l}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let s=this._mediaMatcher.matchMedia(n),o={observable:new Xe(c=>{let l=h=>this._zone.run(()=>c.next(h));return s.addListener(l),()=>{s.removeListener(l)}}).pipe(Gt(s),Z(({matches:c})=>({query:n,matches:c})),ve(this._destroySubject)),mql:s};return this._queries.set(n,o),o}};e.\u0275fac=function(s){return new(s||e)(V(h0),V(Y))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function kf(i){return i.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}var u0=()=>{},XE=(()=>{let e=class e{constructor(n,s){this.ngZone=n,this.rendererFactory2=s,this.resizeSource$=new q,this.listeners=0,this.disposeHandle=u0,this.handler=()=>{this.ngZone.run(()=>{this.resizeSource$.next()})},this.renderer=this.rendererFactory2.createRenderer(null,null)}ngOnDestroy(){this.handler=u0}subscribe(){return this.registerListener(),this.resizeSource$.pipe(J1(16),an(()=>this.unregisterListener()))}unsubscribe(){this.unregisterListener()}registerListener(){this.listeners===0&&this.ngZone.runOutsideAngular(()=>{this.disposeHandle=this.renderer.listen("window","resize",this.handler)}),this.listeners+=1}unregisterListener(){this.listeners-=1,this.listeners===0&&(this.disposeHandle(),this.disposeHandle=u0)}};e.\u0275fac=function(s){return new(s||e)(V(Y),V(cn))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),GE=new Map,GP=(()=>{let e=class e{constructor(){this._singletonRegistry=new Map}get singletonRegistry(){return k2.isTestMode?GE:this._singletonRegistry}registerSingletonWithKey(n,s){let r=this.singletonRegistry.has(n),o=r?this.singletonRegistry.get(n):this.withNewTarget(s);r||this.singletonRegistry.set(n,o)}unregisterSingletonWithKey(n){this.singletonRegistry.has(n)&&this.singletonRegistry.delete(n)}getSingletonWithKey(n){return this.singletonRegistry.has(n)?this.singletonRegistry.get(n).target:null}withNewTarget(n){return{target:n}}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function KE(i){let e=G9(i);return{x:e.pageX,y:e.pageY}}var KP=(()=>{let e=class e{constructor(n){this.draggingThreshold=5,this.currentDraggingSequence=null,this.currentStartingPoint=null,this.handleRegistry=new Set,this.renderer=n.createRenderer(null,null)}requestDraggingSequence(n){return this.handleRegistry.size||this.registerDraggingHandler(D6(n)),this.currentDraggingSequence&&this.currentDraggingSequence.complete(),this.currentStartingPoint=KE(n),this.currentDraggingSequence=new q,this.currentDraggingSequence.pipe(Z(s=>({x:s.pageX-this.currentStartingPoint.x,y:s.pageY-this.currentStartingPoint.y})),xe(s=>Math.abs(s.x)>this.draggingThreshold||Math.abs(s.y)>this.draggingThreshold),an(()=>this.teardownDraggingSequence()))}registerDraggingHandler(n){n?(this.handleRegistry.add({teardown:this.renderer.listen("document","touchmove",s=>{this.currentDraggingSequence&&this.currentDraggingSequence.next(s.touches[0]||s.changedTouches[0])})}),this.handleRegistry.add({teardown:this.renderer.listen("document","touchend",()=>{this.currentDraggingSequence&&this.currentDraggingSequence.complete()})})):(this.handleRegistry.add({teardown:this.renderer.listen("document","mousemove",s=>{this.currentDraggingSequence&&this.currentDraggingSequence.next(s)})}),this.handleRegistry.add({teardown:this.renderer.listen("document","mouseup",()=>{this.currentDraggingSequence&&this.currentDraggingSequence.complete()})}))}teardownDraggingSequence(){this.currentDraggingSequence=null}};e.\u0275fac=function(s){return new(s||e)(V(cn))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function ZE(i,e,t,n){let s=t-e,r=i/(n/2);return r<1?s/2*r*r*r+e:s/2*((r-=2)*r*r+2)+e}var Ff=(()=>{let e=class e{constructor(n){this.ngZone=n,this.doc=x(ne)}setScrollTop(n,s=0){n===window?(this.doc.body.scrollTop=s,this.doc.documentElement.scrollTop=s):n.scrollTop=s}getOffset(n){let s={top:0,left:0};if(!n||!n.getClientRects().length)return s;let r=n.getBoundingClientRect();if(r.width||r.height){let o=n.ownerDocument.documentElement;s.top=r.top-o.clientTop,s.left=r.left-o.clientLeft}else s.top=r.top,s.left=r.left;return s}getScroll(n,s=!0){if(typeof window>"u")return 0;let r=s?"scrollTop":"scrollLeft",o=0;return this.isWindow(n)?o=n[s?"pageYOffset":"pageXOffset"]:n instanceof Document?o=n.documentElement[r]:n&&(o=n[r]),n&&!this.isWindow(n)&&typeof o!="number"&&(o=(n.ownerDocument||n).documentElement[r]),o}isWindow(n){return n!=null&&n===n.window}scrollTo(n,s=0,r={}){let o=n||window,c=this.getScroll(o),l=Date.now(),{easing:h,callback:f,duration:v=450}=r,p=()=>{let A=Date.now()-l,P=(h||ZE)(A>v?v:A,c,s,v);this.isWindow(o)?o.scrollTo(window.pageXOffset,P):o instanceof HTMLDocument||o.constructor.name==="HTMLDocument"?o.documentElement.scrollTop=P:o.scrollTop=P,A<v?l0(p):typeof f=="function"&&this.ngZone.run(f)};this.ngZone.runOutsideAngular(()=>l0(p))}};e.\u0275fac=function(s){return new(s||e)(V(Y))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Bf=function(i){return i.xxl="xxl",i.xl="xl",i.lg="lg",i.md="md",i.sm="sm",i.xs="xs",i}(Bf||{}),YE={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};var ZP=(()=>{let e=class e{constructor(n,s){this.resizeService=n,this.mediaMatcher=s,this.destroy$=new q,this.resizeService.subscribe().pipe(ve(this.destroy$)).subscribe(()=>{})}ngOnDestroy(){this.destroy$.next()}subscribe(n,s){if(s){let r=()=>this.matchMedia(n,!0);return this.resizeService.subscribe().pipe(Z(r),Gt(r()),gi((o,c)=>o[0]===c[0]),Z(o=>o[1]))}else{let r=()=>this.matchMedia(n);return this.resizeService.subscribe().pipe(Z(r),Gt(r()),gi())}}matchMedia(n,s){let r=Bf.md,o={};return Object.keys(n).map(c=>{let l=c,h=this.mediaMatcher.matchMedia(YE[l]).matches;o[c]=h,h&&(r=l)}),s?[r,o]:r}};e.\u0275fac=function(s){return new(s||e)(V(XE),V(h0))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),ea=(()=>{let e=class e extends q{ngOnDestroy(){this.next(),this.complete()}};e.\u0275fac=(()=>{let n;return function(r){return(n||(n=bn(e)))(r||e)}})(),e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})();var At={top:new He({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topCenter:new He({originX:"center",originY:"top"},{overlayX:"center",overlayY:"bottom"}),topLeft:new He({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"}),topRight:new He({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"}),right:new He({originX:"end",originY:"center"},{overlayX:"start",overlayY:"center"}),rightTop:new He({originX:"end",originY:"top"},{overlayX:"start",overlayY:"top"}),rightBottom:new He({originX:"end",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),bottom:new He({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomCenter:new He({originX:"center",originY:"bottom"},{overlayX:"center",overlayY:"top"}),bottomLeft:new He({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"}),bottomRight:new He({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"}),left:new He({originX:"start",originY:"center"},{overlayX:"end",overlayY:"center"}),leftTop:new He({originX:"start",originY:"top"},{overlayX:"end",overlayY:"top"}),leftBottom:new He({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})},iD=[At.top,At.right,At.bottom,At.left],sD=[At.bottomLeft,At.bottomRight,At.topLeft,At.topRight,At.topCenter,At.bottomCenter],rD=[new He({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"bottom"}),new He({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"bottom"})],oD=[At.bottomLeft,new He({originX:"start",originY:"bottom"},{overlayX:"end",overlayY:"top"})];function QE(i){for(let e in At)if(i.connectionPair.originX===At[e].originX&&i.connectionPair.originY===At[e].originY&&i.connectionPair.overlayX===At[e].overlayX&&i.connectionPair.overlayY===At[e].overlayY)return e}var ta={bottomLeft:new He({originX:"start",originY:"bottom"},{overlayX:"start",overlayY:"top"},void 0,2),topLeft:new He({originX:"start",originY:"top"},{overlayX:"start",overlayY:"bottom"},void 0,-2),bottomRight:new He({originX:"end",originY:"bottom"},{overlayX:"end",overlayY:"top"},void 0,2),topRight:new He({originX:"end",originY:"top"},{overlayX:"end",overlayY:"bottom"},void 0,-2)},aD=[ta.bottomLeft,ta.topLeft,ta.bottomRight,ta.topRight],cD=(()=>{let e=class e{constructor(n,s){this.cdkConnectedOverlay=n,this.nzDestroyService=s,this.nzArrowPointAtCenter=!1,this.cdkConnectedOverlay.backdropClass="nz-overlay-transparent-backdrop",this.cdkConnectedOverlay.positionChange.pipe(ve(this.nzDestroyService)).subscribe(r=>{this.nzArrowPointAtCenter&&this.updateArrowPosition(r)})}updateArrowPosition(n){let s=this.getOriginRect(),r=QE(n),o=0,c=0;r==="topLeft"||r==="bottomLeft"?o=s.width/2-14:r==="topRight"||r==="bottomRight"?o=-(s.width/2-14):r==="leftTop"||r==="rightTop"?c=s.height/2-10:(r==="leftBottom"||r==="rightBottom")&&(c=-(s.height/2-10)),(this.cdkConnectedOverlay.offsetX!==o||this.cdkConnectedOverlay.offsetY!==c)&&(this.cdkConnectedOverlay.offsetY=c,this.cdkConnectedOverlay.offsetX=o,this.cdkConnectedOverlay.overlayRef.updatePosition())}getFlexibleConnectedPositionStrategyOrigin(){return this.cdkConnectedOverlay.origin instanceof $2?this.cdkConnectedOverlay.origin.elementRef:this.cdkConnectedOverlay.origin}getOriginRect(){let n=this.getFlexibleConnectedPositionStrategyOrigin();if(n instanceof he)return n.nativeElement.getBoundingClientRect();if(n instanceof Element)return n.getBoundingClientRect();let s=n.width||0,r=n.height||0;return{top:n.y,bottom:n.y+r,left:n.x,right:n.x+s,height:r,width:s}}};e.\u0275fac=function(s){return new(s||e)(L(Af),L(ea))},e.\u0275dir=pe({type:e,selectors:[["","cdkConnectedOverlay","","nzConnectedOverlay",""]],inputs:{nzArrowPointAtCenter:[2,"nzArrowPointAtCenter","nzArrowPointAtCenter",ge]},exportAs:["nzConnectedOverlay"],features:[Xn([ea]),Qe]});let i=e;return i})(),lD=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({});let i=e;return i})();function jf(i,e){e&&(i._host.style.zIndex=`${e}`)}var JE=(()=>{let e=class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var Uf=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({providers:[JE]});let i=e;return i})();var gT=200,f0=class{constructor(e,t){this._letterKeyStream=new q,this._items=[],this._selectedItemIndex=-1,this._pressedLetters=[],this._selectedItem=new q,this.selectedItem=this._selectedItem;let n=typeof t?.debounceInterval=="number"?t.debounceInterval:gT;t?.skipPredicate&&(this._skipPredicateFn=t.skipPredicate),this.setItems(e),this._setupKeyHandler(n)}destroy(){this._pressedLetters=[],this._letterKeyStream.complete(),this._selectedItem.complete()}setCurrentSelectedItemIndex(e){this._selectedItemIndex=e}setItems(e){this._items=e}handleKey(e){let t=e.keyCode;e.key&&e.key.length===1?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))}isTyping(){return this._pressedLetters.length>0}reset(){this._pressedLetters=[]}_setupKeyHandler(e){this._letterKeyStream.pipe(Be(t=>this._pressedLetters.push(t)),O4(e),xe(()=>this._pressedLetters.length>0),Z(()=>this._pressedLetters.join("").toLocaleUpperCase())).subscribe(t=>{for(let n=1;n<this._items.length+1;n++){let s=(this._selectedItemIndex+n)%this._items.length,r=this._items[s];if(!this._skipPredicateFn?.(r)&&r.getLabel?.().toLocaleUpperCase().trim().indexOf(t)===0){this._selectedItem.next(r);break}}this._pressedLetters=[]})}},m0=class{constructor(e,t){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._typeaheadSubscription=Pt.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=n=>n.disabled,this.tabOut=new q,this.change=new q,e instanceof dc?this._itemChangesSubscription=e.changes.subscribe(n=>this._itemsChanged(n.toArray())):fc(e)&&(this._effectRef=gc(()=>this._itemsChanged(e()),{injector:t}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){this._typeaheadSubscription.unsubscribe();let t=this._getItemsArray();return this._typeahead=new f0(t,{debounceInterval:typeof e=="number"?e:void 0,skipPredicate:n=>this._skipPredicateFn(n)}),this._typeaheadSubscription=this._typeahead.selectedItem.subscribe(n=>{this.setActiveItem(n)}),this}cancelTypeahead(){return this._typeahead?.reset(),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){let t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){let t=e.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(r=>!e[r]||this._allowedModifierKeys.indexOf(r)>-1);switch(t){case 9:this.tabOut.next();return;case 40:if(this._vertical&&s){this.setNextItemActive();break}else return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}else return;case 39:if(this._horizontal&&s){this._horizontal==="rtl"?this.setPreviousItemActive():this.setNextItemActive();break}else return;case 37:if(this._horizontal&&s){this._horizontal==="rtl"?this.setNextItemActive():this.setPreviousItemActive();break}else return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}else return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}else return;case 33:if(this._pageUpAndDown.enabled&&s){let r=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(r>0?r:0,1);break}else return;case 34:if(this._pageUpAndDown.enabled&&s){let r=this._activeItemIndex+this._pageUpAndDown.delta,o=this._getItemsArray().length;this._setActiveItemByIndex(r<o?r:o-1,-1);break}else return;default:(s||W2(e,"shiftKey"))&&this._typeahead?.handleKey(e);return}this._typeahead?.reset(),e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return!!this._typeahead&&this._typeahead.isTyping()}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._getItemsArray().length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){let t=this._getItemsArray(),n=typeof e=="number"?e:t.indexOf(e),s=t[n];this._activeItem=s??null,this._activeItemIndex=n,this._typeahead?.setCurrentSelectedItemIndex(n)}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._effectRef?.destroy(),this._typeahead?.destroy(),this.tabOut.complete(),this.change.complete()}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){let t=this._getItemsArray();for(let n=1;n<=t.length;n++){let s=(this._activeItemIndex+e*n+t.length)%t.length,r=t[s];if(!this._skipPredicateFn(r)){this.setActiveItem(s);return}}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){let n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(e+=t,!n[e])return;this.setActiveItem(e)}}_getItemsArray(){return fc(this._items)?this._items():this._items instanceof dc?this._items.toArray():this._items}_itemsChanged(e){if(this._typeahead?.setItems(e),this._activeItem){let t=e.indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t,this._typeahead?.setCurrentSelectedItemIndex(t))}}};var qf=class extends m0{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}};var yT=(()=>{let e=class e{constructor(n){this._platform=n}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return wT(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let s=bT(VT(n));if(s&&(Wf(s)===-1||!this.isVisible(s)))return!1;let r=n.nodeName.toLowerCase(),o=Wf(n);return n.hasAttribute("contenteditable")?o!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!MT(n)?!1:r==="audio"?n.hasAttribute("controls")?o!==-1:!1:r==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,s){return ST(n)&&!this.isDisabled(n)&&(s?.ignoreVisibility||this.isVisible(n))}};e.\u0275fac=function(s){return new(s||e)(V(Ue))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function bT(i){try{return i.frameElement}catch{return null}}function wT(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function zT(i){let e=i.nodeName.toLowerCase();return e==="input"||e==="select"||e==="button"||e==="textarea"}function ET(i){return IT(i)&&i.type=="hidden"}function TT(i){return CT(i)&&i.hasAttribute("href")}function IT(i){return i.nodeName.toLowerCase()=="input"}function CT(i){return i.nodeName.toLowerCase()=="a"}function Kf(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let e=i.getAttribute("tabindex");return!!(e&&!isNaN(parseInt(e,10)))}function Wf(i){if(!Kf(i))return null;let e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}function MT(i){let e=i.nodeName.toLowerCase(),t=e==="input"&&i.type;return t==="text"||t==="password"||e==="select"||e==="textarea"}function ST(i){return ET(i)?!1:zT(i)||TT(i)||i.hasAttribute("contenteditable")||Kf(i)}function VT(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var v0=class{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,n,s,r=!1,o){this._element=e,this._checker=t,this._ngZone=n,this._document=s,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}destroy(){let e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return e=="start"?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){let t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){let n=this._getFirstTabbableElement(t);return n?.focus(e),!!n}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){let t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){let t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let n=0;n<t.length;n++){let s=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(s)return s}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children;for(let n=t.length-1;n>=0;n--){let s=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(s)return s}return null}_createAnchor(){let e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._injector?bi(e,{injector:this._injector}):setTimeout(e)}},Zf=(()=>{let e=class e{constructor(n,s,r){this._checker=n,this._ngZone=s,this._injector=x(Ge),this._document=r}create(n,s=!1){return new v0(n,this._checker,this._ngZone,this._document,s,this._injector)}};e.\u0275fac=function(s){return new(s||e)(V(yT),V(Y),V(ne))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function AT(i){return i.buttons===0||i.detail===0}function RT(i){let e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!e&&e.identifier===-1&&(e.radiusX==null||e.radiusX===1)&&(e.radiusY==null||e.radiusY===1)}var xT=new X("cdk-input-modality-detector-options"),OT={ignoreKeys:[18,17,224,91,16]},Yf=650,Rs=j6({passive:!0,capture:!0}),LT=(()=>{let e=class e{get mostRecentModality(){return this._modality.value}constructor(n,s,r,o){this._platform=n,this._mostRecentTarget=null,this._modality=new Ht(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(l=>l===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=In(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<Yf||(this._modality.next(AT(c)?"keyboard":"mouse"),this._mostRecentTarget=In(c))},this._onTouchstart=c=>{if(RT(c)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=In(c)},this._options=H(H({},OT),o),this.modalityDetected=this._modality.pipe(N4(1)),this.modalityChanged=this.modalityDetected.pipe(gi()),n.isBrowser&&s.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Rs),r.addEventListener("mousedown",this._onMousedown,Rs),r.addEventListener("touchstart",this._onTouchstart,Rs)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Rs),document.removeEventListener("mousedown",this._onMousedown,Rs),document.removeEventListener("touchstart",this._onTouchstart,Rs))}};e.\u0275fac=function(s){return new(s||e)(V(Ue),V(Y),V(ne),V(xT,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var ia=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(ia||{}),NT=new X("cdk-focus-monitor-default-options"),na=j6({passive:!0,capture:!0}),PT=(()=>{let e=class e{constructor(n,s,r,o,c){this._ngZone=n,this._platform=s,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new q,this._rootNodeFocusAndBlurListener=l=>{let h=In(l);for(let f=h;f;f=f.parentElement)l.type==="focus"?this._onFocus(l,f):this._onBlur(l,f)},this._document=o,this._detectionMode=c?.detectionMode||ia.IMMEDIATE}monitor(n,s=!1){let r=xi(n);if(!this._platform.isBrowser||r.nodeType!==1)return F();let o=ef(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return s&&(c.checkChildren=!0),c.subject;let l={checkChildren:s,subject:new q,rootNode:o};return this._elementInfo.set(r,l),this._registerGlobalListeners(l),l.subject}stopMonitoring(n){let s=xi(n),r=this._elementInfo.get(s);r&&(r.subject.complete(),this._setClasses(s),this._elementInfo.delete(s),this._removeGlobalListeners(r))}focusVia(n,s,r){let o=xi(n),c=this._getDocument().activeElement;o===c?this._getClosestElementsInfo(o).forEach(([l,h])=>this._originChanged(l,s,h)):(this._setOrigin(s),typeof o.focus=="function"&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((n,s)=>this.stopMonitoring(s))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===ia.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,s){n.classList.toggle("cdk-focused",!!s),n.classList.toggle("cdk-touch-focused",s==="touch"),n.classList.toggle("cdk-keyboard-focused",s==="keyboard"),n.classList.toggle("cdk-mouse-focused",s==="mouse"),n.classList.toggle("cdk-program-focused",s==="program")}_setOrigin(n,s=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&s,this._detectionMode===ia.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Yf:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(n,s){let r=this._elementInfo.get(s),o=In(n);!r||!r.checkChildren&&s!==o||this._originChanged(s,this._getFocusOrigin(o),r)}_onBlur(n,s){let r=this._elementInfo.get(s);!r||r.checkChildren&&n.relatedTarget instanceof Node&&s.contains(n.relatedTarget)||(this._setClasses(s),this._emitOrigin(r,null))}_emitOrigin(n,s){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(s))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let s=n.rootNode,r=this._rootNodeFocusListenerCount.get(s)||0;r||this._ngZone.runOutsideAngular(()=>{s.addEventListener("focus",this._rootNodeFocusAndBlurListener,na),s.addEventListener("blur",this._rootNodeFocusAndBlurListener,na)}),this._rootNodeFocusListenerCount.set(s,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(ve(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let s=n.rootNode;if(this._rootNodeFocusListenerCount.has(s)){let r=this._rootNodeFocusListenerCount.get(s);r>1?this._rootNodeFocusListenerCount.set(s,r-1):(s.removeEventListener("focus",this._rootNodeFocusAndBlurListener,na),s.removeEventListener("blur",this._rootNodeFocusAndBlurListener,na),this._rootNodeFocusListenerCount.delete(s))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,s,r){this._setClasses(n,s),this._emitOrigin(r,s),this._lastFocusOrigin=s}_getClosestElementsInfo(n){let s=[];return this._elementInfo.forEach((r,o)=>{(o===n||r.checkChildren&&o.contains(n))&&s.push([o,r])}),s}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:s,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!s||s===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let c=0;c<o.length;c++)if(o[c].contains(s))return!0}return!1}};e.\u0275fac=function(s){return new(s||e)(V(Y),V(Ue),V(LT),V(ne,8),V(NT,8))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),AD=(()=>{let e=class e{constructor(n,s){this._elementRef=n,this._focusMonitor=s,this._focusOrigin=null,this.cdkFocusChange=new Ee}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){let n=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(n,n.nodeType===1&&n.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(s=>{this._focusOrigin=s,this.cdkFocusChange.emit(s)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}};e.\u0275fac=function(s){return new(s||e)(L(he),L(PT))},e.\u0275dir=pe({type:e,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"],standalone:!0});let i=e;return i})(),T1=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(T1||{}),Xf="cdk-high-contrast-black-on-white",Gf="cdk-high-contrast-white-on-black",d0="cdk-high-contrast-active",DT=(()=>{let e=class e{constructor(n,s){this._platform=n,this._document=s,this._breakpointSubscription=x(Hf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return T1.NONE;let n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);let s=this._document.defaultView||window,r=s&&s.getComputedStyle?s.getComputedStyle(n):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(n.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return T1.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return T1.BLACK_ON_WHITE}return T1.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let n=this._document.body.classList;n.remove(d0,Xf,Gf),this._hasCheckedHighContrastMode=!0;let s=this.getHighContrastMode();s===T1.BLACK_ON_WHITE?n.add(d0,Xf):s===T1.WHITE_ON_BLACK&&n.add(d0,Gf)}}};e.\u0275fac=function(s){return new(s||e)(V(Ue),V(ne))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),RD=(()=>{let e=class e{constructor(n){n._applyBodyHighContrastModeCssClasses()}};e.\u0275fac=function(s){return new(s||e)(V(DT))},e.\u0275mod=oe({type:e}),e.\u0275inj=re({imports:[Uf]});let i=e;return i})();var HT=["drawerTemplate"];function FT(i,e){if(i&1){let t=Wn();_(0,"div",9),Le("click",function(){It(t);let s=de(2);return Ct(s.maskClick())}),G()}if(i&2){let t=de(2);Ve("@drawerMaskMotion",void 0)("ngStyle",t.nzMaskStyle)}}function BT(i,e){if(i&1&&(s1(0),ue(1,"span",17),r1()),i&2){let t=e.$implicit;W(),Ve("nzType",t)}}function _T(i,e){if(i&1){let t=Wn();_(0,"button",15),Le("click",function(){It(t);let s=de(3);return Ct(s.closeClick())}),Se(1,BT,2,1,"ng-container",16),G()}if(i&2){let t=de(3);W(),Ve("nzStringTemplateOutlet",t.nzCloseIcon)}}function jT(i,e){if(i&1&&(s1(0),ue(1,"div",18),r1()),i&2){let t=de(4);W(),Ve("innerHTML",t.nzTitle,n1)}}function UT(i,e){if(i&1&&(_(0,"div",13),Se(1,jT,2,1,"ng-container",16),G()),i&2){let t=de(3);W(),Ve("nzStringTemplateOutlet",t.nzTitle)}}function qT(i,e){if(i&1&&(s1(0),ue(1,"div",18),r1()),i&2){let t=de(4);W(),Ve("innerHTML",t.nzExtra,n1)}}function WT(i,e){if(i&1&&(_(0,"div",14),Se(1,qT,2,1,"ng-container",16),G()),i&2){let t=de(3);W(),Ve("nzStringTemplateOutlet",t.nzExtra)}}function XT(i,e){if(i&1&&(_(0,"div",10)(1,"div",11),Se(2,_T,2,1,"button",12)(3,UT,2,1,"div",13),G(),Se(4,WT,2,1,"div",14),G()),i&2){let t=de(2);Dt("ant-drawer-header-close-only",!t.nzTitle),W(2),Ke(t.nzClosable?2:-1),W(),Ke(t.nzTitle?3:-1),W(),Ke(t.nzExtra?4:-1)}}function GT(i,e){}function KT(i,e){i&1&&z7(0)}function ZT(i,e){if(i&1&&Se(0,KT,1,0,"ng-container",19),i&2){let t=de(3);Ve("ngTemplateOutlet",t.nzContent)("ngTemplateOutletContext",t.templateContext)}}function YT(i,e){if(i&1&&Se(0,ZT,1,2,"ng-container"),i&2){let t=de(2);Ke(t.isNzContentTemplateRef?0:-1)}}function QT(i,e){}function JT(i,e){if(i&1&&Se(0,QT,0,0,"ng-template",20),i&2){let t=de(3);Ve("ngTemplateOutlet",t.contentFromContentChild)}}function $T(i,e){if(i&1&&Se(0,JT,1,1,null,20),i&2){let t=de(2);Ke(t.contentFromContentChild&&(t.isOpen||t.inAnimation)?0:-1)}}function eI(i,e){if(i&1&&(s1(0),ue(1,"div",18),r1()),i&2){let t=de(3);W(),Ve("innerHTML",t.nzFooter,n1)}}function tI(i,e){if(i&1&&(_(0,"div",8),Se(1,eI,2,1,"ng-container",16),G()),i&2){let t=de(2);W(),Ve("nzStringTemplateOutlet",t.nzFooter)}}function nI(i,e){if(i&1&&(_(0,"div",1),Se(1,FT,1,2,"div",2),_(2,"div")(3,"div",3)(4,"div",4),Se(5,XT,5,5,"div",5),_(6,"div",6),Se(7,GT,0,0,"ng-template",7)(8,YT,1,1)(9,$T,1,1),G(),Se(10,tI,2,1,"div",8),G()()()()),i&2){let t=de();ns("transform",t.offsetTransform)("transition",t.placementChanging?"none":null)("z-index",t.nzZIndex),Dt("ant-drawer-rtl",t.dir==="rtl")("ant-drawer-open",t.isOpen)("no-mask",!t.nzMask)("ant-drawer-top",t.nzPlacement==="top")("ant-drawer-bottom",t.nzPlacement==="bottom")("ant-drawer-right",t.nzPlacement==="right")("ant-drawer-left",t.nzPlacement==="left"),Ve("nzNoAnimation",t.nzNoAnimation),W(),Ke(t.nzMask&&t.isOpen?1:-1),W(),w7("ant-drawer-content-wrapper ",t.nzWrapClassName,""),ns("width",t.width)("height",t.height)("transform",t.transform)("transition",t.placementChanging?"none":null),W(2),ns("height",t.isLeftOrRight?"100%":null),W(),Ke(t.nzTitle||t.nzClosable?5:-1),W(),Ve("ngStyle",t.nzBodyStyle),W(2),Ke(t.nzContent?8:9),W(2),Ke(t.nzFooter?10:-1)}}var g0=(()=>{let e=class e{constructor(n){this.templateRef=n}};e.\u0275fac=function(s){return new(s||e)(L(at))},e.\u0275dir=pe({type:e,selectors:[["","nzDrawerContent",""]],exportAs:["nzDrawerContent"],standalone:!0});let i=e;return i})(),Qf=378,Jf=736,iI=new X("NZ_DRAWER_DATA"),sa=class{},sI=300,rI="drawer",ra=(()=>{let e=class e extends sa{set nzVisible(n){this.isOpen=n}get nzVisible(){return this.isOpen}get offsetTransform(){if(!this.isOpen||this.nzOffsetX+this.nzOffsetY===0)return null;switch(this.nzPlacement){case"left":return`translateX(${this.nzOffsetX}px)`;case"right":return`translateX(-${this.nzOffsetX}px)`;case"top":return`translateY(${this.nzOffsetY}px)`;case"bottom":return`translateY(-${this.nzOffsetY}px)`}}get transform(){if(this.isOpen)return null;switch(this.nzPlacement){case"left":return"translateX(-100%)";case"right":return"translateX(100%)";case"top":return"translateY(-100%)";case"bottom":return"translateY(100%)"}}get width(){if(this.isLeftOrRight){let n=this.nzSize==="large"?Jf:Qf;return this.nzWidth===void 0?go(n):go(this.nzWidth)}return null}get height(){if(!this.isLeftOrRight){let n=this.nzSize==="large"?Jf:Qf;return this.nzHeight===void 0?go(n):go(this.nzHeight)}return null}get isLeftOrRight(){return this.nzPlacement==="left"||this.nzPlacement==="right"}get afterOpen(){return this.nzAfterOpen.asObservable()}get afterClose(){return this.nzAfterClose.asObservable()}get isNzContentTemplateRef(){return X9(this.nzContent)}constructor(n,s,r,o,c,l,h,f,v,p){super(),this.cdr=n,this.nzConfigService=s,this.renderer=r,this.overlay=o,this.injector=c,this.changeDetectorRef=l,this.focusTrapFactory=h,this.viewContainerRef=f,this.overlayKeyboardDispatcher=v,this.directionality=p,this._nzModuleName=rI,this.nzCloseIcon="close",this.nzClosable=!0,this.nzMaskClosable=!0,this.nzMask=!0,this.nzCloseOnNavigation=!0,this.nzNoAnimation=!1,this.nzKeyboard=!0,this.nzPlacement="right",this.nzSize="default",this.nzMaskStyle={},this.nzBodyStyle={},this.nzZIndex=1e3,this.nzOffsetX=0,this.nzOffsetY=0,this.componentInstance=null,this.componentRef=null,this.nzOnViewInit=new Ee,this.nzOnClose=new Ee,this.nzVisibleChange=new Ee,this.destroy$=new q,this.placementChanging=!1,this.isOpen=!1,this.inAnimation=!1,this.templateContext={$implicit:void 0,drawerRef:this},this.nzAfterOpen=new q,this.nzAfterClose=new q,this.nzDirection=void 0,this.dir="ltr",this.document=x(ne)}ngOnInit(){this.directionality.change?.pipe(ve(this.destroy$)).subscribe(n=>{this.dir=n,this.cdr.detectChanges()}),this.dir=this.nzDirection||this.directionality.value,this.attachOverlay(),this.updateOverlayStyle(),this.updateBodyOverflow(),this.templateContext={$implicit:this.nzData||this.nzContentParams,drawerRef:this},this.changeDetectorRef.detectChanges()}ngAfterViewInit(){this.attachBodyContent(),this.nzOnViewInit.observers.length&&setTimeout(()=>{this.nzOnViewInit.emit()})}ngOnChanges(n){let{nzPlacement:s,nzVisible:r}=n;r&&(n.nzVisible.currentValue?this.open():this.close()),s&&!s.isFirstChange()&&this.triggerPlacementChangeCycleOnce()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),clearTimeout(this.placementChangeTimeoutId),this.disposeOverlay()}getAnimationDuration(){return this.nzNoAnimation?0:sI}triggerPlacementChangeCycleOnce(){this.nzNoAnimation||(this.placementChanging=!0,this.changeDetectorRef.markForCheck(),clearTimeout(this.placementChangeTimeoutId),this.placementChangeTimeoutId=setTimeout(()=>{this.placementChanging=!1,this.changeDetectorRef.markForCheck()},this.getAnimationDuration()))}close(n){this.isOpen=!1,this.inAnimation=!0,this.nzVisibleChange.emit(!1),this.updateOverlayStyle(),this.overlayKeyboardDispatcher.remove(this.overlayRef),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.updateBodyOverflow(),this.restoreFocus(),this.inAnimation=!1,this.nzAfterClose.next(n),this.nzAfterClose.complete(),this.componentInstance=null,this.componentRef=null},this.getAnimationDuration())}open(){this.attachOverlay(),this.isOpen=!0,this.inAnimation=!0,this.nzVisibleChange.emit(!0),this.overlayKeyboardDispatcher.add(this.overlayRef),this.updateOverlayStyle(),this.updateBodyOverflow(),this.savePreviouslyFocusedElement(),this.trapFocus(),this.changeDetectorRef.detectChanges(),setTimeout(()=>{this.inAnimation=!1,this.changeDetectorRef.detectChanges(),this.nzAfterOpen.next()},this.getAnimationDuration())}getContentComponent(){return this.componentInstance}getContentComponentRef(){return this.componentRef}closeClick(){this.nzOnClose.emit()}maskClick(){this.nzMaskClosable&&this.nzMask&&this.nzOnClose.emit()}attachBodyContent(){if(this.bodyPortalOutlet.dispose(),this.nzContent instanceof s7){let n=Ge.create({parent:this.injector,providers:[{provide:sa,useValue:this},{provide:iI,useValue:this.nzData}]}),s=new Vs(this.nzContent,null,n);this.componentRef=this.bodyPortalOutlet.attachComponentPortal(s),this.componentInstance=this.componentRef.instance,Object.assign(this.componentRef.instance,this.nzData||this.nzContentParams),this.componentRef.changeDetectorRef.detectChanges()}}attachOverlay(){this.overlayRef||(this.portal=new b1(this.drawerTemplate,this.viewContainerRef),this.overlayRef=this.overlay.create(this.getOverlayConfig()),jf(this.overlayRef,this.nzZIndex)),this.overlayRef&&!this.overlayRef.hasAttached()&&(this.overlayRef.attach(this.portal),this.overlayRef.keydownEvents().pipe(ve(this.destroy$)).subscribe(n=>{n.keyCode===27&&this.isOpen&&this.nzKeyboard&&this.nzOnClose.emit()}),this.overlayRef.detachments().pipe(ve(this.destroy$)).subscribe(()=>{this.disposeOverlay()}))}disposeOverlay(){this.overlayRef?.dispose(),this.overlayRef=null}getOverlayConfig(){return new As({disposeOnNavigation:this.nzCloseOnNavigation,positionStrategy:this.overlay.position().global(),scrollStrategy:this.overlay.scrollStrategies.block()})}updateOverlayStyle(){this.overlayRef&&this.overlayRef.overlayElement&&this.renderer.setStyle(this.overlayRef.overlayElement,"pointer-events",this.isOpen?"auto":"none")}updateBodyOverflow(){this.overlayRef&&(this.isOpen?this.overlayRef.getConfig().scrollStrategy.enable():this.overlayRef.getConfig().scrollStrategy.disable())}savePreviouslyFocusedElement(){this.document&&!this.previouslyFocusedElement&&(this.previouslyFocusedElement=this.document.activeElement,this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.blur=="function"&&this.previouslyFocusedElement.blur())}trapFocus(){!this.focusTrap&&this.overlayRef&&this.overlayRef.overlayElement&&(this.focusTrap=this.focusTrapFactory.create(this.overlayRef.overlayElement),this.focusTrap.focusInitialElement())}restoreFocus(){this.previouslyFocusedElement&&typeof this.previouslyFocusedElement.focus=="function"&&this.previouslyFocusedElement.focus(),this.focusTrap&&this.focusTrap.destroy()}};e.\u0275fac=function(s){return new(s||e)(L(St),L(Oi),L(Ft),L(z1),L(Ge),L(St),L(Zf),L(tn),L(a0),L(Qt))},e.\u0275cmp=De({type:e,selectors:[["nz-drawer"]],contentQueries:function(s,r,o){if(s&1&&Pr(o,g0,7,at),s&2){let c;ln(c=hn())&&(r.contentFromContentChild=c.first)}},viewQuery:function(s,r){if(s&1&&(o1(HT,7),o1(Y2,5)),s&2){let o;ln(o=hn())&&(r.drawerTemplate=o.first),ln(o=hn())&&(r.bodyPortalOutlet=o.first)}},inputs:{nzContent:"nzContent",nzCloseIcon:"nzCloseIcon",nzClosable:[2,"nzClosable","nzClosable",ge],nzMaskClosable:[2,"nzMaskClosable","nzMaskClosable",ge],nzMask:[2,"nzMask","nzMask",ge],nzCloseOnNavigation:[2,"nzCloseOnNavigation","nzCloseOnNavigation",ge],nzNoAnimation:[2,"nzNoAnimation","nzNoAnimation",ge],nzKeyboard:[2,"nzKeyboard","nzKeyboard",ge],nzTitle:"nzTitle",nzExtra:"nzExtra",nzFooter:"nzFooter",nzPlacement:"nzPlacement",nzSize:"nzSize",nzMaskStyle:"nzMaskStyle",nzBodyStyle:"nzBodyStyle",nzWrapClassName:"nzWrapClassName",nzWidth:"nzWidth",nzHeight:"nzHeight",nzZIndex:"nzZIndex",nzOffsetX:"nzOffsetX",nzOffsetY:"nzOffsetY",nzVisible:[2,"nzVisible","nzVisible",ge]},outputs:{nzOnViewInit:"nzOnViewInit",nzOnClose:"nzOnClose",nzVisibleChange:"nzVisibleChange"},exportAs:["nzDrawer"],standalone:!0,features:[Qe,qn,_e,ke],decls:2,vars:0,consts:[["drawerTemplate",""],[1,"ant-drawer",3,"nzNoAnimation"],[1,"ant-drawer-mask",3,"ngStyle"],[1,"ant-drawer-content"],[1,"ant-drawer-wrapper-body"],[1,"ant-drawer-header",3,"ant-drawer-header-close-only"],[1,"ant-drawer-body",3,"ngStyle"],["cdkPortalOutlet",""],[1,"ant-drawer-footer"],[1,"ant-drawer-mask",3,"click","ngStyle"],[1,"ant-drawer-header"],[1,"ant-drawer-header-title"],["aria-label","Close",1,"ant-drawer-close"],[1,"ant-drawer-title"],[1,"ant-drawer-extra"],["aria-label","Close",1,"ant-drawer-close",3,"click"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType"],[3,"innerHTML"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"ngTemplateOutlet"]],template:function(s,r){s&1&&Se(0,nI,11,39,"ng-template",null,0,T7)},dependencies:[Of,K4,Nf,Lf,Li,Cn,Q2,Y2,N7],encapsulation:2,data:{animation:[xf]},changeDetection:0});let i=e;return gn([Tn()],i.prototype,"nzMaskClosable",void 0),gn([Tn()],i.prototype,"nzMask",void 0),gn([Tn()],i.prototype,"nzCloseOnNavigation",void 0),gn([Tn()],i.prototype,"nzDirection",void 0),i})(),p0=class{constructor(e,t){this.overlay=e,this.options=t,this.unsubscribe$=new q;let r=this.options,{nzOnCancel:n}=r,s=J3(r,["nzOnCancel"]);this.overlayRef=this.overlay.create(),this.drawerRef=this.overlayRef.attach(new Vs(ra)).instance,this.updateOptions(s),this.drawerRef.savePreviouslyFocusedElement(),this.drawerRef.nzOnViewInit.pipe(ve(this.unsubscribe$)).subscribe(()=>{this.drawerRef.open()}),this.drawerRef.nzOnClose.subscribe(()=>{n?n().then(o=>{o!==!1&&this.drawerRef.close()}):this.drawerRef.close()}),this.drawerRef.afterClose.pipe(ve(this.unsubscribe$)).subscribe(()=>{this.overlayRef.dispose(),this.drawerRef=null,this.unsubscribe$.next(),this.unsubscribe$.complete()})}getInstance(){return this.drawerRef}updateOptions(e){Object.assign(this.drawerRef,e)}},oI=(()=>{let e=class e{constructor(n){this.overlay=n}create(n){return new p0(this.overlay,n).getInstance()}};e.\u0275fac=function(s){return new(s||e)(V(z1))},e.\u0275prov=N({token:e,factory:e.\u0275fac});let i=e;return i})(),$f=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({providers:[oI],imports:[ra]});let i=e;return i})();var Ni=class i{_translate=x(d1);currentLang=localStorage.getItem(wo)||"en";en="en";ua="ua";langMenu=[this.en,this.ua];constructor(){this.langMenu=this.langMenu.filter(e=>e!==this.currentLang)}use(e){this.currentLang=e,this.langMenu=[this.en,this.ua],this.langMenu=this.langMenu.filter(t=>t!==e),this._translate.use(e),localStorage.setItem(wo,e)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=De({type:i,selectors:[["app-switch-lang"]],standalone:!0,features:[ke],decls:7,vars:3,consts:[[1,"lang"],[1,"lang__left"],[1,"lang__btn"],["nz-button","","nzType","link",3,"click"],[1,"lang__right"]],template:function(t,n){t&1&&(_(0,"div",0),ue(1,"div",1),_(2,"div",2)(3,"a",3),Le("click",function(){return n.use(n.currentLang===n.en?n.ua:n.en)}),Je(4),$e(5,"translate"),G()(),ue(6,"div",4),G()),t&2&&(W(4),B4(" ",et(5,1,"lang."+n.currentLang)," "))},dependencies:[En,Vi,Ms,y1,Cs],styles:[".lang[_ngcontent-%COMP%]{--langHeight: 30px;--triangleWidth: 20px;display:flex}.lang__btn[_ngcontent-%COMP%]{height:var(--langHeight);display:flex;align-items:center;background-color:#000;text-align:center}.lang__btn[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{font-weight:500;color:#fff;height:var(--langHeight);line-height:var(--langHeight)}.lang__left[_ngcontent-%COMP%], .lang__right[_ngcontent-%COMP%]{height:var(--langHeight)}.lang__left[_ngcontent-%COMP%]{border-left:var(--triangleWidth) solid transparent;border-right:0px solid transparent;border-bottom:var(--langHeight) solid #000}.lang__right[_ngcontent-%COMP%]{border-left:0px solid transparent;border-right:var(--triangleWidth) solid transparent;border-top:var(--langHeight) solid #000}@media (max-width: 580px){.lang[_ngcontent-%COMP%]{--langHeight: 20px;--triangleWidth: 15px}.lang__btn[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{padding:0 4px;font-size:12px}}"]})};function cI(i,e){i&1&&(_(0,"li",11)(1,"a",13),Je(2),$e(3,"translate"),G()()),i&2&&(W(2),Mt(et(3,1,"nav.news")))}function lI(i,e){if(i&1){let t=Wn();_(0,"li",10),Le("click",function(){It(t);let s=de(2);return Ct(s.scrollToId("news_list_section",0))}),_(1,"a"),Je(2),$e(3,"translate"),G()()}i&2&&(W(2),Mt(et(3,1,"nav.news")))}function hI(i,e){if(i&1){let t=Wn();s1(0),_(1,"div",5),ue(2,"app-switch-lang"),_(3,"button",6),Le("click",function(){It(t);let s=de();return Ct(s.close())}),ue(4,"span",7),G()(),_(5,"nav",8)(6,"ul",9)(7,"li",10),Le("click",function(){It(t);let s=de();return Ct(s.scrollToId("ecoc_section",0))}),_(8,"a"),Je(9),$e(10,"translate"),G()(),_(11,"li",11)(12,"a",12),Je(13),$e(14,"translate"),G()(),_(15,"li",10),Le("click",function(){It(t);let s=de();return Ct(s.scrollToId("nzHref_anchor1"))}),_(16,"a"),Je(17),$e(18,"translate"),G()(),Se(19,cI,4,3,"li",11)(20,lI,4,3,"li",11),_(21,"li",10),Le("click",function(){It(t);let s=de();return Ct(s.scrollToId("partners_section"))}),_(22,"a"),Je(23),$e(24,"translate"),G()(),_(25,"li",10),Le("click",function(){It(t);let s=de();return Ct(s.scrollToId("contacts_section",0))}),_(26,"a"),Je(27),$e(28,"translate"),G()()()(),r1()}if(i&2){let t=de();W(9),Mt(et(10,6,"nav.ecoc")),W(4),Mt(et(14,8,"nav.lviv_2030")),W(4),Mt(et(18,10,"nav.prehistory")),W(2),Ke(t.isHomePage()?20:19),W(4),Mt(et(24,12,"nav.partners")),W(4),Mt(et(28,14,"nav.contacts"))}}var Os=class i{isHomePage=t1(!1);router=x(kt);visible=!1;open(){this.visible=!0}close(){this.visible=!1}scrollToId(e,t=60){if(!this.isHomePage()){this.router.navigate(["/"]).then(()=>{setTimeout(()=>{this._scroll(e,t)},350)});return}setTimeout(()=>{this._scroll(e,t)},350),this.close()}_scroll(e,t=0){let n=document.getElementById(e);if(n){let s=n.getBoundingClientRect().top+window.scrollY-t;window.scrollTo({top:s,behavior:"smooth"})}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=De({type:i,selectors:[["app-burger-menu"]],inputs:{isHomePage:[1,"isHomePage"]},standalone:!0,features:[ke],decls:5,vars:3,consts:[[1,"burger-btn"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","menu","nzTheme","outline"],["nzPlacement","right",3,"nzOnClose","nzClosable","nzVisible","nzWidth"],[4,"nzDrawerContent"],[1,"burger-head"],["nz-button","",3,"click"],["nz-icon","","nzType","close","nzTheme","outline"],[1,"drawer"],[1,"drawer__list"],[1,"drawer__item",3,"click"],[1,"drawer__item"],["routerLink","/lviv-2030"],["routerLink","/news"]],template:function(t,n){t&1&&(_(0,"div",0)(1,"button",1),Le("click",function(){return n.open()}),ue(2,"span",2),G()(),_(3,"nz-drawer",3),Le("nzOnClose",function(){return n.close()}),Se(4,hI,29,16,"ng-container",4),G()),t&2&&(W(3),Ve("nzClosable",!1)("nzVisible",n.visible)("nzWidth",320))},dependencies:[M2,C2,En,Vi,Ms,y1,Cs,q2,$f,ra,g0,Li,Cn,Ni],styles:[".burger-head[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.drawer[_ngcontent-%COMP%]{margin-top:20px}.drawer__item[_ngcontent-%COMP%]{height:32px}"]})};var uI=(()=>{let e=class e{create(n){return typeof ResizeObserver>"u"?null:new ResizeObserver(n)}};e.\u0275fac=function(s){return new(s||e)},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),em=(()=>{let e=class e{constructor(n){this.nzResizeObserverFactory=n,this.observedElements=new Map}ngOnDestroy(){this.observedElements.forEach((n,s)=>this.cleanupObserver(s))}observe(n){let s=xi(n);return new Xe(r=>{let c=this.observeElement(s).subscribe(r);return()=>{c.unsubscribe(),this.unobserveElement(s)}})}observeElement(n){if(this.observedElements.has(n))this.observedElements.get(n).count++;else{let s=new q,r=this.nzResizeObserverFactory.create(o=>s.next(o));r&&r.observe(n),this.observedElements.set(n,{observer:r,stream:s,count:1})}return this.observedElements.get(n).stream}unobserveElement(n){this.observedElements.has(n)&&(this.observedElements.get(n).count--,this.observedElements.get(n).count||this.cleanupObserver(n))}cleanupObserver(n){if(this.observedElements.has(n)){let{observer:s,stream:r}=this.observedElements.get(n);s&&s.disconnect(),r.complete(),this.observedElements.delete(n)}}};e.\u0275fac=function(s){return new(s||e)(V(uI))},e.\u0275prov=N({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();var fI=["fixedEl"],mI=["*"],y0=function(i){return i.resize="resize",i.scroll="scroll",i.touchstart="touchstart",i.touchmove="touchmove",i.touchend="touchend",i.pageshow="pageshow",i.load="LOAD",i}(y0||{});function vI(i){return typeof window<"u"&&i===window}function tm(i){return vI(i)?{top:0,left:0,bottom:0}:i.getBoundingClientRect()}var pI="affix",Ls="ant-affix",gI=20,Io=(()=>{let e=class e{get target(){let n=this.nzTarget;return(typeof n=="string"?this.document.querySelector(n):n)||window}constructor(n,s,r,o,c,l,h,f,v){this.nzConfigService=s,this.scrollSrv=r,this.ngZone=o,this.platform=c,this.renderer=l,this.nzResizeObserver=h,this.cdr=f,this.directionality=v,this._nzModuleName=pI,this.nzChange=new Ee,this.dir="ltr",this.positionChangeSubscription=Pt.EMPTY,this.offsetChanged$=new tc(1),this.destroy$=new q,this.document=x(ne),this.placeholderNode=n.nativeElement}ngOnInit(){this.directionality.change?.pipe(ve(this.destroy$)).subscribe(n=>{this.dir=n,this.registerListeners(),this.updatePosition({}),this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(n){let{nzOffsetBottom:s,nzOffsetTop:r,nzTarget:o}=n;(s||r)&&this.offsetChanged$.next(),o&&this.registerListeners()}ngAfterViewInit(){this.registerListeners()}ngOnDestroy(){this.removeListeners()}registerListeners(){if(!this.platform.isBrowser)return;this.removeListeners();let n=this.target===window?this.document.body:this.target;this.positionChangeSubscription=this.ngZone.runOutsideAngular(()=>x4(...Object.keys(y0).map(s=>e1(this.target,s)),this.offsetChanged$.pipe(Z(()=>({}))),this.nzResizeObserver.observe(n)).pipe(Y5(gI,void 0,{trailing:!0}),ve(this.destroy$)).subscribe(s=>this.updatePosition(s))),this.timeout=setTimeout(()=>this.updatePosition({}))}removeListeners(){clearTimeout(this.timeout),this.positionChangeSubscription.unsubscribe(),this.destroy$.next(!0),this.destroy$.complete()}getOffset(n,s){let r=n.getBoundingClientRect(),o=tm(s),c=this.scrollSrv.getScroll(s,!0),l=this.scrollSrv.getScroll(s,!1),h=this.document.body,f=h.clientTop||0,v=h.clientLeft||0;return{top:r.top-o.top+c-f,left:r.left-o.left+l-v,width:r.width,height:r.height}}setAffixStyle(n,s){let r=this.affixStyle,o=this.target===window;if(n.type==="scroll"&&r&&s&&o||N6(r,s))return;let c=!!s,l=this.fixedEl.nativeElement;this.renderer.setStyle(l,"cssText",k6(s)),this.affixStyle=s,c?l.classList.add(Ls):l.classList.remove(Ls),this.updateRtlClass(),(s&&!r||!s&&r)&&this.nzChange.emit(c)}setPlaceholderStyle(n){let s=this.placeholderStyle;N6(n,s)||(this.renderer.setStyle(this.placeholderNode,"cssText",k6(n)),this.placeholderStyle=n)}syncPlaceholderStyle(n){if(!this.affixStyle)return;this.renderer.setStyle(this.placeholderNode,"cssText",""),this.placeholderStyle=void 0;let s={width:this.placeholderNode.offsetWidth,height:this.fixedEl.nativeElement.offsetHeight};this.setAffixStyle(n,H(H({},this.affixStyle),s)),this.setPlaceholderStyle(s)}updatePosition(n){if(!this.platform.isBrowser)return;let s=this.target,r=this.nzOffsetTop,o=this.scrollSrv.getScroll(s,!0),c=this.getOffset(this.placeholderNode,s),l=this.fixedEl.nativeElement,h={width:l.offsetWidth,height:l.offsetHeight},f={top:!1,bottom:!1};typeof r!="number"&&typeof this.nzOffsetBottom!="number"?(f.top=!0,r=0):(f.top=typeof r=="number",f.bottom=typeof this.nzOffsetBottom=="number");let v=tm(s),p=s.innerHeight||s.clientHeight;if(o>=c.top-r&&f.top){let I=c.width,A=v.top+r;this.setAffixStyle(n,{position:"fixed",top:A,left:v.left+c.left,width:I}),this.setPlaceholderStyle({width:I,height:h.height})}else if(o<=c.top+h.height+this.nzOffsetBottom-p&&f.bottom){let I=s===window?0:window.innerHeight-v.bottom,A=c.width;this.setAffixStyle(n,{position:"fixed",bottom:I+this.nzOffsetBottom,left:v.left+c.left,width:A}),this.setPlaceholderStyle({width:A,height:c.height})}else n.type===y0.resize&&this.affixStyle&&this.affixStyle.position==="fixed"&&this.placeholderNode.offsetWidth?this.setAffixStyle(n,Ne(H({},this.affixStyle),{width:this.placeholderNode.offsetWidth})):this.setAffixStyle(n),this.setPlaceholderStyle();n.type==="resize"&&this.syncPlaceholderStyle(n)}updateRtlClass(){let n=this.fixedEl.nativeElement;this.dir==="rtl"?n.classList.contains(Ls)?n.classList.add(`${Ls}-rtl`):n.classList.remove(`${Ls}-rtl`):n.classList.remove(`${Ls}-rtl`)}};e.\u0275fac=function(s){return new(s||e)(L(he),L(Oi),L(Ff),L(Y),L(Ue),L(Ft),L(em),L(St),L(Qt))},e.\u0275cmp=De({type:e,selectors:[["nz-affix"]],viewQuery:function(s,r){if(s&1&&o1(fI,7),s&2){let o;ln(o=hn())&&(r.fixedEl=o.first)}},inputs:{nzTarget:"nzTarget",nzOffsetTop:[2,"nzOffsetTop","nzOffsetTop",P6],nzOffsetBottom:[2,"nzOffsetBottom","nzOffsetBottom",P6]},outputs:{nzChange:"nzChange"},exportAs:["nzAffix"],standalone:!0,features:[Qe,_e,ke],ngContentSelectors:mI,decls:3,vars:0,consts:[["fixedEl",""]],template:function(s,r){s&1&&(is(),_(0,"div",null,0),ss(2),G())},dependencies:[g1,$9],encapsulation:2,changeDetection:0});let i=e;return gn([Tn()],i.prototype,"nzOffsetTop",void 0),gn([Tn()],i.prototype,"nzOffsetBottom",void 0),i})(),oa=(()=>{let e=class e{};e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=oe({type:e}),e.\u0275inj=re({imports:[Io]});let i=e;return i})();function yI(i,e){i&1&&(_(0,"li",7)(1,"a",10),ue(2,"img",11),G()())}function bI(i,e){i&1&&(_(0,"li",7)(1,"a",12),Je(2),$e(3,"translate"),G()()),i&2&&(W(2),Mt(et(3,1,"nav.news")))}function wI(i,e){if(i&1){let t=Wn();_(0,"li",8),Le("click",function(){It(t);let s=de(2);return Ct(s.scrollTo("news_list_section",0))}),_(1,"a"),Je(2),$e(3,"translate"),G()()}i&2&&(W(2),Mt(et(3,1,"nav.news")))}function zI(i,e){if(i&1){let t=Wn();_(0,"nav",3)(1,"ul",6),Se(2,yI,3,0,"li",7),_(3,"li",8),Le("click",function(){It(t);let s=de();return Ct(s.scrollTo("ecoc_section",0))}),_(4,"a"),Je(5),$e(6,"translate"),G()(),_(7,"li",7)(8,"a",9),Je(9),$e(10,"translate"),G()(),_(11,"li",8),Le("click",function(){It(t);let s=de();return Ct(s.scrollTo("nzHref_anchor1"))}),_(12,"a"),Je(13),$e(14,"translate"),G()(),Se(15,bI,4,3,"li",7)(16,wI,4,3,"li",7),_(17,"li",8),Le("click",function(){It(t);let s=de();return Ct(s.scrollTo("partners_section"))}),_(18,"a"),Je(19),$e(20,"translate"),G()(),_(21,"li",8),Le("click",function(){It(t);let s=de();return Ct(s.scrollTo("contacts_section"))}),_(22,"a"),Je(23),$e(24,"translate"),G()()()()}if(i&2){let t=de();W(),Dt("home",t.isHomePage()),W(),Ke(t.isHomePage()?-1:2),W(3),Mt(et(6,9,"nav.ecoc")),W(4),Mt(et(10,11,"nav.lviv_2030")),W(4),Mt(et(14,13,"nav.prehistory")),W(2),Ke(t.isHomePage()?16:15),W(4),Mt(et(20,15,"nav.partners")),W(4),Mt(et(24,17,"nav.contacts"))}}function EI(i,e){if(i&1&&ue(0,"app-burger-menu",4),i&2){let t=de();Ve("isHomePage",t.isHomePage())}}function TI(i,e){i&1&&(_(0,"div",5),ue(1,"app-switch-lang"),G())}var aa=class i{isHomePage=t1(!1);isLangVisible=t1(!1);router=x(kt);isMobile=window.innerWidth<767;scrollTo(e,t=55){if(this.isLangVisible()){this.router.navigate(["/"]).then(()=>{setTimeout(()=>{this._scroll(e,t)},350)});return}this._scroll(e,t)}_scroll(e,t=0){let n=document.getElementById(e);if(n){let s=n.getBoundingClientRect().top+window.scrollY-t;window.scrollTo({top:s,behavior:"smooth"})}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=De({type:i,selectors:[["app-header-menu"]],inputs:{isHomePage:[1,"isHomePage"],isLangVisible:[1,"isLangVisible"]},standalone:!0,features:[ke],decls:6,vars:3,consts:[[3,"nzOffsetTop"],[1,"header-menu"],[1,"header__container","container"],[1,"header-nav"],[3,"isHomePage"],[1,"header-nav__lang"],[1,"header-nav__list"],[1,"header-nav__item"],[1,"header-nav__item",3,"click"],["routerLink","/lviv-2030"],["routerLink","/"],["src","images/logo.svg","alt","logo ecoc"],["routerLink","/news"]],template:function(t,n){t&1&&(_(0,"nz-affix",0)(1,"div",1)(2,"div",2),Se(3,zI,25,19,"nav",3)(4,EI,1,1,"app-burger-menu",4)(5,TI,2,0,"div",5),G()()()),t&2&&(Ve("nzOffsetTop",0),W(3),Ke(n.isMobile?4:3),W(2),Ke(n.isLangVisible()&&!n.isMobile?5:-1))},dependencies:[M2,C2,En,Vi,Ni,Os,oa,Io],styles:[".header-menu[_ngcontent-%COMP%]{height:50px;background-color:var(--primary-yellow)}.header__container[_ngcontent-%COMP%]{padding-top:10px;padding-bottom:10px;display:flex;justify-content:space-between;gap:15px}.header-nav[_ngcontent-%COMP%]{width:100%}.header-nav__list[_ngcontent-%COMP%]{height:100%;width:60%;display:flex;justify-content:space-between;align-items:center}.header-nav__item[_ngcontent-%COMP%]{font-family:Open Sans,sans-serif;font-weight:500;text-transform:uppercase;white-space:nowrap}.header-nav__item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]{position:relative;display:inline-block;transition:transform .25s ease-in-out}.header-nav__item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{min-width:45px}.header-nav__item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover{color:#2d2d2d;transform:scale(1.05)}.header-nav__item[_ngcontent-%COMP%] > a[_ngcontent-%COMP%]:hover:after{opacity:1;width:100%}@media (max-width: 1200px){.header-nav__list[_ngcontent-%COMP%]{width:90%}.header-nav__list.home[_ngcontent-%COMP%]{width:80%}}@media (max-width: 991px){.header-nav__list[_ngcontent-%COMP%]{width:100%}}@media (max-width: 767px){.header-menu[_ngcontent-%COMP%]{background-color:transparent}.header__container[_ngcontent-%COMP%]{justify-content:flex-end}}"]})};var sm=function(i){let e=[],t=0;for(let n=0;n<i.length;n++){let s=i.charCodeAt(n);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(i.charCodeAt(++n)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},II=function(i){let e=[],t=0,n=0;for(;t<i.length;){let s=i[t++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){let r=i[t++];e[n++]=String.fromCharCode((s&31)<<6|r&63)}else if(s>239&&s<365){let r=i[t++],o=i[t++],c=i[t++],l=((s&7)<<18|(r&63)<<12|(o&63)<<6|c&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{let r=i[t++],o=i[t++];e[n++]=String.fromCharCode((s&15)<<12|(r&63)<<6|o&63)}}return e.join("")},rm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<i.length;s+=3){let r=i[s],o=s+1<i.length,c=o?i[s+1]:0,l=s+2<i.length,h=l?i[s+2]:0,f=r>>2,v=(r&3)<<4|c>>4,p=(c&15)<<2|h>>6,I=h&63;l||(I=64,o||(p=64)),n.push(t[f],t[v],t[p],t[I])}return n.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(sm(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):II(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<i.length;){let r=t[i.charAt(s++)],c=s<i.length?t[i.charAt(s)]:0;++s;let h=s<i.length?t[i.charAt(s)]:64;++s;let v=s<i.length?t[i.charAt(s)]:64;if(++s,r==null||c==null||h==null||v==null)throw new w0;let p=r<<2|c>>4;if(n.push(p),h!==64){let I=c<<4&240|h>>2;if(n.push(I),v!==64){let A=h<<6&192|v;n.push(A)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},w0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},CI=function(i){let e=sm(i);return rm.encodeByteArray(e,!0)},Co=function(i){return CI(i).replace(/\./g,"")},E0=function(i){try{return rm.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function MI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var SI=()=>MI().__FIREBASE_DEFAULTS__,VI=()=>{if(typeof process>"u"||typeof process.env>"u")return;let i=process.env.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},AI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=i&&E0(i[1]);return e&&JSON.parse(e)},la=()=>{try{return SI()||VI()||AI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},T0=i=>{var e,t;return(t=(e=la())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},om=i=>{let e=T0(i);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},I0=()=>{var i;return(i=la())===null||i===void 0?void 0:i.config},C0=i=>{var e;return(e=la())===null||e===void 0?void 0:e[`_${i}`]};var ca=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function am(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},n=e||"demo-project",s=i.iat||0,r=i.sub||i.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Co(JSON.stringify(t)),Co(JSON.stringify(o)),""].join(".")}function lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(lt())}function RI(){var i;let e=(i=la())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lm(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hm(){let i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function um(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dm(){let i=lt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function fm(){return!RI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M0(){try{return typeof indexedDB=="object"}catch{return!1}}function mm(){return new Promise((i,e)=>{try{let t=!0,n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(n),i(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var r;e(((r=s.error)===null||r===void 0?void 0:r.message)||"")}}catch(t){e(t)}})}var xI="FirebaseError",Jt=class i extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=xI,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jn.prototype.create)}},Jn=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},s=`${this.service}/${e}`,r=this.errors[e],o=r?OI(r,n):"Error",c=`${this.serviceName}: ${o} (${s}).`;return new Jt(s,c,n)}};function OI(i,e){return i.replace(LI,(t,n)=>{let s=e[n];return s!=null?String(s):`<${n}?>`})}var LI=/\{\$([^}]+)}/g;function vm(i){for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function I1(i,e){if(i===e)return!0;let t=Object.keys(i),n=Object.keys(e);for(let s of t){if(!n.includes(s))return!1;let r=i[s],o=e[s];if(im(r)&&im(o)){if(!I1(r,o))return!1}else if(r!==o)return!1}for(let s of n)if(!t.includes(s))return!1;return!0}function im(i){return i!==null&&typeof i=="object"}function Mo(i){let e=[];for(let[t,n]of Object.entries(i))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ns(i){let e={};return i.replace(/^\?/,"").split("&").forEach(n=>{if(n){let[s,r]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(r)}}),e}function Ps(i){let e=i.indexOf("?");if(!e)return"";let t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function pm(i,e){let t=new z0(i,e);return t.subscribe.bind(t)}var z0=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let s;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");NI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:n},s.next===void 0&&(s.next=b0),s.error===void 0&&(s.error=b0),s.complete===void 0&&(s.complete=b0);let r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function NI(i,e){if(typeof i!="object"||i===null)return!1;for(let t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function b0(){}var qk=4*60*60*1e3;function pt(i){return i&&i._delegate?i._delegate:i}var rn=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var C1="[DEFAULT]";var S0=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let n=new ca;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{let s=this.getOrInitializeService({instanceIdentifier:t});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(e?.identifier),s=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(DI(e))try{this.getOrInitializeService({instanceIdentifier:C1})}catch{}for(let[t,n]of this.instancesDeferred.entries()){let s=this.normalizeInstanceIdentifier(t);try{let r=this.getOrInitializeService({instanceIdentifier:s});n.resolve(r)}catch{}}}}clearInstance(e=C1){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=C1){return this.instances.has(e)}getOptions(e=C1){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let s=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[r,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(r);n===c&&o.resolve(s)}return s}onInit(e,t){var n;let s=this.normalizeInstanceIdentifier(t),r=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;r.add(e),this.onInitCallbacks.set(s,r);let o=this.instances.get(s);return o&&e(o,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let s of n)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:PI(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=C1){return this.component?this.component.multipleInstances?e:C1:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PI(i){return i===C1?void 0:i}function DI(i){return i.instantiationMode==="EAGER"}var ha=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new S0(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var kI=[],fe=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(fe||{}),HI={debug:fe.DEBUG,verbose:fe.VERBOSE,info:fe.INFO,warn:fe.WARN,error:fe.ERROR,silent:fe.SILENT},FI=fe.INFO,BI={[fe.DEBUG]:"log",[fe.VERBOSE]:"log",[fe.INFO]:"info",[fe.WARN]:"warn",[fe.ERROR]:"error"},_I=(i,e,...t)=>{if(e<i.logLevel)return;let n=new Date().toISOString(),s=BI[e];if(s)console[s](`[${n}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Pi=class{constructor(e){this.name=e,this._logLevel=FI,this._logHandler=_I,this._userLogHandler=null,kI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,fe.DEBUG,...e),this._logHandler(this,fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,fe.VERBOSE,...e),this._logHandler(this,fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,fe.INFO,...e),this._logHandler(this,fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,fe.WARN,...e),this._logHandler(this,fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,fe.ERROR,...e),this._logHandler(this,fe.ERROR,...e)}};var jI=(i,e)=>e.some(t=>i instanceof t),gm,ym;function UI(){return gm||(gm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qI(){return ym||(ym=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bm=new WeakMap,A0=new WeakMap,wm=new WeakMap,V0=new WeakMap,x0=new WeakMap;function WI(i){let e=new Promise((t,n)=>{let s=()=>{i.removeEventListener("success",r),i.removeEventListener("error",o)},r=()=>{t(Mn(i.result)),s()},o=()=>{n(i.error),s()};i.addEventListener("success",r),i.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&bm.set(t,i)}).catch(()=>{}),x0.set(e,i),e}function XI(i){if(A0.has(i))return;let e=new Promise((t,n)=>{let s=()=>{i.removeEventListener("complete",r),i.removeEventListener("error",o),i.removeEventListener("abort",o)},r=()=>{t(),s()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),s()};i.addEventListener("complete",r),i.addEventListener("error",o),i.addEventListener("abort",o)});A0.set(i,e)}var R0={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return A0.get(i);if(e==="objectStoreNames")return i.objectStoreNames||wm.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Mn(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function zm(i){R0=i(R0)}function GI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let n=i.call(ua(this),e,...t);return wm.set(n,e.sort?e.sort():[e]),Mn(n)}:qI().includes(i)?function(...e){return i.apply(ua(this),e),Mn(bm.get(this))}:function(...e){return Mn(i.apply(ua(this),e))}}function KI(i){return typeof i=="function"?GI(i):(i instanceof IDBTransaction&&XI(i),jI(i,UI())?new Proxy(i,R0):i)}function Mn(i){if(i instanceof IDBRequest)return WI(i);if(V0.has(i))return V0.get(i);let e=KI(i);return e!==i&&(V0.set(i,e),x0.set(e,i)),e}var ua=i=>x0.get(i);function Tm(i,e,{blocked:t,upgrade:n,blocking:s,terminated:r}={}){let o=indexedDB.open(i,e),c=Mn(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Mn(o.result),l.oldVersion,l.newVersion,Mn(o.transaction),l)}),t&&o.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),c.then(l=>{r&&l.addEventListener("close",()=>r()),s&&l.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var ZI=["get","getKey","getAll","getAllKeys","count"],YI=["put","add","delete","clear"],O0=new Map;function Em(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(O0.get(e))return O0.get(e);let t=e.replace(/FromIndex$/,""),n=e!==t,s=YI.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(s||ZI.includes(t)))return;let r=function(o,...c){return w(this,null,function*(){let l=this.transaction(o,s?"readwrite":"readonly"),h=l.store;return n&&(h=h.index(c.shift())),(yield Promise.all([h[t](...c),s&&l.done]))[0]})};return O0.set(e,r),r}zm(i=>Ne(H({},i),{get:(e,t,n)=>Em(e,t)||i.get(e,t,n),has:(e,t)=>!!Em(e,t)||i.has(e,t)}));var N0=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(QI(t)){let n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}};function QI(i){let e=i.getComponent();return e?.type==="VERSION"}var P0="@firebase/app",Im="0.10.13";var $n=new Pi("@firebase/app"),JI="@firebase/app-compat",$I="@firebase/analytics-compat",eC="@firebase/analytics",tC="@firebase/app-check-compat",nC="@firebase/app-check",iC="@firebase/auth",sC="@firebase/auth-compat",rC="@firebase/database",oC="@firebase/data-connect",aC="@firebase/database-compat",cC="@firebase/functions",lC="@firebase/functions-compat",hC="@firebase/installations",uC="@firebase/installations-compat",dC="@firebase/messaging",fC="@firebase/messaging-compat",mC="@firebase/performance",vC="@firebase/performance-compat",pC="@firebase/remote-config",gC="@firebase/remote-config-compat",yC="@firebase/storage",bC="@firebase/storage-compat",wC="@firebase/firestore",zC="@firebase/vertexai-preview",EC="@firebase/firestore-compat",TC="firebase",IC="10.14.1";var D0="[DEFAULT]",CC={[P0]:"fire-core",[JI]:"fire-core-compat",[eC]:"fire-analytics",[$I]:"fire-analytics-compat",[nC]:"fire-app-check",[tC]:"fire-app-check-compat",[iC]:"fire-auth",[sC]:"fire-auth-compat",[rC]:"fire-rtdb",[oC]:"fire-data-connect",[aC]:"fire-rtdb-compat",[cC]:"fire-fn",[lC]:"fire-fn-compat",[hC]:"fire-iid",[uC]:"fire-iid-compat",[dC]:"fire-fcm",[fC]:"fire-fcm-compat",[mC]:"fire-perf",[vC]:"fire-perf-compat",[pC]:"fire-rc",[gC]:"fire-rc-compat",[yC]:"fire-gcs",[bC]:"fire-gcs-compat",[wC]:"fire-fst",[EC]:"fire-fst-compat",[zC]:"fire-vertex","fire-js":"fire-js",[TC]:"fire-js-all"};var So=new Map,MC=new Map,k0=new Map;function Cm(i,e){try{i.container.addComponent(e)}catch(t){$n.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ki(i){let e=i.name;if(k0.has(e))return $n.debug(`There were multiple attempts to register component ${e}.`),!1;k0.set(e,i);for(let t of So.values())Cm(t,i);for(let t of MC.values())Cm(t,i);return!0}function Ao(i,e){let t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Sn(i){return i.settings!==void 0}var SC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Jn("app","Firebase",SC);var H0=class{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}};var Hi=IC;function _0(i,e={}){let t=i;typeof e!="object"&&(e={name:e});let n=Object.assign({name:D0,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Di.create("bad-app-name",{appName:String(s)});if(t||(t=I0()),!t)throw Di.create("no-options");let r=So.get(s);if(r){if(I1(t,r.options)&&I1(n,r.config))return r;throw Di.create("duplicate-app",{appName:s})}let o=new ha(s);for(let l of k0.values())o.addComponent(l);let c=new H0(t,n,o);return So.set(s,c),c}function Ds(i=D0){let e=So.get(i);if(!e&&i===D0&&I0())return _0();if(!e)throw Di.create("no-app",{appName:i});return e}function da(){return Array.from(So.values())}function rt(i,e,t){var n;let s=(n=CC[i])!==null&&n!==void 0?n:i;t&&(s+=`-${t}`);let r=s.match(/\s|\//),o=e.match(/\s|\//);if(r||o){let c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$n.warn(c.join(" "));return}ki(new rn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}var VC="firebase-heartbeat-database",AC=1,Vo="firebase-heartbeat-store",L0=null;function Am(){return L0||(L0=Tm(VC,AC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Vo)}catch(t){console.warn(t)}}}}).catch(i=>{throw Di.create("idb-open",{originalErrorMessage:i.message})})),L0}function RC(i){return w(this,null,function*(){try{let t=(yield Am()).transaction(Vo),n=yield t.objectStore(Vo).get(Rm(i));return yield t.done,n}catch(e){if(e instanceof Jt)$n.warn(e.message);else{let t=Di.create("idb-get",{originalErrorMessage:e?.message});$n.warn(t.message)}}})}function Mm(i,e){return w(this,null,function*(){try{let n=(yield Am()).transaction(Vo,"readwrite");yield n.objectStore(Vo).put(e,Rm(i)),yield n.done}catch(t){if(t instanceof Jt)$n.warn(t.message);else{let n=Di.create("idb-set",{originalErrorMessage:t?.message});$n.warn(n.message)}}})}function Rm(i){return`${i.name}!${i.options.appId}`}var xC=1024,OC=30*24*60*60*1e3,F0=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new B0(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=OC}),this._storage.overwrite(this._heartbeatsCache))}catch(n){$n.warn(n)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Sm(),{heartbeatsToSend:n,unsentEntries:s}=LC(this._heartbeatsCache.heartbeats),r=Co(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return $n.warn(t),""}})}};function Sm(){return new Date().toISOString().substring(0,10)}function LC(i,e=xC){let t=[],n=i.slice();for(let s of i){let r=t.find(o=>o.agent===s.agent);if(r){if(r.dates.push(s.date),Vm(t)>e){r.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Vm(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}var B0=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return M0()?mm().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield RC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return Mm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let s=yield this.read();return Mm(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return})}};function Vm(i){return Co(JSON.stringify({version:2,heartbeats:i})).length}function NC(i){ki(new rn("platform-logger",e=>new N0(e),"PRIVATE")),ki(new rn("heartbeat",e=>new F0(e),"PRIVATE")),rt(P0,Im,i),rt(P0,Im,"esm2017"),rt("fire-js","")}NC("");var PC="firebase",DC="10.14.1";rt(PC,DC,"app");var S1=new _4("ANGULARFIRE2_VERSION");function ma(i,e,t){if(e){if(e.length===1)return e[0];let r=e.filter(o=>o.app===t);if(r.length===1)return r[0]}return t.container.getProvider(i).getImmediate({optional:!0})}var Ro=(i,e)=>{let t=e?[e]:da(),n=[];return t.forEach(s=>{s.container.getProvider(i).instances.forEach(o=>{n.includes(o)||n.push(o)})}),n},Hs=class{constructor(){return Ro(kC)}},kC="app-check";function ks(){}var fa=class{zone;delegate;constructor(e,t=U5){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){let s=this.zone,r=function(o){s.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(r,t,n)}},j0=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ks,{},ks,ks)),t.pipe(Be({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Fs=(()=>{class i{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new fa(Zone.current)),this.insideAngular=t.run(()=>new fa(Zone.current,j5)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||i)(V(Y))};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function va(){let i=globalThis.\u0275AngularFireScheduler;if(!i)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return i}function HC(i){return va().ngZone.runOutsideAngular(()=>i())}function M1(i){return va().ngZone.run(()=>i())}function FC(i){return BC(va())(i)}function BC(i){return function(t){return t=t.lift(new j0(i.ngZone)),t.pipe(sc(i.outsideAngular),ic(i.insideAngular))}}var _C=(i,e)=>function(){let n=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),M1(()=>i.apply(void 0,n))},ht=(i,e)=>function(){let t,n=arguments;for(let r=0;r<arguments.length;r++)typeof n[r]=="function"&&(e&&(t||=M1(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ks,{},ks,ks))),n[r]=_C(n[r],t));let s=HC(()=>i.apply(this,n));if(!e)if(s instanceof Xe){let r=va();return s.pipe(sc(r.outsideAngular),ic(r.insideAngular))}else return M1(()=>s);return s instanceof Xe?s.pipe(FC):s instanceof Promise?M1(()=>new Promise((r,o)=>s.then(c=>M1(()=>r(c)),c=>M1(()=>o(c))))):typeof s=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),s.apply(this,arguments)}:M1(()=>s)};var ei=class{constructor(e){return e}},V1=class{constructor(){return da()}};function jC(i){return i&&i.length===1?i[0]:new ei(Ds())}var U0=new X("angularfire2._apps"),UC={provide:ei,useFactory:jC,deps:[[new mt,U0]]},qC={provide:V1,deps:[[new mt,U0]]};function WC(i){return(e,t)=>{let n=t.get(Kt);rt("angularfire",S1.full,"core"),rt("angularfire",S1.full,"app"),rt("angular",I7.full,n.toString());let s=e.runOutsideAngular(()=>i(t));return new ei(s)}}function RH(i,...e){return Tt([UC,qC,{provide:U0,useFactory:WC(i),multi:!0,deps:[Y,Ge,Fs,...e]}])}var xH=ht(_0,!0);function Km(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Zm=Km,Ym=new Jn("auth","Firebase",Km());var za=new Pi("@firebase/auth");function XC(i,...e){za.logLevel<=fe.WARN&&za.warn(`Auth (${Hi}): ${i}`,...e)}function ga(i,...e){za.logLevel<=fe.ERROR&&za.error(`Auth (${Hi}): ${i}`,...e)}function An(i,...e){throw u8(i,...e)}function A1(i,...e){return u8(i,...e)}function Qm(i,e,t){let n=Object.assign(Object.assign({},Zm()),{[e]:t});return new Jn("auth","Firebase",n).create(e,{appName:i.name})}function Bi(i){return Qm(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u8(i,...e){if(typeof i!="string"){let t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(t,...n)}return Ym.create(i,...e)}function $(i,e,...t){if(!i)throw u8(e,...t)}function ti(i){let e="INTERNAL ASSERTION FAILED: "+i;throw ga(e),new Error(e)}function _i(i,e){i||ti(e)}function G0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function GC(){return xm()==="http:"||xm()==="https:"}function xm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}function KC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GC()||hm()||"connection"in navigator)?navigator.onLine:!0}function ZC(){if(typeof navigator>"u")return null;let i=navigator;return i.languages&&i.languages[0]||i.language||null}var R1=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,_i(t>e,"Short delay should be less than long delay!"),this.isMobile=cm()||um()}get(){return KC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function d8(i,e){_i(i.emulator,"Emulator should always be set here");let{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ea=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var YC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var QC=new R1(3e4,6e4);function O1(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}function ji(r,o,c,l){return w(this,arguments,function*(i,e,t,n,s={}){return Jm(i,s,()=>w(this,null,function*(){let h={},f={};n&&(e==="GET"?f=n:h={body:JSON.stringify(n)});let v=Mo(Object.assign({key:i.config.apiKey},f)).slice(1),p=yield i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);let I=Object.assign({method:e,headers:p},h);return lm()||(I.referrerPolicy="no-referrer"),Ea.fetch()($m(i,i.config.apiHost,t,v),I)}))})}function Jm(i,e,t){return w(this,null,function*(){i._canInitEmulator=!1;let n=Object.assign(Object.assign({},YC),e);try{let s=new K0(i),r=yield Promise.race([t(),s.promise]);s.clearNetworkTimeout();let o=yield r.json();if("needConfirmation"in o)throw pa(i,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{let c=r.ok?o.errorMessage:o.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw pa(i,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw pa(i,"email-already-in-use",o);if(l==="USER_DISABLED")throw pa(i,"user-disabled",o);let f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Qm(i,f,h);An(i,f)}}catch(s){if(s instanceof Jt)throw s;An(i,"network-request-failed",{message:String(s)})}})}function Oa(r,o,c,l){return w(this,arguments,function*(i,e,t,n,s={}){let h=yield ji(i,e,t,n,s);return"mfaPendingCredential"in h&&An(i,"multi-factor-auth-required",{_serverResponse:h}),h})}function $m(i,e,t,n){let s=`${e}${t}?${n}`;return i.config.emulator?d8(i.config,s):`${i.config.apiScheme}://${s}`}function JC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var K0=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(A1(this.auth,"network-request-failed")),QC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pa(i,e,t){let n={appName:i.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);let s=A1(i,e,n);return s.customData._tokenResponse=t,s}function Om(i){return i!==void 0&&i.enterprise!==void 0}var Z0=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return JC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function $C(i,e){return w(this,null,function*(){return ji(i,"GET","/v2/recaptchaConfig",O1(i,e))})}function eM(i,e){return w(this,null,function*(){return ji(i,"POST","/v1/accounts:delete",e)})}function ev(i,e){return w(this,null,function*(){return ji(i,"POST","/v1/accounts:lookup",e)})}function xo(i){if(i)try{let e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function f8(i,e=!1){return w(this,null,function*(){let t=pt(i),n=yield t.getIdToken(e),s=m8(n);$(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");let r=typeof s.firebase=="object"?s.firebase:void 0,o=r?.sign_in_provider;return{claims:s,token:n,authTime:xo(q0(s.auth_time)),issuedAtTime:xo(q0(s.iat)),expirationTime:xo(q0(s.exp)),signInProvider:o||null,signInSecondFactor:r?.sign_in_second_factor||null}})}function q0(i){return Number(i)*1e3}function m8(i){let[e,t,n]=i.split(".");if(e===void 0||t===void 0||n===void 0)return ga("JWT malformed, contained fewer than 3 sections"),null;try{let s=E0(t);return s?JSON.parse(s):(ga("Failed to decode base64 JWT payload"),null)}catch(s){return ga("Caught error parsing JWT payload as JSON",s?.toString()),null}}function Lm(i){let e=m8(i);return $(e,"internal-error"),$(typeof e.exp<"u","internal-error"),$(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Lo(i,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(n){throw n instanceof Jt&&tM(n)&&i.auth.currentUser===i&&(yield i.auth.signOut()),n}})}function tM({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}var Y0=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var No=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xo(this.lastLoginAt),this.creationTime=xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ta(i){return w(this,null,function*(){var e;let t=i.auth,n=yield i.getIdToken(),s=yield Lo(i,ev(t,{idToken:n}));$(s?.users.length,t,"internal-error");let r=s.users[0];i._notifyReloadListener(r);let o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?tv(r.providerUserInfo):[],c=nM(i.providerData,o),l=i.isAnonymous,h=!(i.email&&r.passwordHash)&&!c?.length,f=l?h:!1,v={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:c,metadata:new No(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(i,v)})}function v8(i){return w(this,null,function*(){let e=pt(i);yield Ta(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function nM(i,e){return[...i.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function tv(i){return i.map(e=>{var{providerId:t}=e,n=nc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function iM(i,e){return w(this,null,function*(){let t=yield Jm(i,{},()=>w(this,null,function*(){let n=Mo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:r}=i.config,o=$m(i,s,"/v1/token",`key=${r}`),c=yield i._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ea.fetch()(o,{method:"POST",headers:c,body:n})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function sM(i,e){return w(this,null,function*(){return ji(i,"POST","/v2/accounts:revokeToken",O1(i,e))})}var Oo=class i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,"internal-error"),$(typeof e.idToken<"u","internal-error"),$(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Lm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$(e.length!==0,"internal-error");let t=Lm(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:n,refreshToken:s,expiresIn:r}=yield iM(e,t);this.updateTokensAndExpiration(n,s,Number(r))})}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){let{refreshToken:n,accessToken:s,expirationTime:r}=t,o=new i;return n&&($(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&($(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),r&&($(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new i,this.toJSON())}_performRefresh(){return ti("not implemented")}};function Fi(i,e){$(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}var Bs=class i{constructor(e){var{uid:t,auth:n,stsTokenManager:s}=e,r=nc(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Y0(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new No(r.createdAt||void 0,r.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield Lo(this,this.stsTokenManager.getToken(this.auth,e));return $(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return f8(this,e)}reload(){return v8(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new i(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&(yield Ta(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(Sn(this.auth.app))return Promise.reject(Bi(this.auth));let e=yield this.getIdToken();return yield Lo(this,eM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,s,r,o,c,l,h,f;let v=(n=t.displayName)!==null&&n!==void 0?n:void 0,p=(s=t.email)!==null&&s!==void 0?s:void 0,I=(r=t.phoneNumber)!==null&&r!==void 0?r:void 0,A=(o=t.photoURL)!==null&&o!==void 0?o:void 0,P=(c=t.tenantId)!==null&&c!==void 0?c:void 0,R=(l=t._redirectEventId)!==null&&l!==void 0?l:void 0,B=(h=t.createdAt)!==null&&h!==void 0?h:void 0,J=(f=t.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:te,emailVerified:se,isAnonymous:Ye,providerData:le,stsTokenManager:E}=t;$(te&&E,e,"internal-error");let g=Oo.fromJSON(this.name,E);$(typeof te=="string",e,"internal-error"),Fi(v,e.name),Fi(p,e.name),$(typeof se=="boolean",e,"internal-error"),$(typeof Ye=="boolean",e,"internal-error"),Fi(I,e.name),Fi(A,e.name),Fi(P,e.name),Fi(R,e.name),Fi(B,e.name),Fi(J,e.name);let b=new i({uid:te,auth:e,email:p,emailVerified:se,displayName:v,isAnonymous:Ye,photoURL:A,phoneNumber:I,tenantId:P,stsTokenManager:g,createdAt:B,lastLoginAt:J});return le&&Array.isArray(le)&&(b.providerData=le.map(z=>Object.assign({},z))),R&&(b._redirectEventId=R),b}static _fromIdTokenResponse(e,t,n=!1){return w(this,null,function*(){let s=new Oo;s.updateFromServerResponse(t);let r=new i({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:n});return yield Ta(r),r})}static _fromGetAccountInfoResponse(e,t,n){return w(this,null,function*(){let s=t.users[0];$(s.localId!==void 0,"internal-error");let r=s.providerUserInfo!==void 0?tv(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!r?.length,c=new Oo;c.updateFromIdToken(n);let l=new i({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:r,metadata:new No(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!r?.length};return Object.assign(l,h),l})}};var Nm=new Map;function ni(i){_i(i instanceof Function,"Expected a class definition");let e=Nm.get(i);return e?(_i(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,Nm.set(i,e),e)}var rM=(()=>{class i{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,n){return w(this,null,function*(){this.storage[t]=n})}_get(t){return w(this,null,function*(){let n=this.storage[t];return n===void 0?null:n})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,n){}_removeListener(t,n){}}return i.type="NONE",i})(),Q0=rM;function ya(i,e,t){return`firebase:${i}:${e}:${t}`}var Ia=class i{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:s,name:r}=this.auth;this.fullUserKey=ya(this.userKey,s.apiKey,r),this.fullPersistenceKey=ya("persistence",s.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Bs._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return w(this,null,function*(){if(!t.length)return new i(ni(Q0),e,n);let s=(yield Promise.all(t.map(h=>w(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),r=s[0]||ni(Q0),o=ya(n,e.config.apiKey,e.name),c=null;for(let h of t)try{let f=yield h._get(o);if(f){let v=Bs._fromJSON(e,f);h!==r&&(c=v),r=h;break}}catch{}let l=s.filter(h=>h._shouldAllowMigration);return!r._shouldAllowMigration||!l.length?new i(r,e,n):(r=l[0],c&&(yield r._set(o,c.toJSON())),yield Promise.all(t.map(h=>w(this,null,function*(){if(h!==r)try{yield h._remove(o)}catch{}}))),new i(r,e,n))})}};function Pm(i){let e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(av(e))return"Blackberry";if(cv(e))return"Webos";if(iv(e))return"Safari";if((e.includes("chrome/")||sv(e))&&!e.includes("edge/"))return"Chrome";if(ov(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(t);if(n?.length===2)return n[1]}return"Other"}function nv(i=lt()){return/firefox\//i.test(i)}function iv(i=lt()){let e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sv(i=lt()){return/crios\//i.test(i)}function rv(i=lt()){return/iemobile/i.test(i)}function ov(i=lt()){return/android/i.test(i)}function av(i=lt()){return/blackberry/i.test(i)}function cv(i=lt()){return/webos/i.test(i)}function p8(i=lt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function oM(i=lt()){var e;return p8(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aM(){return dm()&&document.documentMode===10}function lv(i=lt()){return p8(i)||ov(i)||cv(i)||av(i)||/windows phone/i.test(i)||rv(i)}function hv(i,e=[]){let t;switch(i){case"Browser":t=Pm(lt());break;case"Worker":t=`${Pm(lt())}-${i}`;break;default:t=i}let n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Hi}/${n}`}var J0=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=r=>new Promise((o,c)=>{try{let l=e(r);o(l)}catch(l){c(l)}});n.onAbort=t,this.queue.push(n);let s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)yield n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(let s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function cM(t){return w(this,arguments,function*(i,e={}){return ji(i,"GET","/v2/passwordPolicy",O1(i,e))})}var lM=6,$0=class{constructor(e){var t,n,s,r;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:lM,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(r=e.forceUpgradeOnSignin)!==null&&r!==void 0?r:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,s,r,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(t=l.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(r=l.containsUppercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,s,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}};var e8=class{constructor(e,t,n,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ca(this),this.idTokenSubscription=new Ca(this),this.beforeStateQueue=new J0(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ym,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ni(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var n,s;if(!this._deleted&&(this.persistenceManager=yield Ia.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield ev(this,{idToken:e}),n=yield Bs._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(Sn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),s=n,r=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=s?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===c)&&l?.user&&(s=l.user,r=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(r)try{yield this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Ta(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=ZC()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(Sn(this.app))return Promise.reject(Bi(this));let t=e?pt(e):null;return t&&$(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return Sn(this.app)?Promise.reject(Bi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Sn(this.app)?Promise.reject(Bi(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(ni(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield cM(this),t=new $0(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jn("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),yield sM(this,n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&ni(e)||this._popupRedirectResolver;$(t,this,"argument-error"),this.redirectPersistenceManager=yield Ia.create(this,[ni(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,n;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,s){if(this._deleted)return()=>{};let r=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if($(c,this,"internal-error"),c.then(()=>{o||r(this.currentUser)}),typeof t=="function"){let l=e.addObserver(t,n,s);return()=>{o=!0,l()}}else{let l=e.addObserver(t);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);let s=yield this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&XC(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function _s(i){return pt(i)}var Ca=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pm(t=>this.observer=t)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var La={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hM(i){La=i}function uv(i){return La.loadJS(i)}function uM(){return La.recaptchaEnterpriseScript}function dM(){return La.gapiScript}function dv(i){return`__${i}${Math.floor(Math.random()*1e6)}`}var fM="recaptcha-enterprise",mM="NO_RECAPTCHA",t8=class{constructor(e){this.type=fM,this.auth=_s(e)}verify(e="verify",t=!1){return w(this,null,function*(){function n(r){return w(this,null,function*(){if(!t){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise((o,c)=>w(this,null,function*(){$C(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let h=new Z0(l);return r.tenantId==null?r._agentRecaptchaConfig=h:r._tenantRecaptchaConfigs[r.tenantId]=h,o(h.siteKey)}}).catch(l=>{c(l)})}))})}function s(r,o,c){let l=window.grecaptcha;Om(l)?l.enterprise.ready(()=>{l.enterprise.execute(r,{action:e}).then(h=>{o(h)}).catch(()=>{o(mM)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{n(this.auth).then(c=>{if(!t&&Om(window.grecaptcha))s(c,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=uM();l.length!==0&&(l+=c),uv(l).then(()=>{s(c,r,o)}).catch(h=>{o(h)})}}).catch(c=>{o(c)})})})}};function Dm(i,e,t,n=!1){return w(this,null,function*(){let s=new t8(i),r;try{r=yield s.verify(t)}catch{r=yield s.verify(t,!0)}let o=Object.assign({},e);return n?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function km(i,e,t,n){return w(this,null,function*(){var s;if(!((s=i._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let r=yield Dm(i,e,t,t==="getOobCode");return n(i,r)}else return n(i,e).catch(r=>w(this,null,function*(){if(r.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Dm(i,e,t,t==="getOobCode");return n(i,o)}else return Promise.reject(r)}))})}function g8(i,e){let t=Ao(i,"auth");if(t.isInitialized()){let s=t.getImmediate(),r=t.getOptions();if(I1(r,e??{}))return s;An(s,"already-initialized")}return t.initialize({options:e})}function vM(i,e){let t=e?.persistence||[],n=(Array.isArray(t)?t:[t]).map(ni);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(n,e?.popupRedirectResolver)}function y8(i,e,t){let n=_s(i);$(n._canInitEmulator,n,"emulator-config-failed"),$(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");let s=!!t?.disableWarnings,r=fv(e),{host:o,port:c}=pM(e),l=c===null?"":`:${c}`;n.config.emulator={url:`${r}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:c,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||gM()}function fv(i){let e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function pM(i){let e=fv(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};let n=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){let r=s[1];return{host:r,port:Hm(n.substr(r.length+1))}}else{let[r,o]=n.split(":");return{host:r,port:Hm(o)}}}function Hm(i){if(!i)return null;let e=Number(i);return isNaN(e)?null:e}function gM(){function i(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}var Po=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,t){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}};function yM(i,e){return w(this,null,function*(){return ji(i,"POST","/v1/accounts:signUp",e)})}function bM(i,e){return w(this,null,function*(){return Oa(i,"POST","/v1/accounts:signInWithPassword",O1(i,e))})}function wM(i,e){return w(this,null,function*(){return Oa(i,"POST","/v1/accounts:signInWithEmailLink",O1(i,e))})}function zM(i,e){return w(this,null,function*(){return Oa(i,"POST","/v1/accounts:signInWithEmailLink",O1(i,e))})}var Do=class i extends Po{constructor(e,t,n,s=null){super("password",n),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new i(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new i(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,t,"signInWithPassword",bM);case"emailLink":return wM(e,{email:this._email,oobCode:this._password});default:An(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return km(e,n,"signUpPassword",yM);case"emailLink":return zM(e,{idToken:t,email:this._email,oobCode:this._password});default:An(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function W0(i,e){return w(this,null,function*(){return Oa(i,"POST","/v1/accounts:signInWithIdp",O1(i,e))})}function EM(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function TM(i){let e=Ns(Ps(i)).link,t=e?Ns(Ps(e)).deep_link_id:null,n=Ns(Ps(i)).deep_link_id;return(n?Ns(Ps(n)).link:null)||n||t||e||i}var Ma=class i{constructor(e){var t,n,s,r,o,c;let l=Ns(Ps(e)),h=(t=l.apiKey)!==null&&t!==void 0?t:null,f=(n=l.oobCode)!==null&&n!==void 0?n:null,v=EM((s=l.mode)!==null&&s!==void 0?s:null);$(h&&f&&v,"argument-error"),this.apiKey=h,this.operation=v,this.code=f,this.continueUrl=(r=l.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=l.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=TM(e);try{return new i(t)}catch{return null}}};var mv=(()=>{class i{constructor(){this.providerId=i.PROVIDER_ID}static credential(t,n){return Do._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){let s=Ma.parseLink(n);return $(s,"argument-error"),Do._fromEmailAndCode(t,s.code,s.tenantId)}}i.PROVIDER_ID="password",i.EMAIL_PASSWORD_SIGN_IN_METHOD="password",i.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return i})(),Sa=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var n8=class extends Sa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ko=class i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,s=!1){return w(this,null,function*(){let r=yield Bs._fromIdTokenResponse(e,n,s),o=Fm(n);return new i({user:r,providerId:o,_tokenResponse:n,operationType:t})})}static _forOperation(e,t,n){return w(this,null,function*(){yield e._updateTokensIfNecessary(n,!0);let s=Fm(n);return new i({user:e,providerId:s,_tokenResponse:n,operationType:t})})}};function Fm(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}var i8=class i extends Jt{constructor(e,t,n,s){var r;super(t.code,t.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,i.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,s){return new i(e,t,n,s)}};function vv(i,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?i8._fromErrorAndOperation(i,r,e,n):r})}function IM(i,e,t=!1){return w(this,null,function*(){let n=yield Lo(i,e._linkToIdToken(i.auth,yield i.getIdToken()),t);return ko._forOperation(i,"link",n)})}function CM(i,e,t=!1){return w(this,null,function*(){let{auth:n}=i;if(Sn(n.app))return Promise.reject(Bi(n));let s="reauthenticate";try{let r=yield Lo(i,vv(n,s,e,i),t);$(r.idToken,n,"internal-error");let o=m8(r.idToken);$(o,n,"internal-error");let{sub:c}=o;return $(i.uid===c,n,"user-mismatch"),ko._forOperation(i,s,r)}catch(r){throw r?.code==="auth/user-not-found"&&An(n,"user-mismatch"),r}})}function pv(i,e,t=!1){return w(this,null,function*(){if(Sn(i.app))return Promise.reject(Bi(i));let n="signIn",s=yield vv(i,n,e),r=yield ko._fromIdTokenResponse(i,n,s);return t||(yield i._updateCurrentUser(r.user)),r})}function b8(i,e){return w(this,null,function*(){return pv(_s(i),e)})}function MM(i){return w(this,null,function*(){let e=_s(i);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function w8(i,e,t){return Sn(i.app)?Promise.reject(Bi(i)):b8(pt(i),mv.credential(e,t)).catch(n=>w(this,null,function*(){throw n.code==="auth/password-does-not-meet-requirements"&&MM(i),n}))}function Fo(i,e,t,n){return pt(i).onIdTokenChanged(e,t,n)}function z8(i,e,t){return pt(i).beforeAuthStateChanged(e,t)}function E8(i){return pt(i).signOut()}var Va="__sak";var Aa=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Va,"1"),this.storage.removeItem(Va),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var SM=1e3,VM=10,AM=(()=>{class i extends Aa{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let n of Object.keys(this.listeners)){let s=this.storage.getItem(n),r=this.localCache[n];s!==r&&t(n,r,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((c,l,h)=>{this.notifyListeners(c,h)});return}let s=t.key;n?this.detachListener():this.stopPolling();let r=()=>{let c=this.storage.getItem(s);!n&&this.localCache[s]===c||this.notifyListeners(s,c)},o=this.storage.getItem(s);aM()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,VM):r()}notifyListeners(t,n){this.localCache[t]=n;let s=this.listeners[t];if(s)for(let r of Array.from(s))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},SM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,n){return w(this,null,function*(){yield mi(i.prototype,this,"_set").call(this,t,n),this.localCache[t]=JSON.stringify(n)})}_get(t){return w(this,null,function*(){let n=yield mi(i.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(n),n})}_remove(t){return w(this,null,function*(){yield mi(i.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return i.type="LOCAL",i})(),gv=AM;var RM=(()=>{class i extends Aa{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}return i.type="SESSION",i})(),T8=RM;function xM(i){return Promise.all(i.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var OM=(()=>{class i{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(r=>r.isListeningto(t));if(n)return n;let s=new i(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let n=t,{eventId:s,eventType:r,data:o}=n.data,c=this.handlersMap[r];if(!c?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:r});let l=Array.from(c).map(f=>w(this,null,function*(){return f(n.origin,o)})),h=yield xM(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:r,response:h})})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}i.receivers=[];return i})();function yv(i="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return i+t}var s8=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){return w(this,null,function*(){let s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let r,o;return new Promise((c,l)=>{let h=yv("",20);s.port1.start();let f=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(v){let p=v;if(p.data.eventId===h)switch(p.data.status){case"ack":clearTimeout(f),r=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),c(p.data.response);break;default:clearTimeout(f),clearTimeout(r),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:t},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function Vn(){return window}function LM(i){Vn().location.href=i}function bv(){return typeof Vn().WorkerGlobalScope<"u"&&typeof Vn().importScripts=="function"}function NM(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function PM(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function DM(){return bv()?self:null}var wv="firebaseLocalStorageDb",kM=1,Ra="firebaseLocalStorage",zv="fbase_key",x1=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Na(i,e){return i.transaction([Ra],e?"readwrite":"readonly").objectStore(Ra)}function HM(){let i=indexedDB.deleteDatabase(wv);return new x1(i).toPromise()}function r8(){let i=indexedDB.open(wv,kM);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{let n=i.result;try{n.createObjectStore(Ra,{keyPath:zv})}catch(s){t(s)}}),i.addEventListener("success",()=>w(this,null,function*(){let n=i.result;n.objectStoreNames.contains(Ra)?e(n):(n.close(),yield HM(),e(yield r8()))}))})}function Bm(i,e,t){return w(this,null,function*(){let n=Na(i,!0).put({[zv]:e,value:t});return new x1(n).toPromise()})}function FM(i,e){return w(this,null,function*(){let t=Na(i,!1).get(e),n=yield new x1(t).toPromise();return n===void 0?null:n.value})}function _m(i,e){let t=Na(i,!0).delete(e);return new x1(t).toPromise()}var BM=800,_M=3,jM=(()=>{class i{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield r8(),this.db)})}_withRetries(t){return w(this,null,function*(){let n=0;for(;;)try{let s=yield this._openDb();return yield t(s)}catch(s){if(n++>_M)throw s;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return bv()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=OM._getInstance(DM()),this.receiver._subscribe("keyChanged",(t,n)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(n.key)}})),this.receiver._subscribe("ping",(t,n)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,n;if(this.activeServiceWorker=yield NM(),!this.activeServiceWorker)return;this.sender=new s8(this.activeServiceWorker);let s=yield this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||PM()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield r8();return yield Bm(t,Va,"1"),yield _m(t,Va),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(s=>Bm(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let n=yield this._withRetries(s=>FM(s,t));return this.localCache[t]=n,n})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(n=>_m(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(r=>{let o=Na(r,!1).getAll();return new x1(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let n=[],s=new Set;if(t.length!==0)for(let{fbase_key:r,value:o}of t)s.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),n.push(r));for(let r of Object.keys(this.localCache))this.localCache[r]&&!s.has(r)&&(this.notifyListeners(r,null),n.push(r));return n})}notifyListeners(t,n){this.localCache[t]=n;let s=this.listeners[t];if(s)for(let r of Array.from(s))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),BM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return i.type="LOCAL",i})(),Ev=jM;var FH=dv("rcb"),BH=new R1(3e4,6e4);function UM(i,e){return e?ni(e):($(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}var Ho=class extends Po{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return W0(e,this._buildIdpRequest())}_linkToIdToken(e,t){return W0(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return W0(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function qM(i){return pv(i.auth,new Ho(i),i.bypassAuthState)}function WM(i){let{auth:e,user:t}=i;return $(t,e,"internal-error"),CM(t,new Ho(i),i.bypassAuthState)}function XM(i){return w(this,null,function*(){let{auth:e,user:t}=i;return $(t,e,"internal-error"),IM(t,new Ho(i),i.bypassAuthState)})}var o8=class{constructor(e,t,n,s,r=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:n,postBody:s,tenantId:r,error:o,type:c}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(l))}catch(h){this.reject(h)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return qM;case"linkViaPopup":case"linkViaRedirect":return XM;case"reauthViaPopup":case"reauthViaRedirect":return WM;default:An(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var _H=new R1(2e3,1e4);var GM="pendingRedirect",ba=new Map,a8=class i extends o8{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){return w(this,null,function*(){let e=ba.get(this.auth._key());if(!e){try{let n=(yield KM(this.resolver,this.auth))?yield mi(i.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}ba.set(this.auth._key(),e)}return this.bypassAuthState||ba.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return mi(i.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,mi(i.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function KM(i,e){return w(this,null,function*(){let t=QM(e),n=YM(i);if(!(yield n._isAvailable()))return!1;let s=(yield n._get(t))==="true";return yield n._remove(t),s})}function ZM(i,e){ba.set(i._key(),e)}function YM(i){return ni(i._redirectPersistence)}function QM(i){return ya(GM,i.config.apiKey,i.name)}function JM(i,e,t=!1){return w(this,null,function*(){if(Sn(i.app))return Promise.reject(Bi(i));let n=_s(i),s=UM(n,e),o=yield new a8(n,s,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield n._persistUserIfCurrent(o.user),yield n._setRedirectUser(null,e)),o})}var $M=10*60*1e3,c8=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eS(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Tv(e)){let s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(A1(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$M&&this.cachedEventUids.clear(),this.cachedEventUids.has(jm(e))}saveEventToCache(e){this.cachedEventUids.add(jm(e)),this.lastProcessedEventTime=Date.now()}};function jm(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Tv({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function eS(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tv(i);default:return!1}}function tS(t){return w(this,arguments,function*(i,e={}){return ji(i,"GET","/v1/projects",e)})}var nS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iS=/^https?/;function sS(i){return w(this,null,function*(){if(i.config.emulator)return;let{authorizedDomains:e}=yield tS(i);for(let t of e)try{if(rS(t))return}catch{}An(i,"unauthorized-domain")})}function rS(i){let e=G0(),{protocol:t,hostname:n}=new URL(e);if(i.startsWith("chrome-extension://")){let o=new URL(i);return o.hostname===""&&n===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===n}if(!iS.test(t))return!1;if(nS.test(i))return n===i;let s=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}var oS=new R1(3e4,6e4);function Um(){let i=Vn().___jsl;if(i?.H){for(let e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function aS(i){return new Promise((e,t)=>{var n,s,r;function o(){Um(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Um(),t(A1(i,"network-request-failed"))},timeout:oS.get()})}if(!((s=(n=Vn().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((r=Vn().gapi)===null||r===void 0)&&r.load)o();else{let c=dv("iframefcb");return Vn()[c]=()=>{gapi.load?o():t(A1(i,"network-request-failed"))},uv(`${dM()}?onload=${c}`).catch(l=>t(l))}}).catch(e=>{throw wa=null,e})}var wa=null;function cS(i){return wa=wa||aS(i),wa}var lS=new R1(5e3,15e3),hS="__/auth/iframe",uS="emulator/auth/iframe",dS={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mS(i){let e=i.config;$(e.authDomain,i,"auth-domain-config-required");let t=e.emulator?d8(e,uS):`https://${i.config.authDomain}/${hS}`,n={apiKey:e.apiKey,appName:i.name,v:Hi},s=fS.get(i.config.apiHost);s&&(n.eid=s);let r=i._getFrameworks();return r.length&&(n.fw=r.join(",")),`${t}?${Mo(n).slice(1)}`}function vS(i){return w(this,null,function*(){let e=yield cS(i),t=Vn().gapi;return $(t,i,"internal-error"),e.open({where:document.body,url:mS(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dS,dontclear:!0},n=>new Promise((s,r)=>w(this,null,function*(){yield n.restyle({setHideOnLeave:!1});let o=A1(i,"network-request-failed"),c=Vn().setTimeout(()=>{r(o)},lS.get());function l(){Vn().clearTimeout(c),s(n)}n.ping(l).then(l,()=>{r(o)})})))})}var pS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},gS=500,yS=600,bS="_blank",wS="http://localhost",xa=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function zS(i,e,t,n=gS,s=yS){let r=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString(),c="",l=Object.assign(Object.assign({},pS),{width:n.toString(),height:s.toString(),top:r,left:o}),h=lt().toLowerCase();t&&(c=sv(h)?bS:t),nv(h)&&(e=e||wS,l.scrollbars="yes");let f=Object.entries(l).reduce((p,[I,A])=>`${p}${I}=${A},`,"");if(oM(h)&&c!=="_self")return ES(e||"",c),new xa(null);let v=window.open(e||"",c,f);$(v,i,"popup-blocked");try{v.focus()}catch{}return new xa(v)}function ES(i,e){let t=document.createElement("a");t.href=i,t.target=e;let n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}var TS="__/auth/handler",IS="emulator/auth/handler",CS=encodeURIComponent("fac");function qm(i,e,t,n,s,r){return w(this,null,function*(){$(i.config.authDomain,i,"auth-domain-config-required"),$(i.config.apiKey,i,"invalid-api-key");let o={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:n,v:Hi,eventId:s};if(e instanceof Sa){e.setDefaultLanguage(i.languageCode),o.providerId=e.providerId||"",vm(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,v]of Object.entries(r||{}))o[f]=v}if(e instanceof n8){let f=e.getScopes().filter(v=>v!=="");f.length>0&&(o.scopes=f.join(","))}i.tenantId&&(o.tid=i.tenantId);let c=o;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let l=yield i._getAppCheckToken(),h=l?`#${CS}=${encodeURIComponent(l)}`:"";return`${MS(i)}?${Mo(c).slice(1)}${h}`})}function MS({config:i}){return i.emulator?d8(i,IS):`https://${i.authDomain}/${TS}`}var X0="webStorageSupport",l8=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=T8,this._completeRedirectFn=JM,this._overrideRedirectResult=ZM}_openPopup(e,t,n,s){return w(this,null,function*(){var r;_i((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");let o=yield qm(e,t,n,G0(),s);return zS(e,o,yv())})}_openRedirect(e,t,n,s){return w(this,null,function*(){yield this._originValidation(e);let r=yield qm(e,t,n,G0(),s);return LM(r),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:s,promise:r}=this.eventManagers[t];return s?Promise.resolve(s):(_i(r,"If manager is not set, promise should be"),r)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){return w(this,null,function*(){let t=yield vS(e),n=new c8(e);return t.register("authEvent",s=>($(s?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(X0,{type:X0},s=>{var r;let o=(r=s?.[0])===null||r===void 0?void 0:r[X0];o!==void 0&&t(!!o),An(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=sS(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return lv()||iv()||p8()}},Iv=l8;var Wm="@firebase/auth",Xm="1.7.9";var h8=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function SS(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VS(i){ki(new rn("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;$(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:o,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hv(i)},h=new e8(n,s,r,l);return vM(h,t),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),ki(new rn("auth-internal",e=>{let t=_s(e.getProvider("auth").getImmediate());return(n=>new h8(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),rt(Wm,Xm,SS(i)),rt(Wm,Xm,"esm2017")}var AS=5*60,RS=C0("authIdTokenMaxAge")||AS,Gm=null,xS=i=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>RS)return;let s=t?.token;Gm!==s&&(Gm=s,yield fetch(i,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});function I8(i=Ds()){let e=Ao(i,"auth");if(e.isInitialized())return e.getImmediate();let t=g8(i,{popupRedirectResolver:Iv,persistence:[Ev,gv,T8]}),n=C0("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){let r=new URL(n,location.origin);if(location.origin===r.origin){let o=xS(r.toString());z8(t,o,()=>o(t.currentUser)),Fo(t,c=>o(c))}}let s=T0("auth");return s&&y8(t,`http://${s}`),t}function OS(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}hM({loadJS(i){return new Promise((e,t)=>{let n=document.createElement("script");n.setAttribute("src",i),n.onload=e,n.onerror=s=>{let r=A1("internal-error");r.customData=s,t(r)},n.type="text/javascript",n.charset="UTF-8",OS().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VS("Browser");function Sv(i){return new Xe(function(e){var t=Fo(i,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Vv="auth",Bo=class{constructor(e){return e}},_o=class{constructor(){return Ro(Vv)}};var C8=new X("angularfire2.auth-instances");function zV(i,e){let t=ma(Vv,i,e);return t&&new Bo(t)}function EV(i){return(e,t)=>{let n=e.runOutsideAngular(()=>i(t));return new Bo(n)}}var TV={provide:_o,deps:[[new mt,C8]]},IV={provide:Bo,useFactory:zV,deps:[[new mt,C8],ei]};function RF(i,...e){return rt("angularfire",S1.full,"auth"),Tt([IV,TV,{provide:C8,useFactory:EV(i),multi:!0,deps:[Y,Ge,Fs,V1,[new mt,Hs],...e]}])}var xF=ht(Sv,!0);var OF=ht(I8,!0);var LF=ht(w8,!0);var NF=ht(E8,!0);var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Rv={};var Ui,M8;(function(){var i;function e(E,g){function b(){}b.prototype=g.prototype,E.D=g.prototype,E.prototype=new b,E.prototype.constructor=E,E.C=function(z,T,M){for(var y=Array(arguments.length-2),Hn=2;Hn<arguments.length;Hn++)y[Hn-2]=arguments[Hn];return g.prototype[T].apply(z,y)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,g,b){b||(b=0);var z=Array(16);if(typeof g=="string")for(var T=0;16>T;++T)z[T]=g.charCodeAt(b++)|g.charCodeAt(b++)<<8|g.charCodeAt(b++)<<16|g.charCodeAt(b++)<<24;else for(T=0;16>T;++T)z[T]=g[b++]|g[b++]<<8|g[b++]<<16|g[b++]<<24;g=E.g[0],b=E.g[1],T=E.g[2];var M=E.g[3],y=g+(M^b&(T^M))+z[0]+3614090360&4294967295;g=b+(y<<7&4294967295|y>>>25),y=M+(T^g&(b^T))+z[1]+3905402710&4294967295,M=g+(y<<12&4294967295|y>>>20),y=T+(b^M&(g^b))+z[2]+606105819&4294967295,T=M+(y<<17&4294967295|y>>>15),y=b+(g^T&(M^g))+z[3]+3250441966&4294967295,b=T+(y<<22&4294967295|y>>>10),y=g+(M^b&(T^M))+z[4]+4118548399&4294967295,g=b+(y<<7&4294967295|y>>>25),y=M+(T^g&(b^T))+z[5]+1200080426&4294967295,M=g+(y<<12&4294967295|y>>>20),y=T+(b^M&(g^b))+z[6]+2821735955&4294967295,T=M+(y<<17&4294967295|y>>>15),y=b+(g^T&(M^g))+z[7]+4249261313&4294967295,b=T+(y<<22&4294967295|y>>>10),y=g+(M^b&(T^M))+z[8]+1770035416&4294967295,g=b+(y<<7&4294967295|y>>>25),y=M+(T^g&(b^T))+z[9]+2336552879&4294967295,M=g+(y<<12&4294967295|y>>>20),y=T+(b^M&(g^b))+z[10]+4294925233&4294967295,T=M+(y<<17&4294967295|y>>>15),y=b+(g^T&(M^g))+z[11]+2304563134&4294967295,b=T+(y<<22&4294967295|y>>>10),y=g+(M^b&(T^M))+z[12]+1804603682&4294967295,g=b+(y<<7&4294967295|y>>>25),y=M+(T^g&(b^T))+z[13]+4254626195&4294967295,M=g+(y<<12&4294967295|y>>>20),y=T+(b^M&(g^b))+z[14]+2792965006&4294967295,T=M+(y<<17&4294967295|y>>>15),y=b+(g^T&(M^g))+z[15]+1236535329&4294967295,b=T+(y<<22&4294967295|y>>>10),y=g+(T^M&(b^T))+z[1]+4129170786&4294967295,g=b+(y<<5&4294967295|y>>>27),y=M+(b^T&(g^b))+z[6]+3225465664&4294967295,M=g+(y<<9&4294967295|y>>>23),y=T+(g^b&(M^g))+z[11]+643717713&4294967295,T=M+(y<<14&4294967295|y>>>18),y=b+(M^g&(T^M))+z[0]+3921069994&4294967295,b=T+(y<<20&4294967295|y>>>12),y=g+(T^M&(b^T))+z[5]+3593408605&4294967295,g=b+(y<<5&4294967295|y>>>27),y=M+(b^T&(g^b))+z[10]+38016083&4294967295,M=g+(y<<9&4294967295|y>>>23),y=T+(g^b&(M^g))+z[15]+3634488961&4294967295,T=M+(y<<14&4294967295|y>>>18),y=b+(M^g&(T^M))+z[4]+3889429448&4294967295,b=T+(y<<20&4294967295|y>>>12),y=g+(T^M&(b^T))+z[9]+568446438&4294967295,g=b+(y<<5&4294967295|y>>>27),y=M+(b^T&(g^b))+z[14]+3275163606&4294967295,M=g+(y<<9&4294967295|y>>>23),y=T+(g^b&(M^g))+z[3]+4107603335&4294967295,T=M+(y<<14&4294967295|y>>>18),y=b+(M^g&(T^M))+z[8]+1163531501&4294967295,b=T+(y<<20&4294967295|y>>>12),y=g+(T^M&(b^T))+z[13]+2850285829&4294967295,g=b+(y<<5&4294967295|y>>>27),y=M+(b^T&(g^b))+z[2]+4243563512&4294967295,M=g+(y<<9&4294967295|y>>>23),y=T+(g^b&(M^g))+z[7]+1735328473&4294967295,T=M+(y<<14&4294967295|y>>>18),y=b+(M^g&(T^M))+z[12]+2368359562&4294967295,b=T+(y<<20&4294967295|y>>>12),y=g+(b^T^M)+z[5]+4294588738&4294967295,g=b+(y<<4&4294967295|y>>>28),y=M+(g^b^T)+z[8]+2272392833&4294967295,M=g+(y<<11&4294967295|y>>>21),y=T+(M^g^b)+z[11]+1839030562&4294967295,T=M+(y<<16&4294967295|y>>>16),y=b+(T^M^g)+z[14]+4259657740&4294967295,b=T+(y<<23&4294967295|y>>>9),y=g+(b^T^M)+z[1]+2763975236&4294967295,g=b+(y<<4&4294967295|y>>>28),y=M+(g^b^T)+z[4]+1272893353&4294967295,M=g+(y<<11&4294967295|y>>>21),y=T+(M^g^b)+z[7]+4139469664&4294967295,T=M+(y<<16&4294967295|y>>>16),y=b+(T^M^g)+z[10]+3200236656&4294967295,b=T+(y<<23&4294967295|y>>>9),y=g+(b^T^M)+z[13]+681279174&4294967295,g=b+(y<<4&4294967295|y>>>28),y=M+(g^b^T)+z[0]+3936430074&4294967295,M=g+(y<<11&4294967295|y>>>21),y=T+(M^g^b)+z[3]+3572445317&4294967295,T=M+(y<<16&4294967295|y>>>16),y=b+(T^M^g)+z[6]+76029189&4294967295,b=T+(y<<23&4294967295|y>>>9),y=g+(b^T^M)+z[9]+3654602809&4294967295,g=b+(y<<4&4294967295|y>>>28),y=M+(g^b^T)+z[12]+3873151461&4294967295,M=g+(y<<11&4294967295|y>>>21),y=T+(M^g^b)+z[15]+530742520&4294967295,T=M+(y<<16&4294967295|y>>>16),y=b+(T^M^g)+z[2]+3299628645&4294967295,b=T+(y<<23&4294967295|y>>>9),y=g+(T^(b|~M))+z[0]+4096336452&4294967295,g=b+(y<<6&4294967295|y>>>26),y=M+(b^(g|~T))+z[7]+1126891415&4294967295,M=g+(y<<10&4294967295|y>>>22),y=T+(g^(M|~b))+z[14]+2878612391&4294967295,T=M+(y<<15&4294967295|y>>>17),y=b+(M^(T|~g))+z[5]+4237533241&4294967295,b=T+(y<<21&4294967295|y>>>11),y=g+(T^(b|~M))+z[12]+1700485571&4294967295,g=b+(y<<6&4294967295|y>>>26),y=M+(b^(g|~T))+z[3]+2399980690&4294967295,M=g+(y<<10&4294967295|y>>>22),y=T+(g^(M|~b))+z[10]+4293915773&4294967295,T=M+(y<<15&4294967295|y>>>17),y=b+(M^(T|~g))+z[1]+2240044497&4294967295,b=T+(y<<21&4294967295|y>>>11),y=g+(T^(b|~M))+z[8]+1873313359&4294967295,g=b+(y<<6&4294967295|y>>>26),y=M+(b^(g|~T))+z[15]+4264355552&4294967295,M=g+(y<<10&4294967295|y>>>22),y=T+(g^(M|~b))+z[6]+2734768916&4294967295,T=M+(y<<15&4294967295|y>>>17),y=b+(M^(T|~g))+z[13]+1309151649&4294967295,b=T+(y<<21&4294967295|y>>>11),y=g+(T^(b|~M))+z[4]+4149444226&4294967295,g=b+(y<<6&4294967295|y>>>26),y=M+(b^(g|~T))+z[11]+3174756917&4294967295,M=g+(y<<10&4294967295|y>>>22),y=T+(g^(M|~b))+z[2]+718787259&4294967295,T=M+(y<<15&4294967295|y>>>17),y=b+(M^(T|~g))+z[9]+3951481745&4294967295,E.g[0]=E.g[0]+g&4294967295,E.g[1]=E.g[1]+(T+(y<<21&4294967295|y>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+M&4294967295}n.prototype.u=function(E,g){g===void 0&&(g=E.length);for(var b=g-this.blockSize,z=this.B,T=this.h,M=0;M<g;){if(T==0)for(;M<=b;)s(this,E,M),M+=this.blockSize;if(typeof E=="string"){for(;M<g;)if(z[T++]=E.charCodeAt(M++),T==this.blockSize){s(this,z),T=0;break}}else for(;M<g;)if(z[T++]=E[M++],T==this.blockSize){s(this,z),T=0;break}}this.h=T,this.o+=g},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var g=1;g<E.length-8;++g)E[g]=0;var b=8*this.o;for(g=E.length-8;g<E.length;++g)E[g]=b&255,b/=256;for(this.u(E),E=Array(16),g=b=0;4>g;++g)for(var z=0;32>z;z+=8)E[b++]=this.g[g]>>>z&255;return E};function r(E,g){var b=c;return Object.prototype.hasOwnProperty.call(b,E)?b[E]:b[E]=g(E)}function o(E,g){this.h=g;for(var b=[],z=!0,T=E.length-1;0<=T;T--){var M=E[T]|0;z&&M==g||(b[T]=M,z=!1)}this.g=b}var c={};function l(E){return-128<=E&&128>E?r(E,function(g){return new o([g|0],0>g?-1:0)}):new o([E|0],0>E?-1:0)}function h(E){if(isNaN(E)||!isFinite(E))return v;if(0>E)return R(h(-E));for(var g=[],b=1,z=0;E>=b;z++)g[z]=E/b|0,b*=4294967296;return new o(g,0)}function f(E,g){if(E.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(E.charAt(0)=="-")return R(f(E.substring(1),g));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(g,8)),z=v,T=0;T<E.length;T+=8){var M=Math.min(8,E.length-T),y=parseInt(E.substring(T,T+M),g);8>M?(M=h(Math.pow(g,M)),z=z.j(M).add(h(y))):(z=z.j(b),z=z.add(h(y)))}return z}var v=l(0),p=l(1),I=l(16777216);i=o.prototype,i.m=function(){if(P(this))return-R(this).m();for(var E=0,g=1,b=0;b<this.g.length;b++){var z=this.i(b);E+=(0<=z?z:4294967296+z)*g,g*=4294967296}return E},i.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(P(this))return"-"+R(this).toString(E);for(var g=h(Math.pow(E,6)),b=this,z="";;){var T=se(b,g).g;b=B(b,T.j(g));var M=((0<b.g.length?b.g[0]:b.h)>>>0).toString(E);if(b=T,A(b))return M+z;for(;6>M.length;)M="0"+M;z=M+z}},i.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var g=0;g<E.g.length;g++)if(E.g[g]!=0)return!1;return!0}function P(E){return E.h==-1}i.l=function(E){return E=B(this,E),P(E)?-1:A(E)?0:1};function R(E){for(var g=E.g.length,b=[],z=0;z<g;z++)b[z]=~E.g[z];return new o(b,~E.h).add(p)}i.abs=function(){return P(this)?R(this):this},i.add=function(E){for(var g=Math.max(this.g.length,E.g.length),b=[],z=0,T=0;T<=g;T++){var M=z+(this.i(T)&65535)+(E.i(T)&65535),y=(M>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);z=y>>>16,M&=65535,y&=65535,b[T]=y<<16|M}return new o(b,b[b.length-1]&-2147483648?-1:0)};function B(E,g){return E.add(R(g))}i.j=function(E){if(A(this)||A(E))return v;if(P(this))return P(E)?R(this).j(R(E)):R(R(this).j(E));if(P(E))return R(this.j(R(E)));if(0>this.l(I)&&0>E.l(I))return h(this.m()*E.m());for(var g=this.g.length+E.g.length,b=[],z=0;z<2*g;z++)b[z]=0;for(z=0;z<this.g.length;z++)for(var T=0;T<E.g.length;T++){var M=this.i(z)>>>16,y=this.i(z)&65535,Hn=E.i(T)>>>16,hr=E.i(T)&65535;b[2*z+2*T]+=y*hr,J(b,2*z+2*T),b[2*z+2*T+1]+=M*hr,J(b,2*z+2*T+1),b[2*z+2*T+1]+=y*Hn,J(b,2*z+2*T+1),b[2*z+2*T+2]+=M*Hn,J(b,2*z+2*T+2)}for(z=0;z<g;z++)b[z]=b[2*z+1]<<16|b[2*z];for(z=g;z<2*g;z++)b[z]=0;return new o(b,0)};function J(E,g){for(;(E[g]&65535)!=E[g];)E[g+1]+=E[g]>>>16,E[g]&=65535,g++}function te(E,g){this.g=E,this.h=g}function se(E,g){if(A(g))throw Error("division by zero");if(A(E))return new te(v,v);if(P(E))return g=se(R(E),g),new te(R(g.g),R(g.h));if(P(g))return g=se(E,R(g)),new te(R(g.g),g.h);if(30<E.g.length){if(P(E)||P(g))throw Error("slowDivide_ only works with positive integers.");for(var b=p,z=g;0>=z.l(E);)b=Ye(b),z=Ye(z);var T=le(b,1),M=le(z,1);for(z=le(z,2),b=le(b,2);!A(z);){var y=M.add(z);0>=y.l(E)&&(T=T.add(b),M=y),z=le(z,1),b=le(b,1)}return g=B(E,T.j(g)),new te(T,g)}for(T=v;0<=E.l(g);){for(b=Math.max(1,Math.floor(E.m()/g.m())),z=Math.ceil(Math.log(b)/Math.LN2),z=48>=z?1:Math.pow(2,z-48),M=h(b),y=M.j(g);P(y)||0<y.l(E);)b-=z,M=h(b),y=M.j(g);A(M)&&(M=p),T=T.add(M),E=B(E,y)}return new te(T,E)}i.A=function(E){return se(this,E).h},i.and=function(E){for(var g=Math.max(this.g.length,E.g.length),b=[],z=0;z<g;z++)b[z]=this.i(z)&E.i(z);return new o(b,this.h&E.h)},i.or=function(E){for(var g=Math.max(this.g.length,E.g.length),b=[],z=0;z<g;z++)b[z]=this.i(z)|E.i(z);return new o(b,this.h|E.h)},i.xor=function(E){for(var g=Math.max(this.g.length,E.g.length),b=[],z=0;z<g;z++)b[z]=this.i(z)^E.i(z);return new o(b,this.h^E.h)};function Ye(E){for(var g=E.g.length+1,b=[],z=0;z<g;z++)b[z]=E.i(z)<<1|E.i(z-1)>>>31;return new o(b,E.h)}function le(E,g){var b=g>>5;g%=32;for(var z=E.g.length-b,T=[],M=0;M<z;M++)T[M]=0<g?E.i(M+b)>>>g|E.i(M+b+1)<<32-g:E.i(M+b);return new o(T,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,M8=Rv.Md5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=f,Ui=Rv.Integer=o}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Pa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ii={};var S8,CV,js,V8,jo,Da,A8,R8,x8;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,d){return a==Array.prototype||a==Object.prototype||(a[u]=d.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pa=="object"&&Pa];for(var u=0;u<a.length;++u){var d=a[u];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var n=t(this);function s(a,u){if(u)e:{var d=n;a=a.split(".");for(var m=0;m<a.length-1;m++){var C=a[m];if(!(C in d))break e;d=d[C]}a=a[a.length-1],m=d[a],u=u(m),u!=m&&u!=null&&e(d,a,{configurable:!0,writable:!0,value:u})}}function r(a,u){a instanceof String&&(a+="");var d=0,m=!1,C={next:function(){if(!m&&d<a.length){var S=d++;return{value:u(S,a[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}s("Array.prototype.values",function(a){return a||function(){return r(this,function(u,d){return d})}});var o=o||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function h(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function f(a,u,d){return a.call.apply(a.bind,arguments)}function v(a,u,d){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,m),a.apply(u,C)}}return function(){return a.apply(u,arguments)}}function p(a,u,d){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:v,p.apply(null,arguments)}function I(a,u){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function A(a,u){function d(){}d.prototype=u.prototype,a.aa=u.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(m,C,S){for(var k=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)k[Ae-2]=arguments[Ae];return u.prototype[C].apply(m,k)}}function P(a){let u=a.length;if(0<u){let d=Array(u);for(let m=0;m<u;m++)d[m]=a[m];return d}return[]}function R(a,u){for(let d=1;d<arguments.length;d++){let m=arguments[d];if(l(m)){let C=a.length||0,S=m.length||0;a.length=C+S;for(let k=0;k<S;k++)a[C+k]=m[k]}else a.push(m)}}class B{constructor(u,d){this.i=u,this.j=d,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function J(a){return/^[\s\xa0]*$/.test(a)}function te(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function se(a){return se[" "](a),a}se[" "]=function(){};var Ye=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function le(a,u,d){for(let m in a)u.call(d,a[m],m,a)}function E(a,u){for(let d in a)u.call(void 0,a[d],d,a)}function g(a){let u={};for(let d in a)u[d]=a[d];return u}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function z(a,u){let d,m;for(let C=1;C<arguments.length;C++){m=arguments[C];for(d in m)a[d]=m[d];for(let S=0;S<b.length;S++)d=b[S],Object.prototype.hasOwnProperty.call(m,d)&&(a[d]=m[d])}}function T(a){var u=1;a=a.split(":");let d=[];for(;0<u&&a.length;)d.push(a.shift()),u--;return a.length&&d.push(a.join(":")),d}function M(a){c.setTimeout(()=>{throw a},0)}function y(){var a=S3;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class Hn{constructor(){this.h=this.g=null}add(u,d){let m=hr.get();m.set(u,d),this.h?this.h.next=m:this.g=m,this.h=m}}var hr=new B(()=>new Ug,a=>a.reset());class Ug{constructor(){this.next=this.g=this.h=null}set(u,d){this.h=u,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let ur,dr=!1,S3=new Hn,Bh=()=>{let a=c.Promise.resolve(void 0);ur=()=>{a.then(qg)}};var qg=()=>{for(var a;a=y();){try{a.h.call(a.g)}catch(d){M(d)}var u=hr;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}dr=!1};function hi(){this.s=this.s,this.C=this.C}hi.prototype.s=!1,hi.prototype.ma=function(){this.s||(this.s=!0,this.N())},hi.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function yt(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}yt.prototype.h=function(){this.defaultPrevented=!0};var Wg=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let d=()=>{};c.addEventListener("test",d,u),c.removeEventListener("test",d,u)}catch{}return a}();function fr(a,u){if(yt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(Ye){e:{try{se(u.nodeName);var C=!0;break e}catch{}C=!1}C||(u=null)}}else d=="mouseover"?u=a.fromElement:d=="mouseout"&&(u=a.toElement);this.relatedTarget=u,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Xg[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&fr.aa.h.call(this)}}A(fr,yt);var Xg={2:"touch",3:"pen",4:"mouse"};fr.prototype.h=function(){fr.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var mr="closure_listenable_"+(1e6*Math.random()|0),Gg=0;function Kg(a,u,d,m,C){this.listener=a,this.proxy=null,this.src=u,this.type=d,this.capture=!!m,this.ha=C,this.key=++Gg,this.da=this.fa=!1}function m4(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function v4(a){this.src=a,this.g={},this.h=0}v4.prototype.add=function(a,u,d,m,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var k=A3(a,u,m,C);return-1<k?(u=a[k],d||(u.fa=!1)):(u=new Kg(u,this.src,S,!!m,C),u.fa=d,a.push(u)),u};function V3(a,u){var d=u.type;if(d in a.g){var m=a.g[d],C=Array.prototype.indexOf.call(m,u,void 0),S;(S=0<=C)&&Array.prototype.splice.call(m,C,1),S&&(m4(u),a.g[d].length==0&&(delete a.g[d],a.h--))}}function A3(a,u,d,m){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==u&&S.capture==!!d&&S.ha==m)return C}return-1}var R3="closure_lm_"+(1e6*Math.random()|0),x3={};function _h(a,u,d,m,C){if(m&&m.once)return Uh(a,u,d,m,C);if(Array.isArray(u)){for(var S=0;S<u.length;S++)_h(a,u[S],d,m,C);return null}return d=P3(d),a&&a[mr]?a.K(u,d,h(m)?!!m.capture:!!m,C):jh(a,u,d,!1,m,C)}function jh(a,u,d,m,C,S){if(!u)throw Error("Invalid event type");var k=h(C)?!!C.capture:!!C,Ae=L3(a);if(Ae||(a[R3]=Ae=new v4(a)),d=Ae.add(u,d,m,k,S),d.proxy)return d;if(m=Zg(),d.proxy=m,m.src=a,m.listener=d,a.addEventListener)Wg||(C=k),C===void 0&&(C=!1),a.addEventListener(u.toString(),m,C);else if(a.attachEvent)a.attachEvent(Wh(u.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function Zg(){function a(d){return u.call(a.src,a.listener,d)}let u=Yg;return a}function Uh(a,u,d,m,C){if(Array.isArray(u)){for(var S=0;S<u.length;S++)Uh(a,u[S],d,m,C);return null}return d=P3(d),a&&a[mr]?a.L(u,d,h(m)?!!m.capture:!!m,C):jh(a,u,d,!0,m,C)}function qh(a,u,d,m,C){if(Array.isArray(u))for(var S=0;S<u.length;S++)qh(a,u[S],d,m,C);else m=h(m)?!!m.capture:!!m,d=P3(d),a&&a[mr]?(a=a.i,u=String(u).toString(),u in a.g&&(S=a.g[u],d=A3(S,d,m,C),-1<d&&(m4(S[d]),Array.prototype.splice.call(S,d,1),S.length==0&&(delete a.g[u],a.h--)))):a&&(a=L3(a))&&(u=a.g[u.toString()],a=-1,u&&(a=A3(u,d,m,C)),(d=-1<a?u[a]:null)&&O3(d))}function O3(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[mr])V3(u.i,a);else{var d=a.type,m=a.proxy;u.removeEventListener?u.removeEventListener(d,m,a.capture):u.detachEvent?u.detachEvent(Wh(d),m):u.addListener&&u.removeListener&&u.removeListener(m),(d=L3(u))?(V3(d,a),d.h==0&&(d.src=null,u[R3]=null)):m4(a)}}}function Wh(a){return a in x3?x3[a]:x3[a]="on"+a}function Yg(a,u){if(a.da)a=!0;else{u=new fr(u,this);var d=a.listener,m=a.ha||a.src;a.fa&&O3(a),a=d.call(m,u)}return a}function L3(a){return a=a[R3],a instanceof v4?a:null}var N3="__closure_events_fn_"+(1e9*Math.random()>>>0);function P3(a){return typeof a=="function"?a:(a[N3]||(a[N3]=function(u){return a.handleEvent(u)}),a[N3])}function bt(){hi.call(this),this.i=new v4(this),this.M=this,this.F=null}A(bt,hi),bt.prototype[mr]=!0,bt.prototype.removeEventListener=function(a,u,d,m){qh(this,a,u,d,m)};function Lt(a,u){var d,m=a.F;if(m)for(d=[];m;m=m.F)d.push(m);if(a=a.M,m=u.type||u,typeof u=="string")u=new yt(u,a);else if(u instanceof yt)u.target=u.target||a;else{var C=u;u=new yt(m,a),z(u,C)}if(C=!0,d)for(var S=d.length-1;0<=S;S--){var k=u.g=d[S];C=p4(k,m,!0,u)&&C}if(k=u.g=a,C=p4(k,m,!0,u)&&C,C=p4(k,m,!1,u)&&C,d)for(S=0;S<d.length;S++)k=u.g=d[S],C=p4(k,m,!1,u)&&C}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var d=a.g[u],m=0;m<d.length;m++)m4(d[m]);delete a.g[u],a.h--}}this.F=null},bt.prototype.K=function(a,u,d,m){return this.i.add(String(a),u,!1,d,m)},bt.prototype.L=function(a,u,d,m){return this.i.add(String(a),u,!0,d,m)};function p4(a,u,d,m){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var C=!0,S=0;S<u.length;++S){var k=u[S];if(k&&!k.da&&k.capture==d){var Ae=k.listener,dt=k.ha||k.src;k.fa&&V3(a.i,k),C=Ae.call(dt,m)!==!1&&C}}return C&&!m.defaultPrevented}function Xh(a,u,d){if(typeof a=="function")d&&(a=p(a,d));else if(a&&typeof a.handleEvent=="function")a=p(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function Gh(a){a.g=Xh(()=>{a.g=null,a.i&&(a.i=!1,Gh(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class Qg extends hi{constructor(u,d){super(),this.m=u,this.l=d,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Gh(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vr(a){hi.call(this),this.h=a,this.g={}}A(vr,hi);var Kh=[];function Zh(a){le(a.g,function(u,d){this.g.hasOwnProperty(d)&&O3(u)},a),a.g={}}vr.prototype.N=function(){vr.aa.N.call(this),Zh(this)},vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var D3=c.JSON.stringify,Jg=c.JSON.parse,$g=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function k3(){}k3.prototype.h=null;function Yh(a){return a.h||(a.h=a.i())}function Qh(){}var pr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function H3(){yt.call(this,"d")}A(H3,yt);function F3(){yt.call(this,"c")}A(F3,yt);var Zi={},Jh=null;function g4(){return Jh=Jh||new bt}Zi.La="serverreachability";function $h(a){yt.call(this,Zi.La,a)}A($h,yt);function gr(a){let u=g4();Lt(u,new $h(u))}Zi.STAT_EVENT="statevent";function e5(a,u){yt.call(this,Zi.STAT_EVENT,a),this.stat=u}A(e5,yt);function Nt(a){let u=g4();Lt(u,new e5(u,a))}Zi.Ma="timingevent";function t5(a,u){yt.call(this,Zi.Ma,a),this.size=u}A(t5,yt);function yr(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function br(){this.g=!0}br.prototype.xa=function(){this.g=!1};function ey(a,u,d,m,C,S){a.info(function(){if(a.g)if(S)for(var k="",Ae=S.split("&"),dt=0;dt<Ae.length;dt++){var we=Ae[dt].split("=");if(1<we.length){var wt=we[0];we=we[1];var zt=wt.split("_");k=2<=zt.length&&zt[1]=="type"?k+(wt+"="+we+"&"):k+(wt+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+m+") [attempt "+C+"]: "+u+`
`+d+`
`+k})}function ty(a,u,d,m,C,S,k){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+C+"]: "+u+`
`+d+`
`+S+" "+k})}function X1(a,u,d,m){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+iy(a,d)+(m?" "+m:"")})}function ny(a,u){a.info(function(){return"TIMEOUT: "+u})}br.prototype.info=function(){};function iy(a,u){if(!a.g)return u;if(!u)return null;try{var d=JSON.parse(u);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var m=d[a];if(!(2>m.length)){var C=m[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<C.length;k++)C[k]=""}}}}return D3(d)}catch{return u}}var y4={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},n5={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},B3;function b4(){}A(b4,k3),b4.prototype.g=function(){return new XMLHttpRequest},b4.prototype.i=function(){return{}},B3=new b4;function ui(a,u,d,m){this.j=a,this.i=u,this.l=d,this.R=m||1,this.U=new vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new i5}function i5(){this.i=null,this.g="",this.h=!1}var s5={},_3={};function j3(a,u,d){a.L=1,a.v=T4(Fn(u)),a.m=d,a.P=!0,r5(a,null)}function r5(a,u){a.F=Date.now(),w4(a),a.A=Fn(a.v);var d=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),b5(d.i,"t",m),a.C=0,d=a.j.J,a.h=new i5,a.g=k5(a.j,d?u:null,!a.m),0<a.O&&(a.M=new Qg(p(a.Y,a,a.g),a.O)),u=a.U,d=a.g,m=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(Kh[0]=C.toString()),C=Kh);for(var S=0;S<C.length;S++){var k=_h(d,C[S],m||u.handleEvent,!1,u.h||u);if(!k)break;u.g[k.key]=k}u=a.H?g(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),gr(),ey(a.i,a.u,a.A,a.l,a.R,a.m)}ui.prototype.ca=function(a){a=a.target;let u=this.M;u&&Bn(a)==3?u.j():this.Y(a)},ui.prototype.Y=function(a){try{if(a==this.g)e:{let zt=Bn(this.g);var u=this.g.Ba();let Z1=this.g.Z();if(!(3>zt)&&(zt!=3||this.g&&(this.h.h||this.g.oa()||M5(this.g)))){this.J||zt!=4||u==7||(u==8||0>=Z1?gr(3):gr(2)),U3(this);var d=this.g.Z();this.X=d;t:if(o5(this)){var m=M5(this.g);a="";var C=m.length,S=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yi(this),wr(this);var k="";break t}this.h.i=new c.TextDecoder}for(u=0;u<C;u++)this.h.h=!0,a+=this.h.i.decode(m[u],{stream:!(S&&u==C-1)});m.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=d==200,ty(this.i,this.u,this.A,this.l,this.R,zt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,dt=this.g;if((Ae=dt.g?dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(Ae)){var we=Ae;break t}}we=null}if(d=we)X1(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,q3(this,d);else{this.o=!1,this.s=3,Nt(12),Yi(this),wr(this);break e}}if(this.P){d=!0;let on;for(;!this.J&&this.C<k.length;)if(on=sy(this,k),on==_3){zt==4&&(this.s=4,Nt(14),d=!1),X1(this.i,this.l,null,"[Incomplete Response]");break}else if(on==s5){this.s=4,Nt(15),X1(this.i,this.l,k,"[Invalid Chunk]"),d=!1;break}else X1(this.i,this.l,on,null),q3(this,on);if(o5(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),zt!=4||k.length!=0||this.h.h||(this.s=1,Nt(16),d=!1),this.o=this.o&&d,!d)X1(this.i,this.l,k,"[Invalid Chunked Response]"),Yi(this),wr(this);else if(0<k.length&&!this.W){this.W=!0;var wt=this.j;wt.g==this&&wt.ba&&!wt.M&&(wt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Y3(wt),wt.M=!0,Nt(11))}}else X1(this.i,this.l,k,null),q3(this,k);zt==4&&Yi(this),this.o&&!this.J&&(zt==4?L5(this.j,this):(this.o=!1,w4(this)))}else zy(this.g),d==400&&0<k.indexOf("Unknown SID")?(this.s=3,Nt(12)):(this.s=0,Nt(13)),Yi(this),wr(this)}}}catch{}finally{}};function o5(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function sy(a,u){var d=a.C,m=u.indexOf(`
`,d);return m==-1?_3:(d=Number(u.substring(d,m)),isNaN(d)?s5:(m+=1,m+d>u.length?_3:(u=u.slice(m,m+d),a.C=m+d,u)))}ui.prototype.cancel=function(){this.J=!0,Yi(this)};function w4(a){a.S=Date.now()+a.I,a5(a,a.I)}function a5(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=yr(p(a.ba,a),u)}function U3(a){a.B&&(c.clearTimeout(a.B),a.B=null)}ui.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(ny(this.i,this.A),this.L!=2&&(gr(),Nt(17)),Yi(this),this.s=2,wr(this)):a5(this,this.S-a)};function wr(a){a.j.G==0||a.J||L5(a.j,a)}function Yi(a){U3(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,Zh(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function q3(a,u){try{var d=a.j;if(d.G!=0&&(d.g==a||W3(d.h,a))){if(!a.K&&W3(d.h,a)&&d.G==3){try{var m=d.Da.g.parse(u)}catch{m=null}if(Array.isArray(m)&&m.length==3){var C=m;if(C[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)V4(d),M4(d);else break e;Z3(d),Nt(18)}}else d.za=C[1],0<d.za-d.T&&37500>C[2]&&d.F&&d.v==0&&!d.C&&(d.C=yr(p(d.Za,d),6e3));if(1>=h5(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Ji(d,11)}else if((a.K||d.g==a)&&V4(d),!J(u))for(C=d.Da.g.parse(u),u=0;u<C.length;u++){let we=C[u];if(d.T=we[0],we=we[1],d.G==2)if(we[0]=="c"){d.K=we[1],d.ia=we[2];let wt=we[3];wt!=null&&(d.la=wt,d.j.info("VER="+d.la));let zt=we[4];zt!=null&&(d.Aa=zt,d.j.info("SVER="+d.Aa));let Z1=we[5];Z1!=null&&typeof Z1=="number"&&0<Z1&&(m=1.5*Z1,d.L=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;let on=a.g;if(on){let R4=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R4){var S=m.h;S.g||R4.indexOf("spdy")==-1&&R4.indexOf("quic")==-1&&R4.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(X3(S,S.h),S.h=null))}if(m.D){let Q3=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Q3&&(m.ya=Q3,Oe(m.I,m.D,Q3))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),m=d;var k=a;if(m.qa=D5(m,m.J?m.ia:null,m.W),k.K){u5(m.h,k);var Ae=k,dt=m.L;dt&&(Ae.I=dt),Ae.B&&(U3(Ae),w4(Ae)),m.g=k}else x5(m);0<d.i.length&&S4(d)}else we[0]!="stop"&&we[0]!="close"||Ji(d,7);else d.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Ji(d,7):K3(d):we[0]!="noop"&&d.l&&d.l.ta(we),d.v=0)}}gr(4)}catch{}}var ry=class{constructor(a,u){this.g=a,this.map=u}};function c5(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function l5(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function h5(a){return a.h?1:a.g?a.g.size:0}function W3(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function X3(a,u){a.g?a.g.add(u):a.h=u}function u5(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}c5.prototype.cancel=function(){if(this.i=d5(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function d5(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let d of a.g.values())u=u.concat(d.D);return u}return P(a.i)}function oy(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],d=a.length,m=0;m<d;m++)u.push(a[m]);return u}u=[],d=0;for(m in a)u[d++]=a[m];return u}function ay(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var d=0;d<a;d++)u.push(d);return u}u=[],d=0;for(let m in a)u[d++]=m;return u}}}function f5(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var d=ay(a),m=oy(a),C=m.length,S=0;S<C;S++)u.call(void 0,m[S],d&&d[S],a)}var m5=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cy(a,u){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var m=a[d].indexOf("="),C=null;if(0<=m){var S=a[d].substring(0,m);C=a[d].substring(m+1)}else S=a[d];u(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Qi(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Qi){this.h=a.h,z4(this,a.j),this.o=a.o,this.g=a.g,E4(this,a.s),this.l=a.l;var u=a.i,d=new Tr;d.i=u.i,u.g&&(d.g=new Map(u.g),d.h=u.h),v5(this,d),this.m=a.m}else a&&(u=String(a).match(m5))?(this.h=!1,z4(this,u[1]||"",!0),this.o=zr(u[2]||""),this.g=zr(u[3]||"",!0),E4(this,u[4]),this.l=zr(u[5]||"",!0),v5(this,u[6]||"",!0),this.m=zr(u[7]||"")):(this.h=!1,this.i=new Tr(null,this.h))}Qi.prototype.toString=function(){var a=[],u=this.j;u&&a.push(Er(u,p5,!0),":");var d=this.g;return(d||u=="file")&&(a.push("//"),(u=this.o)&&a.push(Er(u,p5,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Er(d,d.charAt(0)=="/"?uy:hy,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Er(d,fy)),a.join("")};function Fn(a){return new Qi(a)}function z4(a,u,d){a.j=d?zr(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function E4(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function v5(a,u,d){u instanceof Tr?(a.i=u,my(a.i,a.h)):(d||(u=Er(u,dy)),a.i=new Tr(u,a.h))}function Oe(a,u,d){a.i.set(u,d)}function T4(a){return Oe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function zr(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Er(a,u,d){return typeof a=="string"?(a=encodeURI(a).replace(u,ly),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ly(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var p5=/[#\/\?@]/g,hy=/[#\?:]/g,uy=/[#\?]/g,dy=/[#\?@]/g,fy=/#/g;function Tr(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function di(a){a.g||(a.g=new Map,a.h=0,a.i&&cy(a.i,function(u,d){a.add(decodeURIComponent(u.replace(/\+/g," ")),d)}))}i=Tr.prototype,i.add=function(a,u){di(this),this.i=null,a=G1(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(u),this.h+=1,this};function g5(a,u){di(a),u=G1(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function y5(a,u){return di(a),u=G1(a,u),a.g.has(u)}i.forEach=function(a,u){di(this),this.g.forEach(function(d,m){d.forEach(function(C){a.call(u,C,m,this)},this)},this)},i.na=function(){di(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),d=[];for(let m=0;m<u.length;m++){let C=a[m];for(let S=0;S<C.length;S++)d.push(u[m])}return d},i.V=function(a){di(this);let u=[];if(typeof a=="string")y5(this,a)&&(u=u.concat(this.g.get(G1(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)u=u.concat(a[d])}return u},i.set=function(a,u){return di(this),this.i=null,a=G1(this,a),y5(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},i.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function b5(a,u,d){g5(a,u),0<d.length&&(a.i=null,a.g.set(G1(a,u),P(d)),a.h+=d.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var d=0;d<u.length;d++){var m=u[d];let S=encodeURIComponent(String(m)),k=this.V(m);for(m=0;m<k.length;m++){var C=S;k[m]!==""&&(C+="="+encodeURIComponent(String(k[m]))),a.push(C)}}return this.i=a.join("&")};function G1(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function my(a,u){u&&!a.j&&(di(a),a.i=null,a.g.forEach(function(d,m){var C=m.toLowerCase();m!=C&&(g5(this,m),b5(this,C,d))},a)),a.j=u}function vy(a,u){let d=new br;if(c.Image){let m=new Image;m.onload=I(fi,d,"TestLoadImage: loaded",!0,u,m),m.onerror=I(fi,d,"TestLoadImage: error",!1,u,m),m.onabort=I(fi,d,"TestLoadImage: abort",!1,u,m),m.ontimeout=I(fi,d,"TestLoadImage: timeout",!1,u,m),c.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else u(!1)}function py(a,u){let d=new br,m=new AbortController,C=setTimeout(()=>{m.abort(),fi(d,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:m.signal}).then(S=>{clearTimeout(C),S.ok?fi(d,"TestPingServer: ok",!0,u):fi(d,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(C),fi(d,"TestPingServer: error",!1,u)})}function fi(a,u,d,m,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),m(d)}catch{}}function gy(){this.g=new $g}function yy(a,u,d){let m=d||"";try{f5(a,function(C,S){let k=C;h(C)&&(k=D3(C)),u.push(m+S+"="+encodeURIComponent(k))})}catch(C){throw u.push(m+"type="+encodeURIComponent("_badmap")),C}}function Ir(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ir,k3),Ir.prototype.g=function(){return new I4(this.l,this.j)},Ir.prototype.i=function(a){return function(){return a}}({});function I4(a,u){bt.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(I4,bt),i=I4.prototype,i.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,Mr(this)},i.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},i.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Mr(this)),this.g&&(this.readyState=3,Mr(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;w5(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function w5(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}i.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?Cr(this):Mr(this),this.readyState==3&&w5(this)}},i.Ra=function(a){this.g&&(this.response=this.responseText=a,Cr(this))},i.Qa=function(a){this.g&&(this.response=a,Cr(this))},i.ga=function(){this.g&&Cr(this)};function Cr(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Mr(a)}i.setRequestHeader=function(a,u){this.u.append(a,u)},i.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var d=u.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=u.next();return a.join(`\r
`)};function Mr(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(I4.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function z5(a){let u="";return le(a,function(d,m){u+=m,u+=":",u+=d,u+=`\r
`}),u}function G3(a,u,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=z5(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Oe(a,u,d))}function We(a){bt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(We,bt);var by=/^https?$/i,wy=["POST","PUT"];i=We.prototype,i.Ha=function(a){this.J=a},i.ea=function(a,u,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():B3.g(),this.v=this.o?Yh(this.o):Yh(B3),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(S){E5(this,S);return}if(a=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var C in m)d.set(C,m[C]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())d.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(wy,u,void 0))||m||C||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of d)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{C5(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){E5(this,S)}};function E5(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,T5(a),C4(a)}function T5(a){a.A||(a.A=!0,Lt(a,"complete"),Lt(a,"error"))}i.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Lt(this,"complete"),Lt(this,"abort"),C4(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),C4(this,!0)),We.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?I5(this):this.bb())},i.bb=function(){I5(this)};function I5(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Bn(a)!=4||a.Z()!=2)){if(a.u&&Bn(a)==4)Xh(a.Ea,0,a);else if(Lt(a,"readystatechange"),Bn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var d;if(!(d=u)){var m;if(m=k===0){var C=String(a.D).match(m5)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),m=!by.test(C?C.toLowerCase():"")}d=m}if(d)Lt(a,"complete"),Lt(a,"success");else{a.m=6;try{var S=2<Bn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",T5(a)}}finally{C4(a)}}}}function C4(a,u){if(a.g){C5(a);let d=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||Lt(a,"ready");try{d.onreadystatechange=m}catch{}}}function C5(a){a.I&&(c.clearTimeout(a.I),a.I=null)}i.isActive=function(){return!!this.g};function Bn(a){return a.g?a.g.readyState:0}i.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),Jg(u)}};function M5(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function zy(a){let u={};a=(a.g&&2<=Bn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(J(a[m]))continue;var d=T(a[m]);let C=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();let S=u[C]||[];u[C]=S,S.push(d)}E(u,function(m){return m.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Sr(a,u,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||u}function S5(a){this.Aa=0,this.i=[],this.j=new br,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sr("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sr("baseRetryDelayMs",5e3,a),this.cb=Sr("retryDelaySeedMs",1e4,a),this.Wa=Sr("forwardChannelMaxRetries",2,a),this.wa=Sr("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new c5(a&&a.concurrentRequestLimit),this.Da=new gy,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=S5.prototype,i.la=8,i.G=1,i.connect=function(a,u,d,m){Nt(0),this.W=a,this.H=u||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.I=D5(this,null,this.W),S4(this)};function K3(a){if(V5(a),a.G==3){var u=a.U++,d=Fn(a.I);if(Oe(d,"SID",a.K),Oe(d,"RID",u),Oe(d,"TYPE","terminate"),Vr(a,d),u=new ui(a,a.j,u),u.L=2,u.v=T4(Fn(d)),d=!1,c.navigator&&c.navigator.sendBeacon)try{d=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!d&&c.Image&&(new Image().src=u.v,d=!0),d||(u.g=k5(u.j,null),u.g.ea(u.v)),u.F=Date.now(),w4(u)}P5(a)}function M4(a){a.g&&(Y3(a),a.g.cancel(),a.g=null)}function V5(a){M4(a),a.u&&(c.clearTimeout(a.u),a.u=null),V4(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function S4(a){if(!l5(a.h)&&!a.s){a.s=!0;var u=a.Ga;ur||Bh(),dr||(ur(),dr=!0),S3.add(u,a),a.B=0}}function Ey(a,u){return h5(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=yr(p(a.Ga,a,u),N5(a,a.B)),a.B++,!0)}i.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new ui(this,this.j,a),S=this.o;if(this.S&&(S?(S=g(S),z(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var u=0,d=0;d<this.i.length;d++){t:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(u+=m,4096<u){u=d;break e}if(u===4096||d===this.i.length-1){u=d+1;break e}}u=1e3}else u=1e3;u=R5(this,C,u),d=Fn(this.I),Oe(d,"RID",a),Oe(d,"CVER",22),this.D&&Oe(d,"X-HTTP-Session-Id",this.D),Vr(this,d),S&&(this.O?u="headers="+encodeURIComponent(String(z5(S)))+"&"+u:this.m&&G3(d,this.m,S)),X3(this.h,C),this.Ua&&Oe(d,"TYPE","init"),this.P?(Oe(d,"$req",u),Oe(d,"SID","null"),C.T=!0,j3(C,d,null)):j3(C,d,u),this.G=2}}else this.G==3&&(a?A5(this,a):this.i.length==0||l5(this.h)||A5(this))};function A5(a,u){var d;u?d=u.l:d=a.U++;let m=Fn(a.I);Oe(m,"SID",a.K),Oe(m,"RID",d),Oe(m,"AID",a.T),Vr(a,m),a.m&&a.o&&G3(m,a.m,a.o),d=new ui(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),u&&(a.i=u.D.concat(a.i)),u=R5(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),X3(a.h,d),j3(d,m,u)}function Vr(a,u){a.H&&le(a.H,function(d,m){Oe(u,m,d)}),a.l&&f5({},function(d,m){Oe(u,m,d)})}function R5(a,u,d){d=Math.min(a.i.length,d);var m=a.l?p(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let k=["count="+d];S==-1?0<d?(S=C[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let Ae=!0;for(let dt=0;dt<d;dt++){let we=C[dt].g,wt=C[dt].map;if(we-=S,0>we)S=Math.max(0,C[dt].g-100),Ae=!1;else try{yy(wt,k,"req"+we+"_")}catch{m&&m(wt)}}if(Ae){m=k.join("&");break e}}}return a=a.i.splice(0,d),u.D=a,m}function x5(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;ur||Bh(),dr||(ur(),dr=!0),S3.add(u,a),a.v=0}}function Z3(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=yr(p(a.Fa,a),N5(a,a.v)),a.v++,!0)}i.Fa=function(){if(this.u=null,O5(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=yr(p(this.ab,this),a)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Nt(10),M4(this),O5(this))};function Y3(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function O5(a){a.g=new ui(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=Fn(a.qa);Oe(u,"RID","rpc"),Oe(u,"SID",a.K),Oe(u,"AID",a.T),Oe(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&Oe(u,"TO",a.ja),Oe(u,"TYPE","xmlhttp"),Vr(a,u),a.m&&a.o&&G3(u,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=T4(Fn(u)),d.m=null,d.P=!0,r5(d,a)}i.Za=function(){this.C!=null&&(this.C=null,M4(this),Z3(this),Nt(19))};function V4(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function L5(a,u){var d=null;if(a.g==u){V4(a),Y3(a),a.g=null;var m=2}else if(W3(a.h,u))d=u.D,u5(a.h,u),m=1;else return;if(a.G!=0){if(u.o)if(m==1){d=u.m?u.m.length:0,u=Date.now()-u.F;var C=a.B;m=g4(),Lt(m,new t5(m,d)),S4(a)}else x5(a);else if(C=u.s,C==3||C==0&&0<u.X||!(m==1&&Ey(a,u)||m==2&&Z3(a)))switch(d&&0<d.length&&(u=a.h,u.i=u.i.concat(d)),C){case 1:Ji(a,5);break;case 4:Ji(a,10);break;case 3:Ji(a,6);break;default:Ji(a,2)}}}function N5(a,u){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*u}function Ji(a,u){if(a.j.info("Error code "+u),u==2){var d=p(a.fb,a),m=a.Xa;let C=!m;m=new Qi(m||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||z4(m,"https"),T4(m),C?vy(m.toString(),d):py(m.toString(),d)}else Nt(2);a.G=0,a.l&&a.l.sa(u),P5(a),V5(a)}i.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function P5(a){if(a.G=0,a.ka=[],a.l){let u=d5(a.h);(u.length!=0||a.i.length!=0)&&(R(a.ka,u),R(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function D5(a,u,d){var m=d instanceof Qi?Fn(d):new Qi(d);if(m.g!="")u&&(m.g=u+"."+m.g),E4(m,m.s);else{var C=c.location;m=C.protocol,u=u?u+"."+C.hostname:C.hostname,C=+C.port;var S=new Qi(null);m&&z4(S,m),u&&(S.g=u),C&&E4(S,C),d&&(S.l=d),m=S}return d=a.D,u=a.ya,d&&u&&Oe(m,d,u),Oe(m,"VER",a.la),Vr(a,m),m}function k5(a,u,d){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new We(new Ir({eb:d})):new We(a.pa),u.Ha(a.J),u}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function H5(){}i=H5.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function A4(){}A4.prototype.g=function(a,u){return new Wt(a,u)};function Wt(a,u){bt.call(this),this.g=new S5(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!J(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!J(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new K1(this)}A(Wt,bt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){K3(this.g)},Wt.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=D3(a),a=d);u.i.push(new ry(u.Ya++,a)),u.G==3&&S4(u)},Wt.prototype.N=function(){this.g.l=null,delete this.j,K3(this.g),delete this.g,Wt.aa.N.call(this)};function F5(a){H3.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(let d in u){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}A(F5,H3);function B5(){F3.call(this),this.status=1}A(B5,F3);function K1(a){this.g=a}A(K1,H5),K1.prototype.ua=function(){Lt(this.g,"a")},K1.prototype.ta=function(a){Lt(this.g,new F5(a))},K1.prototype.sa=function(a){Lt(this.g,new B5)},K1.prototype.ra=function(){Lt(this.g,"b")},A4.prototype.createWebChannel=A4.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,x8=ii.createWebChannelTransport=function(){return new A4},R8=ii.getStatEventTarget=function(){return g4()},A8=ii.Event=Zi,Da=ii.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},y4.NO_ERROR=0,y4.TIMEOUT=8,y4.HTTP_ERROR=6,jo=ii.ErrorCode=y4,n5.COMPLETE="complete",V8=ii.EventType=n5,Qh.EventType=pr,pr.OPEN="a",pr.CLOSE="b",pr.ERROR="c",pr.MESSAGE="d",bt.prototype.listen=bt.prototype.K,js=ii.WebChannel=Qh,CV=ii.FetchXmlHttpFactory=Ir,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,S8=ii.XhrIo=We}).apply(typeof Pa<"u"?Pa:typeof self<"u"?self:typeof window<"u"?window:{});var xv="@firebase/firestore";var ut=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ut.UNAUTHENTICATED=new ut(null),ut.GOOGLE_CREDENTIALS=new ut("google-credentials-uid"),ut.FIRST_PARTY=new ut("first-party-uid"),ut.MOCK_USER=new ut("mock-user");var ar="10.14.0";var D1=new Pi("@firebase/firestore");function Uo(){return D1.logLevel}function U(i,...e){if(D1.logLevel<=fe.DEBUG){let t=e.map(fh);D1.debug(`Firestore (${ar}): ${i}`,...t)}}function ri(i,...e){if(D1.logLevel<=fe.ERROR){let t=e.map(fh);D1.error(`Firestore (${ar}): ${i}`,...t)}}function Zs(i,...e){if(D1.logLevel<=fe.WARN){let t=e.map(fh);D1.warn(`Firestore (${ar}): ${i}`,...t)}}function fh(i){if(typeof i=="string")return i;try{return function(t){return JSON.stringify(t)}(i)}catch{return i}}function ee(i="Unexpected state"){let e=`FIRESTORE (${ar}) INTERNAL ASSERTION FAILED: `+i;throw ri(e),new Error(e)}function Me(i,e){i||ee()}function ie(i,e){return i}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},j=class extends Jt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var On=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var _a=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},D8=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ut.UNAUTHENTICATED))}shutdown(){}},k8=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},H8=class{constructor(e){this.t=e,this.currentUser=ut.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0);let n=this.i,s=l=>this.i!==n?(n=this.i,t(l)):Promise.resolve(),r=new On;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new On,e.enqueueRetryable(()=>s(this.currentUser))};let o=()=>{let l=r;e.enqueueRetryable(()=>w(this,null,function*(){yield l.promise,yield s(this.currentUser)}))},c=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new On)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Me(typeof n.accessToken=="string"),new _a(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new ut(e)}},F8=class{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ut.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},B8=class{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new F8(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ut.FIRST_PARTY))}shutdown(){}invalidateToken(){}},_8=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},j8=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Me(this.o===void 0);let n=r=>{r.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);let o=r.token!==this.R;return this.R=r.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>n(r))};let s=r=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(r=>s(r)),setTimeout(()=>{if(!this.appCheck){let r=this.A.getImmediate({optional:!0});r?s(r):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string"),this.R=t.token,new _8(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function MV(i){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<i;n++)t[n]=Math.floor(256*Math.random());return t}var ja=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";for(;n.length<20;){let s=MV(40);for(let r=0;r<s.length;++r)n.length<20&&s[r]<t&&(n+=e.charAt(s[r]%e.length))}return n}};function ze(i,e){return i<e?-1:i>e?1:0}function Ys(i,e,t){return i.length===e.length&&i.every((n,s)=>t(n,e[s]))}var gt=class i{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new j(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new j(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new j(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return i.fromMillis(Date.now())}static fromDate(e){return i.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new i(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class i{constructor(e){this.timestamp=e}static fromTimestamp(e){return new i(e)}static min(){return new i(new gt(0,0))}static max(){return new i(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ua=class i{constructor(e,t,n){t===void 0?t=0:t>e.length&&ee(),n===void 0?n=e.length-t:n>e.length-t&&ee(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return i.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof i?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let n=Math.min(e.length,t.length);for(let s=0;s<n;s++){let r=e.get(s),o=t.get(s);if(r<o)return-1;if(r>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},qe=class i extends Ua{construct(e,t,n){return new i(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let n of e){if(n.indexOf("//")>=0)throw new j(O.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(s=>s.length>0))}return new i(t)}static emptyPath(){return new i([])}},SV=/^[_a-zA-Z][_a-zA-Z0-9]*$/,$t=class i extends Ua{construct(e,t,n){return new i(e,t,n)}static isValidIdentifier(e){return SV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new i(["__name__"])}static fromServerFormat(e){let t=[],n="",s=0,r=()=>{if(n.length===0)throw new j(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""},o=!1;for(;s<e.length;){let c=e[s];if(c==="\\"){if(s+1===e.length)throw new j(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new j(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else c==="`"?(o=!o,s++):c!=="."||o?(n+=c,s++):(r(),s++)}if(r(),o)throw new j(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new i(t)}static emptyPath(){return new i([])}};var Q=class i{constructor(e){this.path=e}static fromPath(e){return new i(qe.fromString(e))}static fromName(e){return new i(qe.fromString(e).popFirst(5))}static empty(){return new i(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new i(new qe(e.slice()))}};var U8=class{constructor(e,t,n,s){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=s}};U8.UNKNOWN_ID=-1;function VV(i,e){let t=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,s=ae.fromTimestamp(n===1e9?new gt(t+1,0):new gt(t,n));return new k1(s,Q.empty(),e)}function AV(i){return new k1(i.readTime,i.key,-1)}var k1=class i{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new i(ae.min(),Q.empty(),-1)}static max(){return new i(ae.max(),Q.empty(),-1)}};function RV(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Q.comparator(i.documentKey,e.documentKey),t!==0?t:ze(i.largestBatchId,e.largestBatchId))}var xV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",q8=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function l4(i){return w(this,null,function*(){if(i.code!==O.FAILED_PRECONDITION||i.message!==xV)throw i;U("LocalStore","Unexpectedly lost primary lease")})}var D=class i{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new i((n,s)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(n,s)},this.catchCallback=r=>{this.wrapFailure(t,r).next(n,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof i?t:i.resolve(t)}catch(t){return i.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):i.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):i.reject(t)}static resolve(e){return new i((t,n)=>{t(e)})}static reject(e){return new i((t,n)=>{n(e)})}static waitFor(e){return new i((t,n)=>{let s=0,r=0,o=!1;e.forEach(c=>{++s,c.next(()=>{++r,o&&r===s&&t()},l=>n(l))}),o=!0,r===s&&t()})}static or(e){let t=i.resolve(!1);for(let n of e)t=t.next(s=>s?i.resolve(s):n());return t}static forEach(e,t){let n=[];return e.forEach((s,r)=>{n.push(t.call(this,s,r))}),this.waitFor(n)}static mapArray(e,t){return new i((n,s)=>{let r=e.length,o=new Array(r),c=0;for(let l=0;l<r;l++){let h=l;t(e[h]).next(f=>{o[h]=f,++c,c===r&&n(o)},f=>s(f))}})}static doWhile(e,t){return new i((n,s)=>{let r=()=>{e()===!0?t().next(()=>{r()},s):n()};r()})}};function OV(i){let e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function h4(i){return i.name==="IndexedDbTransactionError"}var dp=(()=>{class i{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return i.oe=-1,i})();function b3(i){return i==null}function Zo(i){return i===0&&1/i==-1/0}function LV(i){return typeof i=="number"&&Number.isInteger(i)&&!Zo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var NV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KF=[...NV,"documentOverlays"],PV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DV=PV,kV=[...DV,"indexConfiguration","indexState","indexEntries"];var ZF=[...kV,"globals"];function Ov(i){let e=0;for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function cr(i,e){for(let t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function fp(i){for(let e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}var Ze=class i{constructor(e,t){this.comparator=e,this.root=t||Ln.EMPTY}insert(e,t){return new i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let s=this.comparator(e,n.key);if(s===0)return t+n.left.size;s<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){let e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xs(this.root,e,this.comparator,!0)}},Xs=class{constructor(e,t,n,s){this.isReverse=s,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&s&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ln=class i{constructor(e,t,n,s,r){this.key=e,this.value=t,this.color=n??i.RED,this.left=s??i.EMPTY,this.right=r??i.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,s,r){return new i(e??this.key,t??this.value,n??this.color,s??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let s=this,r=n(e,s.key);return s=r<0?s.copy(null,null,null,s.left.insert(e,t,n),null):r===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return i.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,t,n,s,r){return this}insert(e,t,n){return new Ln(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var xt=class i{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new qa(this.data.getIterator())}getIteratorFrom(e){return new qa(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof i)||this.size!==e.size)return!1;let t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){let s=t.getNext().key,r=n.getNext().key;if(this.comparator(s,r)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new i(this.comparator);return t.data=e,t}},qa=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var xn=class i{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new i([])}unionWith(e){let t=new xt($t.comparator);for(let n of this.fields)t=t.add(n);for(let n of e)t=t.add(n);return new i(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(t,n)=>t.isEqual(n))}};var Wa=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ot=class i{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(s){try{return atob(s)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new Wa("Invalid base64 string: "+r):r}}(e);return new i(t)}static fromUint8Array(e){let t=function(s){let r="";for(let o=0;o<s.length;++o)r+=String.fromCharCode(s[o]);return r}(e);return new i(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let n=new Uint8Array(t.length);for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ot.EMPTY_BYTE_STRING=new Ot("");var HV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(i){if(Me(!!i),typeof i=="string"){let e=0,t=HV.exec(i);if(Me(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}let n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Fe(i.seconds),nanos:Fe(i.nanos)}}function Fe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wi(i){return typeof i=="string"?Ot.fromBase64String(i):Ot.fromUint8Array(i)}function mh(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function vh(i){let e=i.mapValue.fields.__previous_value__;return mh(e)?vh(e):e}function Yo(i){let e=oi(i.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}var W8=class{constructor(e,t,n,s,r,o,c,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=s,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h}},Xa=class i{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new i("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof i&&e.projectId===this.projectId&&e.database===this.database}};var ka={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function H1(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?mh(i)?4:vp(i)?9007199254740991:mp(i)?10:11:ee()}function kn(i,e){if(i===e)return!0;let t=H1(i);if(t!==H1(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Yo(i).isEqual(Yo(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;let o=oi(s.timestampValue),c=oi(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(s,r){return Wi(s.bytesValue).isEqual(Wi(r.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,r){return Fe(s.geoPointValue.latitude)===Fe(r.geoPointValue.latitude)&&Fe(s.geoPointValue.longitude)===Fe(r.geoPointValue.longitude)}(i,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Fe(s.integerValue)===Fe(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){let o=Fe(s.doubleValue),c=Fe(r.doubleValue);return o===c?Zo(o)===Zo(c):isNaN(o)&&isNaN(c)}return!1}(i,e);case 9:return Ys(i.arrayValue.values||[],e.arrayValue.values||[],kn);case 10:case 11:return function(s,r){let o=s.mapValue.fields||{},c=r.mapValue.fields||{};if(Ov(o)!==Ov(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!kn(o[l],c[l])))return!1;return!0}(i,e);default:return ee()}}function Qo(i,e){return(i.values||[]).find(t=>kn(t,e))!==void 0}function Qs(i,e){if(i===e)return 0;let t=H1(i),n=H1(e);if(t!==n)return ze(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(i.booleanValue,e.booleanValue);case 2:return function(r,o){let c=Fe(r.integerValue||r.doubleValue),l=Fe(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(i,e);case 3:return Lv(i.timestampValue,e.timestampValue);case 4:return Lv(Yo(i),Yo(e));case 5:return ze(i.stringValue,e.stringValue);case 6:return function(r,o){let c=Wi(r),l=Wi(o);return c.compareTo(l)}(i.bytesValue,e.bytesValue);case 7:return function(r,o){let c=r.split("/"),l=o.split("/");for(let h=0;h<c.length&&h<l.length;h++){let f=ze(c[h],l[h]);if(f!==0)return f}return ze(c.length,l.length)}(i.referenceValue,e.referenceValue);case 8:return function(r,o){let c=ze(Fe(r.latitude),Fe(o.latitude));return c!==0?c:ze(Fe(r.longitude),Fe(o.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return Nv(i.arrayValue,e.arrayValue);case 10:return function(r,o){var c,l,h,f;let v=r.fields||{},p=o.fields||{},I=(c=v.value)===null||c===void 0?void 0:c.arrayValue,A=(l=p.value)===null||l===void 0?void 0:l.arrayValue,P=ze(((h=I?.values)===null||h===void 0?void 0:h.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:Nv(I,A)}(i.mapValue,e.mapValue);case 11:return function(r,o){if(r===ka.mapValue&&o===ka.mapValue)return 0;if(r===ka.mapValue)return 1;if(o===ka.mapValue)return-1;let c=r.fields||{},l=Object.keys(c),h=o.fields||{},f=Object.keys(h);l.sort(),f.sort();for(let v=0;v<l.length&&v<f.length;++v){let p=ze(l[v],f[v]);if(p!==0)return p;let I=Qs(c[l[v]],h[f[v]]);if(I!==0)return I}return ze(l.length,f.length)}(i.mapValue,e.mapValue);default:throw ee()}}function Lv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ze(i,e);let t=oi(i),n=oi(e),s=ze(t.seconds,n.seconds);return s!==0?s:ze(t.nanos,n.nanos)}function Nv(i,e){let t=i.values||[],n=e.values||[];for(let s=0;s<t.length&&s<n.length;++s){let r=Qs(t[s],n[s]);if(r)return r}return ze(t.length,n.length)}function Js(i){return X8(i)}function X8(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){let n=oi(t);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Wi(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Q.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let n="[",s=!0;for(let r of t.values||[])s?s=!1:n+=",",n+=X8(r);return n+"]"}(i.arrayValue):"mapValue"in i?function(t){let n=Object.keys(t.fields||{}).sort(),s="{",r=!0;for(let o of n)r?r=!1:s+=",",s+=`${o}:${X8(t.fields[o])}`;return s+"}"}(i.mapValue):ee()}function Pv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function G8(i){return!!i&&"integerValue"in i}function ph(i){return!!i&&"arrayValue"in i}function Dv(i){return!!i&&"nullValue"in i}function kv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Fa(i){return!!i&&"mapValue"in i}function mp(i){var e,t;return((t=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Wo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){let e={mapValue:{fields:{}}};return cr(i.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Wo(n)),e}if(i.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wo(i.arrayValue.values[t]);return e}return Object.assign({},i)}function vp(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var mn=class i{constructor(e){this.value=e}static empty(){return new i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Fa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(t)}setAll(e){let t=$t.emptyPath(),n={},s=[];e.forEach((o,c)=>{if(!t.isImmediateParentOf(c)){let l=this.getFieldsMap(t);this.applyChanges(l,n,s),n={},s=[],t=c.popLast()}o?n[c.lastSegment()]=Wo(o):s.push(c.lastSegment())});let r=this.getFieldsMap(t);this.applyChanges(r,n,s)}delete(e){let t=this.field(e.popLast());Fa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=t.mapValue.fields[e.get(n)];Fa(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,n){cr(t,(s,r)=>e[s]=r);for(let s of n)delete e[s]}clone(){return new i(Wo(this.value))}};function pp(i){let e=[];return cr(i.fields,(t,n)=>{let s=new $t([t]);if(Fa(n)){let r=pp(n.mapValue).fields;if(r.length===0)e.push(s);else for(let o of r)e.push(s.child(o))}else e.push(s)}),new xn(e)}var vn=class i{constructor(e,t,n,s,r,o,c){this.key=e,this.documentType=t,this.version=n,this.readTime=s,this.createTime=r,this.data=o,this.documentState=c}static newInvalidDocument(e){return new i(e,0,ae.min(),ae.min(),ae.min(),mn.empty(),0)}static newFoundDocument(e,t,n,s){return new i(e,1,t,ae.min(),n,s,0)}static newNoDocument(e,t){return new i(e,2,t,ae.min(),ae.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new i(e,3,t,ae.min(),ae.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var $s=class{constructor(e,t){this.position=e,this.inclusive=t}};function Hv(i,e,t){let n=0;for(let s=0;s<i.position.length;s++){let r=e[s],o=i.position[s];if(r.field.isKeyField()?n=Q.comparator(Q.fromName(o.referenceValue),t.key):n=Qs(o,t.data.field(r.field)),r.dir==="desc"&&(n*=-1),n!==0)break}return n}function Fv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!kn(i.position[t],e.position[t]))return!1;return!0}var er=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function FV(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}var Ga=class{},it=class i extends Ga{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new Z8(e,t,n):t==="array-contains"?new J8(e,n):t==="in"?new $8(e,n):t==="not-in"?new el(e,n):t==="array-contains-any"?new tl(e,n):new i(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new Y8(e,n):new Q8(e,n)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Qs(t,this.value)):t!==null&&H1(this.value)===H1(t)&&this.matchesComparison(Qs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},pn=class i extends Ga{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new i(e,t)}matches(e){return gp(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function gp(i){return i.op==="and"}function yp(i){return BV(i)&&gp(i)}function BV(i){for(let e of i.filters)if(e instanceof pn)return!1;return!0}function K8(i){if(i instanceof it)return i.field.canonicalString()+i.op.toString()+Js(i.value);if(yp(i))return i.filters.map(e=>K8(e)).join(",");{let e=i.filters.map(t=>K8(t)).join(",");return`${i.op}(${e})`}}function bp(i,e){return i instanceof it?function(n,s){return s instanceof it&&n.op===s.op&&n.field.isEqual(s.field)&&kn(n.value,s.value)}(i,e):i instanceof pn?function(n,s){return s instanceof pn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,o,c)=>r&&bp(o,s.filters[c]),!0):!1}(i,e):void ee()}function wp(i){return i instanceof it?function(t){return`${t.field.canonicalString()} ${t.op} ${Js(t.value)}`}(i):i instanceof pn?function(t){return t.op.toString()+" {"+t.getFilters().map(wp).join(" ,")+"}"}(i):"Filter"}var Z8=class extends it{constructor(e,t,n){super(e,t,n),this.key=Q.fromName(n.referenceValue)}matches(e){let t=Q.comparator(e.key,this.key);return this.matchesComparison(t)}},Y8=class extends it{constructor(e,t){super(e,"in",t),this.keys=zp("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Q8=class extends it{constructor(e,t){super(e,"not-in",t),this.keys=zp("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function zp(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Q.fromName(n.referenceValue))}var J8=class extends it{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ph(t)&&Qo(t.arrayValue,this.value)}},$8=class extends it{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&Qo(this.value.arrayValue,t)}},el=class extends it{constructor(e,t){super(e,"not-in",t)}matches(e){if(Qo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!Qo(this.value.arrayValue,t)}},tl=class extends it{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ph(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>Qo(this.value.arrayValue,n))}};var nl=class{constructor(e,t=null,n=[],s=[],r=null,o=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=s,this.limit=r,this.startAt=o,this.endAt=c,this.ue=null}};function Bv(i,e=null,t=[],n=[],s=null,r=null,o=null){return new nl(i,e,t,n,s,r,o)}function gh(i){let e=ie(i);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>K8(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(r){return r.field.canonicalString()+r.dir}(n)).join(","),b3(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Js(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Js(n)).join(",")),e.ue=t}return e.ue}function yh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!FV(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!bp(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Fv(i.startAt,e.startAt)&&Fv(i.endAt,e.endAt)}function il(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}var F1=class{constructor(e,t=null,n=[],s=[],r=null,o="F",c=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=s,this.limit=r,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function _V(i,e,t,n,s,r,o,c){return new F1(i,e,t,n,s,r,o,c)}function bh(i){return new F1(i)}function _v(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Ep(i){return i.collectionGroup!==null}function Xo(i){let e=ie(i);if(e.ce===null){e.ce=[];let t=new Set;for(let r of e.explicitOrderBy)e.ce.push(r),t.add(r.field.canonicalString());let n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new xt($t.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new er(r,n))}),t.has($t.keyField().canonicalString())||e.ce.push(new er($t.keyField(),n))}return e.ce}function Nn(i){let e=ie(i);return e.le||(e.le=jV(e,Xo(i))),e.le}function jV(i,e){if(i.limitType==="F")return Bv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(s=>{let r=s.dir==="desc"?"asc":"desc";return new er(s.field,r)});let t=i.endAt?new $s(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new $s(i.startAt.position,i.startAt.inclusive):null;return Bv(i.path,i.collectionGroup,e,i.filters,i.limit,t,n)}}function sl(i,e){let t=i.filters.concat([e]);return new F1(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function rl(i,e,t){return new F1(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function w3(i,e){return yh(Nn(i),Nn(e))&&i.limitType===e.limitType}function Tp(i){return`${gh(Nn(i))}|lt:${i.limitType}`}function Us(i){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(s=>wp(s)).join(", ")}]`),b3(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Js(s)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Js(s)).join(",")),`Target(${n})`}(Nn(i))}; limitType=${i.limitType})`}function z3(i,e){return e.isFoundDocument()&&function(n,s){let r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Q.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(i,e)&&function(n,s){for(let r of Xo(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(i,e)&&function(n,s){for(let r of n.filters)if(!r.matches(s))return!1;return!0}(i,e)&&function(n,s){return!(n.startAt&&!function(o,c,l){let h=Hv(o,c,l);return o.inclusive?h<=0:h<0}(n.startAt,Xo(n),s)||n.endAt&&!function(o,c,l){let h=Hv(o,c,l);return o.inclusive?h>=0:h>0}(n.endAt,Xo(n),s))}(i,e)}function UV(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Ip(i){return(e,t)=>{let n=!1;for(let s of Xo(i)){let r=qV(s,e,t);if(r!==0)return r;n=n||s.field.isKeyField()}return 0}}function qV(i,e,t){let n=i.field.isKeyField()?Q.comparator(e.key,t.key):function(r,o,c){let l=o.data.field(r),h=c.data.field(r);return l!==null&&h!==null?Qs(l,h):ee()}(i.field,e,t);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return ee()}}var Xi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[s,r]of n)if(this.equalsFn(s,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return void(s[r]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[t]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){cr(this.inner,(t,n)=>{for(let[s,r]of n)e(s,r)})}isEmpty(){return fp(this.inner)}size(){return this.innerSize}};var WV=new Ze(Q.comparator);function ai(){return WV}var Cp=new Ze(Q.comparator);function qo(...i){let e=Cp;for(let t of i)e=e.insert(t.key,t);return e}function Mp(i){let e=Cp;return i.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function L1(){return Go()}function Sp(){return Go()}function Go(){return new Xi(i=>i.toString(),(i,e)=>i.isEqual(e))}var XV=new Ze(Q.comparator),GV=new xt(Q.comparator);function me(...i){let e=GV;for(let t of i)e=e.add(t);return e}var KV=new xt(ze);function ZV(){return KV}function wh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zo(e)?"-0":e}}function Vp(i){return{integerValue:""+i}}function YV(i,e){return LV(e)?Vp(e):wh(i,e)}var tr=class{constructor(){this._=void 0}};function QV(i,e,t){return i instanceof nr?function(s,r){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&mh(r)&&(r=vh(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):i instanceof B1?Rp(i,e):i instanceof _1?xp(i,e):function(s,r){let o=Ap(s,r),c=jv(o)+jv(s.Pe);return G8(o)&&G8(s.Pe)?Vp(c):wh(s.serializer,c)}(i,e)}function JV(i,e,t){return i instanceof B1?Rp(i,e):i instanceof _1?xp(i,e):t}function Ap(i,e){return i instanceof ir?function(n){return G8(n)||function(r){return!!r&&"doubleValue"in r}(n)}(e)?e:{integerValue:0}:null}var nr=class extends tr{},B1=class extends tr{constructor(e){super(),this.elements=e}};function Rp(i,e){let t=Op(e);for(let n of i.elements)t.some(s=>kn(s,n))||t.push(n);return{arrayValue:{values:t}}}var _1=class extends tr{constructor(e){super(),this.elements=e}};function xp(i,e){let t=Op(e);for(let n of i.elements)t=t.filter(s=>!kn(s,n));return{arrayValue:{values:t}}}var ir=class extends tr{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function jv(i){return Fe(i.integerValue||i.doubleValue)}function Op(i){return ph(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function $V(i,e){return i.field.isEqual(e.field)&&function(n,s){return n instanceof B1&&s instanceof B1||n instanceof _1&&s instanceof _1?Ys(n.elements,s.elements,kn):n instanceof ir&&s instanceof ir?kn(n.Pe,s.Pe):n instanceof nr&&s instanceof nr}(i.transform,e.transform)}var ol=class{constructor(e,t){this.version=e,this.transformResults=t}},si=class i{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new i}static exists(e){return new i(void 0,e)}static updateTime(e){return new i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ba(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}var sr=class{};function Lp(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Jo(i.key,si.none()):new j1(i.key,i.data,si.none());{let t=i.data,n=mn.empty(),s=new xt($t.comparator);for(let r of e.fields)if(!s.has(r)){let o=t.field(r);o===null&&r.length>1&&(r=r.popLast(),o=t.field(r)),o===null?n.delete(r):n.set(r,o),s=s.add(r)}return new ci(i.key,n,new xn(s.toArray()),si.none())}}function eA(i,e,t){i instanceof j1?function(s,r,o){let c=s.value.clone(),l=qv(s.fieldTransforms,r,o.transformResults);c.setAll(l),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(i,e,t):i instanceof ci?function(s,r,o){if(!Ba(s.precondition,r))return void r.convertToUnknownDocument(o.version);let c=qv(s.fieldTransforms,r,o.transformResults),l=r.data;l.setAll(Np(s)),l.setAll(c),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(i,e,t):function(s,r,o){r.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function Ko(i,e,t,n){return i instanceof j1?function(r,o,c,l){if(!Ba(r.precondition,o))return c;let h=r.value.clone(),f=Wv(r.fieldTransforms,l,o);return h.setAll(f),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(i,e,t,n):i instanceof ci?function(r,o,c,l){if(!Ba(r.precondition,o))return c;let h=Wv(r.fieldTransforms,l,o),f=o.data;return f.setAll(Np(r)),f.setAll(h),o.convertToFoundDocument(o.version,f).setHasLocalMutations(),c===null?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(v=>v.field))}(i,e,t,n):function(r,o,c){return Ba(r.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(i,e,t)}function tA(i,e){let t=null;for(let n of i.fieldTransforms){let s=e.data.field(n.field),r=Ap(n.transform,s||null);r!=null&&(t===null&&(t=mn.empty()),t.set(n.field,r))}return t||null}function Uv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Ys(n,s,(r,o)=>$V(r,o))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}var j1=class extends sr{constructor(e,t,n,s=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}},ci=class extends sr{constructor(e,t,n,s,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=s,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}};function Np(i){let e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let n=i.data.field(t);e.set(t,n)}}),e}function qv(i,e,t){let n=new Map;Me(i.length===t.length);for(let s=0;s<t.length;s++){let r=i[s],o=r.transform,c=e.data.field(r.field);n.set(r.field,JV(o,c,t[s]))}return n}function Wv(i,e,t){let n=new Map;for(let s of i){let r=s.transform,o=t.data.field(s.field);n.set(s.field,QV(r,o,e))}return n}var Jo=class extends sr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},al=class extends sr{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var cl=class{constructor(e,t,n,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let s=0;s<this.mutations.length;s++){let r=this.mutations[s];r.key.isEqual(e.key)&&eA(r,e,n[s])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ko(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=Ko(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Sp();return this.mutations.forEach(s=>{let r=e.get(s.key),o=r.overlayedDocument,c=this.applyToLocalView(o,r.mutatedFields);c=t.has(s.key)?null:c;let l=Lp(o,c);l!==null&&n.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(t,n)=>Uv(t,n))&&Ys(this.baseMutations,e.baseMutations,(t,n)=>Uv(t,n))}},ll=class i{constructor(e,t,n,s){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=s}static from(e,t,n){Me(e.mutations.length===n.length);let s=function(){return XV}(),r=e.mutations;for(let o=0;o<r.length;o++)s=s.insert(r[o].key,n[o].version);return new i(e,t,n,s)}};var hl=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var ul=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var tt,be;function nA(i){switch(i){default:return ee();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function Pp(i){if(i===void 0)return ri("GRPC error has no .code"),O.UNKNOWN;switch(i){case tt.OK:return O.OK;case tt.CANCELLED:return O.CANCELLED;case tt.UNKNOWN:return O.UNKNOWN;case tt.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case tt.INTERNAL:return O.INTERNAL;case tt.UNAVAILABLE:return O.UNAVAILABLE;case tt.UNAUTHENTICATED:return O.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case tt.NOT_FOUND:return O.NOT_FOUND;case tt.ALREADY_EXISTS:return O.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return O.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case tt.ABORTED:return O.ABORTED;case tt.OUT_OF_RANGE:return O.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return O.UNIMPLEMENTED;case tt.DATA_LOSS:return O.DATA_LOSS;default:return ee()}}(be=tt||(tt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var Xv=null;function iA(){return new TextEncoder}var sA=new Ui([4294967295,4294967295],0);function Gv(i){let e=iA().encode(i),t=new M8;return t.update(e),new Uint8Array(t.digest())}function Kv(i){let e=new DataView(i.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Ui([t,n],0),new Ui([s,r],0)]}var dl=class i{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new N1(`Invalid padding: ${t}`);if(n<0)throw new N1(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new N1(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new N1(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ui.fromNumber(this.Ie)}Ee(e,t,n){let s=e.add(t.multiply(Ui.fromNumber(n)));return s.compare(sA)===1&&(s=new Ui([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=Gv(e),[n,s]=Kv(t);for(let r=0;r<this.hashCount;r++){let o=this.Ee(n,s,r);if(!this.de(o))return!1}return!0}static create(e,t,n){let s=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new i(r,s,t);return n.forEach(c=>o.insert(c)),o}insert(e){if(this.Ie===0)return;let t=Gv(e),[n,s]=Kv(t);for(let r=0;r<this.hashCount;r++){let o=this.Ee(n,s,r);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},N1=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Ka=class i{constructor(e,t,n,s,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){let s=new Map;return s.set(e,$o.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new i(ae.min(),s,new Ze(ze),ai(),me())}},$o=class i{constructor(e,t,n,s,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new i(n,t,me(),me(),me())}};var Gs=class{constructor(e,t,n,s){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=s}},Za=class{constructor(e,t){this.targetId=e,this.me=t}},Ya=class{constructor(e,t,n=Ot.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=s}},Qa=class{constructor(){this.fe=0,this.ge=Yv(),this.pe=Ot.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),t=me(),n=me();return this.ge.forEach((s,r)=>{switch(r){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:n=n.add(s);break;default:ee()}}),new $o(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Yv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},fl=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=Zv(),this.Qe=new Ze(ze)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,s)=>{this.ze(s)&&t(s)})}He(e){let t=e.targetId,n=e.me.count,s=this.Je(t);if(s){let r=s.target;if(il(r))if(n===0){let o=new Q(r.path);this.Ue(t,o,vn.newNoDocument(o,ae.min()))}else Me(n===1);else{let o=this.Ye(t);if(o!==n){let c=this.Ze(e),l=c?this.Xe(c,e,o):1;if(l!==0){this.je(t);let h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,h)}Xv?.et(function(f,v,p,I,A){var P,R,B,J,te,se;let Ye={localCacheCount:f,existenceFilterCount:v.count,databaseId:p.database,projectId:p.projectId},le=v.unchangedNames;return le&&(Ye.bloomFilter={applied:A===0,hashCount:(P=le?.hashCount)!==null&&P!==void 0?P:0,bitmapLength:(J=(B=(R=le?.bits)===null||R===void 0?void 0:R.bitmap)===null||B===void 0?void 0:B.length)!==null&&J!==void 0?J:0,padding:(se=(te=le?.bits)===null||te===void 0?void 0:te.padding)!==null&&se!==void 0?se:0,mightContain:E=>{var g;return(g=I?.mightContain(E))!==null&&g!==void 0&&g}}),Ye}(o,e.me,this.Le.tt(),c,l))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n="",padding:s=0},hashCount:r=0}=t,o,c;try{o=Wi(n).toUint8Array()}catch(l){if(l instanceof Wa)return Zs("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new dl(o,s,r)}catch(l){return Zs(l instanceof N1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){let n=this.Le.getRemoteKeysForTarget(t),s=0;return n.forEach(r=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;e.mightContain(c)||(this.Ue(t,r,null),s++)}),s}rt(e){let t=new Map;this.Be.forEach((r,o)=>{let c=this.Je(o);if(c){if(r.current&&il(c.target)){let l=new Q(c.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,vn.newNoDocument(l,e))}r.be&&(t.set(o,r.ve()),r.Ce())}});let n=me();this.qe.forEach((r,o)=>{let c=!0;o.forEachWhile(l=>{let h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(r))}),this.ke.forEach((r,o)=>o.setReadTime(e));let s=new Ka(e,t,this.Qe,this.ke,n);return this.ke=ai(),this.qe=Zv(),this.Qe=new Ze(ze),s}$e(e,t){if(!this.ze(e))return;let n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;let s=this.Ge(e);this.it(e,t)?s.Fe(t,1):s.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Qa,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new xt(ze),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||U("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qa),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function Zv(){return new Ze(Q.comparator)}function Yv(){return new Ze(Q.comparator)}var rA={asc:"ASCENDING",desc:"DESCENDING"},oA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aA={and:"AND",or:"OR"},ml=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function vl(i,e){return i.useProto3Json||b3(e)?e:{value:e}}function Ja(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Dp(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function cA(i,e){return Ja(i,e.toTimestamp())}function Pn(i){return Me(!!i),ae.fromTimestamp(function(t){let n=oi(t);return new gt(n.seconds,n.nanos)}(i))}function zh(i,e){return pl(i,e).canonicalString()}function pl(i,e){let t=function(s){return new qe(["projects",s.projectId,"databases",s.database])}(i).child("documents");return e===void 0?t:t.child(e)}function kp(i){let e=qe.fromString(i);return Me(jp(e)),e}function gl(i,e){return zh(i.databaseId,e.path)}function O8(i,e){let t=kp(e);if(t.get(1)!==i.databaseId.projectId)throw new j(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new j(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Q(Fp(t))}function Hp(i,e){return zh(i.databaseId,e)}function lA(i){let e=kp(i);return e.length===4?qe.emptyPath():Fp(e)}function yl(i){return new qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Fp(i){return Me(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Qv(i,e,t){return{name:gl(i,e),fields:t.value.mapValue.fields}}function hA(i,e){let t;if("targetChange"in e){e.targetChange;let n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],r=function(h,f){return h.useProto3Json?(Me(f===void 0||typeof f=="string"),Ot.fromBase64String(f||"")):(Me(f===void 0||f instanceof Buffer||f instanceof Uint8Array),Ot.fromUint8Array(f||new Uint8Array))}(i,e.targetChange.resumeToken),o=e.targetChange.cause,c=o&&function(h){let f=h.code===void 0?O.UNKNOWN:Pp(h.code);return new j(f,h.message||"")}(o);t=new Ya(n,s,r,c||null)}else if("documentChange"in e){e.documentChange;let n=e.documentChange;n.document,n.document.name,n.document.updateTime;let s=O8(i,n.document.name),r=Pn(n.document.updateTime),o=n.document.createTime?Pn(n.document.createTime):ae.min(),c=new mn({mapValue:{fields:n.document.fields}}),l=vn.newFoundDocument(s,r,o,c),h=n.targetIds||[],f=n.removedTargetIds||[];t=new Gs(h,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;let n=e.documentDelete;n.document;let s=O8(i,n.document),r=n.readTime?Pn(n.readTime):ae.min(),o=vn.newNoDocument(s,r),c=n.removedTargetIds||[];t=new Gs([],c,o.key,o)}else if("documentRemove"in e){e.documentRemove;let n=e.documentRemove;n.document;let s=O8(i,n.document),r=n.removedTargetIds||[];t=new Gs([],r,s,null)}else{if(!("filter"in e))return ee();{e.filter;let n=e.filter;n.targetId;let{count:s=0,unchangedNames:r}=n,o=new ul(s,r),c=n.targetId;t=new Za(c,o)}}return t}function uA(i,e){let t;if(e instanceof j1)t={update:Qv(i,e.key,e.value)};else if(e instanceof Jo)t={delete:gl(i,e.key)};else if(e instanceof ci)t={update:Qv(i,e.key,e.data),updateMask:wA(e.fieldMask)};else{if(!(e instanceof al))return ee();t={verify:gl(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(r,o){let c=o.transform;if(c instanceof nr)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof B1)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof _1)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ir)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw ee()}(0,n))),e.precondition.isNone||(t.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:cA(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ee()}(i,e.precondition)),t}function dA(i,e){return i&&i.length>0?(Me(e!==void 0),i.map(t=>function(s,r){let o=s.updateTime?Pn(s.updateTime):Pn(r);return o.isEqual(ae.min())&&(o=Pn(r)),new ol(o,s.transformResults||[])}(t,e))):[]}function fA(i,e){return{documents:[Hp(i,e.path)]}}function mA(i,e){let t={structuredQuery:{}},n=e.path,s;e.collectionGroup!==null?(s=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=Hp(i,s);let r=function(h){if(h.length!==0)return _p(pn.create(h,"and"))}(e.filters);r&&(t.structuredQuery.where=r);let o=function(h){if(h.length!==0)return h.map(f=>function(p){return{field:qs(p.field),direction:gA(p.dir)}}(f))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let c=vl(i,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:t,parent:s}}function vA(i){let e=lA(i.parent),t=i.structuredQuery,n=t.from?t.from.length:0,s=null;if(n>0){Me(n===1);let f=t.from[0];f.allDescendants?s=f.collectionId:e=e.child(f.collectionId)}let r=[];t.where&&(r=function(v){let p=Bp(v);return p instanceof pn&&yp(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=function(v){return v.map(p=>function(A){return new er(Ws(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(p))}(t.orderBy));let c=null;t.limit&&(c=function(v){let p;return p=typeof v=="object"?v.value:v,b3(p)?null:p}(t.limit));let l=null;t.startAt&&(l=function(v){let p=!!v.before,I=v.values||[];return new $s(I,p)}(t.startAt));let h=null;return t.endAt&&(h=function(v){let p=!v.before,I=v.values||[];return new $s(I,p)}(t.endAt)),_V(e,s,o,r,c,"F",l,h)}function pA(i,e){let t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Bp(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let n=Ws(t.unaryFilter.field);return it.create(n,"==",{doubleValue:NaN});case"IS_NULL":let s=Ws(t.unaryFilter.field);return it.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let r=Ws(t.unaryFilter.field);return it.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ws(t.unaryFilter.field);return it.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(i):i.fieldFilter!==void 0?function(t){return it.create(Ws(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return pn.create(t.compositeFilter.filters.map(n=>Bp(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return ee()}}(t.compositeFilter.op))}(i):ee()}function gA(i){return rA[i]}function yA(i){return oA[i]}function bA(i){return aA[i]}function qs(i){return{fieldPath:i.canonicalString()}}function Ws(i){return $t.fromServerFormat(i.fieldPath)}function _p(i){return i instanceof it?function(t){if(t.op==="=="){if(kv(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NAN"}};if(Dv(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(kv(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NAN"}};if(Dv(t.value))return{unaryFilter:{field:qs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qs(t.field),op:yA(t.op),value:t.value}}}(i):i instanceof pn?function(t){let n=t.getFilters().map(s=>_p(s));return n.length===1?n[0]:{compositeFilter:{op:bA(t.op),filters:n}}}(i):ee()}function wA(i){let e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jp(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}var e4=class i{constructor(e,t,n,s,r=ae.min(),o=ae.min(),c=Ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(e){return new i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var bl=class{constructor(e){this.ct=e}};function zA(i){let e=vA({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?rl(e,e.limit,"L"):e}var $a=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Fe(e.integerValue));else if("doubleValue"in e){let n=Fe(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Zo(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),typeof n=="string"&&(n=oi(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Wi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?vp(e)?this.dt(t,Number.MAX_SAFE_INTEGER):mp(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ee()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let n=e.fields||{};this.dt(t,55);for(let s of Object.keys(n))this.Vt(s,t),this.Tt(n[s],t)}wt(e,t){var n,s;let r=e.fields||{};this.dt(t,53);let o="value",c=((s=(n=r[o].arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.length)||0;this.dt(t,15),t.At(Fe(c)),this.Vt(o,t),this.Tt(r[o],t)}bt(e,t){let n=e.values||[];this.dt(t,50);for(let s of n)this.Tt(s,t)}yt(e,t){this.dt(t,37),Q.fromName(e).path.forEach(n=>{this.dt(t,60),this.Dt(n,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};$a.vt=new $a;var wl=class{constructor(){this.un=new zl}addToCollectionParentIndex(e,t){return this.un.add(t),D.resolve()}getCollectionParents(e,t){return D.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return D.resolve()}deleteFieldIndex(e,t){return D.resolve()}deleteAllFieldIndexes(e){return D.resolve()}createTargetIndexes(e,t){return D.resolve()}getDocumentsMatchingTarget(e,t){return D.resolve(null)}getIndexType(e,t){return D.resolve(0)}getFieldIndexes(e,t){return D.resolve([])}getNextCollectionGroupToUpdate(e){return D.resolve(null)}getMinOffset(e,t){return D.resolve(k1.min())}getMinOffsetFromCollectionGroup(e,t){return D.resolve(k1.min())}updateCollectionGroup(e,t,n){return D.resolve()}updateIndexEntries(e,t){return D.resolve()}},zl=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),s=this.index[t]||new xt(qe.comparator),r=!s.has(n);return this.index[t]=s.add(n),r}has(e){let t=e.lastSegment(),n=e.popLast(),s=this.index[t];return s&&s.has(n)}getEntries(e){return(this.index[e]||new xt(qe.comparator)).toArray()}};var QF=new Uint8Array(0);var Rn=class i{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new i(e,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(41943040,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);var t4=class i{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new i(0)}static kn(){return new i(-1)}};var El=class{constructor(){this.changes=new Xi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n!==void 0?D.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Tl=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Il=class{constructor(e,t,n,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(n!==null&&Ko(n.mutation,s,xn.empty(),gt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,me()).next(()=>n))}getLocalViewOfDocuments(e,t,n=me()){let s=L1();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,n).next(r=>{let o=qo();return r.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let n=L1();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,me()))}populateOverlays(e,t,n){let s=[];return n.forEach(r=>{t.has(r)||s.push(r)}),this.documentOverlayCache.getOverlays(e,s).next(r=>{r.forEach((o,c)=>{t.set(o,c)})})}computeViews(e,t,n,s){let r=ai(),o=Go(),c=function(){return Go()}();return t.forEach((l,h)=>{let f=n.get(h.key);s.has(h.key)&&(f===void 0||f.mutation instanceof ci)?r=r.insert(h.key,h):f!==void 0?(o.set(h.key,f.mutation.getFieldMask()),Ko(f.mutation,h,f.mutation.getFieldMask(),gt.now())):o.set(h.key,xn.empty())}),this.recalculateAndSaveOverlays(e,r).next(l=>(l.forEach((h,f)=>o.set(h,f)),t.forEach((h,f)=>{var v;return c.set(h,new Tl(f,(v=o.get(h))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){let n=Go(),s=new Ze((o,c)=>o-c),r=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let c of o)c.keys().forEach(l=>{let h=t.get(l);if(h===null)return;let f=n.get(l)||xn.empty();f=c.applyToLocalView(h,f),n.set(l,f);let v=(s.get(c.batchId)||me()).add(l);s=s.insert(c.batchId,v)})}).next(()=>{let o=[],c=s.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),h=l.key,f=l.value,v=Sp();f.forEach(p=>{if(!r.has(p)){let I=Lp(t.get(p),n.get(p));I!==null&&v.set(p,I),r=r.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,v))}return D.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,s){return function(o){return Q.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ep(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,s):this.getDocumentsMatchingCollectionQuery(e,t,n,s)}getNextDocuments(e,t,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,s).next(r=>{let o=s-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,s-r.size):D.resolve(L1()),c=-1,l=r;return o.next(h=>D.forEach(h,(f,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),r.get(f)?D.resolve():this.remoteDocumentCache.getEntry(e,f).next(p=>{l=l.insert(f,p)}))).next(()=>this.populateOverlays(e,h,r)).next(()=>this.computeViews(e,l,h,me())).next(f=>({batchId:c,changes:Mp(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Q(t)).next(n=>{let s=qo();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,n,s){let r=t.collectionGroup,o=qo();return this.indexManager.getCollectionParents(e,r).next(c=>D.forEach(c,l=>{let h=function(v,p){return new F1(p,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,l.child(r));return this.getDocumentsMatchingCollectionQuery(e,h,n,s).next(f=>{f.forEach((v,p)=>{o=o.insert(v,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,n,s){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,s))).next(o=>{r.forEach((l,h)=>{let f=h.getKey();o.get(f)===null&&(o=o.insert(f,vn.newInvalidDocument(f)))});let c=qo();return o.forEach((l,h)=>{let f=r.get(l);f!==void 0&&Ko(f.mutation,h,xn.empty(),gt.now()),z3(t,h)&&(c=c.insert(l,h))}),c})}};var Cl=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return D.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Pn(s.createTime)}}(t)),D.resolve()}getNamedQuery(e,t){return D.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(s){return{name:s.name,query:zA(s.bundledQuery),readTime:Pn(s.readTime)}}(t)),D.resolve()}};var Ml=class{constructor(){this.overlays=new Ze(Q.comparator),this.Ir=new Map}getOverlay(e,t){return D.resolve(this.overlays.get(t))}getOverlays(e,t){let n=L1();return D.forEach(t,s=>this.getOverlay(e,s).next(r=>{r!==null&&n.set(s,r)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((s,r)=>{this.ht(e,t,r)}),D.resolve()}removeOverlaysForBatchId(e,t,n){let s=this.Ir.get(n);return s!==void 0&&(s.forEach(r=>this.overlays=this.overlays.remove(r)),this.Ir.delete(n)),D.resolve()}getOverlaysForCollection(e,t,n){let s=L1(),r=t.length+1,o=new Q(t.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,h=l.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===r&&l.largestBatchId>n&&s.set(l.getKey(),l)}return D.resolve(s)}getOverlaysForCollectionGroup(e,t,n,s){let r=new Ze((h,f)=>h-f),o=this.overlays.getIterator();for(;o.hasNext();){let h=o.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>n){let f=r.get(h.largestBatchId);f===null&&(f=L1(),r=r.insert(h.largestBatchId,f)),f.set(h.getKey(),h)}}let c=L1(),l=r.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,f)=>c.set(h,f)),!(c.size()>=s)););return D.resolve(c)}ht(e,t,n){let s=this.overlays.get(n.key);if(s!==null){let o=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new hl(t,n));let r=this.Ir.get(t);r===void 0&&(r=me(),this.Ir.set(t,r)),this.Ir.set(t,r.add(n.key))}};var Sl=class{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return D.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,D.resolve()}};var n4=class{constructor(){this.Tr=new xt(nt.Er),this.dr=new xt(nt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let n=new nt(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Vr(new nt(e,t))}mr(e,t){e.forEach(n=>this.removeReference(n,t))}gr(e){let t=new Q(new qe([])),n=new nt(t,e),s=new nt(t,e+1),r=[];return this.dr.forEachInRange([n,s],o=>{this.Vr(o),r.push(o.key)}),r}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Q(new qe([])),n=new nt(t,e),s=new nt(t,e+1),r=me();return this.dr.forEachInRange([n,s],o=>{r=r.add(o.key)}),r}containsKey(e){let t=new nt(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},nt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Q.comparator(e.key,t.key)||ze(e.wr,t.wr)}static Ar(e,t){return ze(e.wr,t.wr)||Q.comparator(e.key,t.key)}};var Vl=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new xt(nt.Er)}checkEmpty(e){return D.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,s){let r=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new cl(r,t,n,s);this.mutationQueue.push(o);for(let c of s)this.br=this.br.add(new nt(c.key,r)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return D.resolve(o)}lookupMutationBatch(e,t){return D.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,s=this.vr(n),r=s<0?0:s;return D.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return D.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return D.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new nt(t,0),s=new nt(t,Number.POSITIVE_INFINITY),r=[];return this.br.forEachInRange([n,s],o=>{let c=this.Dr(o.wr);r.push(c)}),D.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xt(ze);return t.forEach(s=>{let r=new nt(s,0),o=new nt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([r,o],c=>{n=n.add(c.wr)})}),D.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,s=n.length+1,r=n;Q.isDocumentKey(r)||(r=r.child(""));let o=new nt(new Q(r),0),c=new xt(ze);return this.br.forEachWhile(l=>{let h=l.key.path;return!!n.isPrefixOf(h)&&(h.length===s&&(c=c.add(l.wr)),!0)},o),D.resolve(this.Cr(c))}Cr(e){let t=[];return e.forEach(n=>{let s=this.Dr(n);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Me(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return D.forEach(t.mutations,s=>{let r=new nt(s.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){let n=new nt(t,0),s=this.br.firstAfterOrEqual(n);return D.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,D.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var Al=class{constructor(e){this.Mr=e,this.docs=function(){return new Ze(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,s=this.docs.get(n),r=s?s.size:0,o=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return D.resolve(n?n.document.mutableCopy():vn.newInvalidDocument(t))}getEntries(e,t){let n=ai();return t.forEach(s=>{let r=this.docs.get(s);n=n.insert(s,r?r.document.mutableCopy():vn.newInvalidDocument(s))}),D.resolve(n)}getDocumentsMatchingQuery(e,t,n,s){let r=ai(),o=t.path,c=new Q(o.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:h,value:{document:f}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||RV(AV(f),n)<=0||(s.has(f.key)||z3(t,f))&&(r=r.insert(f.key,f.mutableCopy()))}return D.resolve(r)}getAllFromCollectionGroup(e,t,n,s){ee()}Or(e,t){return D.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new Rl(this)}getSize(e){return D.resolve(this.size)}},Rl=class extends El{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?t.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),D.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var xl=class{constructor(e){this.persistence=e,this.Nr=new Xi(t=>gh(t),yh),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new n4,this.targetCount=0,this.kr=t4.Bn()}forEachTarget(e,t){return this.Nr.forEach((n,s)=>t(s)),D.resolve()}getLastRemoteSnapshotVersion(e){return D.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return D.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),D.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),D.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new t4(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,D.resolve()}updateTargetData(e,t){return this.Kn(t),D.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,D.resolve()}removeTargets(e,t,n){let s=0,r=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=t&&n.get(c.targetId)===null&&(this.Nr.delete(o),r.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),D.waitFor(r).next(()=>s)}getTargetCount(e){return D.resolve(this.targetCount)}getTargetData(e,t){let n=this.Nr.get(t)||null;return D.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),D.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);let s=this.persistence.referenceDelegate,r=[];return s&&t.forEach(o=>{r.push(s.markPotentiallyOrphaned(e,o))}),D.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),D.resolve()}getMatchingKeysForTargetId(e,t){let n=this.Br.yr(t);return D.resolve(n)}containsKey(e,t){return D.resolve(this.Br.containsKey(t))}};var Ol=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new dp(0),this.Kr=!1,this.Kr=!0,this.$r=new Sl,this.referenceDelegate=e(this),this.Ur=new xl(this),this.indexManager=new wl,this.remoteDocumentCache=function(s){return new Al(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new bl(t),this.Gr=new Cl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ml,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Vl(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){U("MemoryPersistence","Starting transaction:",e);let s=new Ll(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(r=>this.referenceDelegate.jr(s).next(()=>r)).toPromise().then(r=>(s.raiseOnCommittedEvent(),r))}Hr(e,t){return D.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}},Ll=class extends q8{constructor(e){super(),this.currentSequenceNumber=e}},Nl=class i{constructor(e){this.persistence=e,this.Jr=new n4,this.Yr=null}static Zr(e){return new i(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),D.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),D.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),D.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(s=>this.Xr.add(s.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(r=>this.Xr.add(r.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return D.forEach(this.Xr,n=>{let s=Q.fromPath(n);return this.ei(e,s).next(r=>{r||t.removeEntry(s,ae.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return D.or([()=>D.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Pl=class i{constructor(e,t,n,s){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=s}static Wi(e,t){let n=me(),s=me();for(let r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:s=s.add(r.doc.key)}return new i(e,t.fromCache,n,s)}};var Dl=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var kl=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return fm()?8:OV(lt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,s){let r={result:null};return this.Yi(e,t).next(o=>{r.result=o}).next(()=>{if(!r.result)return this.Zi(e,t,s,n).next(o=>{r.result=o})}).next(()=>{if(r.result)return;let o=new Dl;return this.Xi(e,t,o).next(c=>{if(r.result=c,this.zi)return this.es(e,t,o,c.size)})}).next(()=>r.result)}es(e,t,n,s){return n.documentReadCount<this.ji?(Uo()<=fe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Us(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),D.resolve()):(Uo()<=fe.DEBUG&&U("QueryEngine","Query:",Us(t),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Uo()<=fe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Us(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(t))):D.resolve())}Yi(e,t){if(_v(t))return D.resolve(null);let n=Nn(t);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=rl(t,null,"F"),n=Nn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{let o=me(...r);return this.Ji.getDocuments(e,o).next(c=>this.indexManager.getMinOffset(e,n).next(l=>{let h=this.ts(t,c);return this.ns(t,h,o,l.readTime)?this.Yi(e,rl(t,null,"F")):this.rs(e,h,t,l)}))})))}Zi(e,t,n,s){return _v(t)||s.isEqual(ae.min())?D.resolve(null):this.Ji.getDocuments(e,n).next(r=>{let o=this.ts(t,r);return this.ns(t,o,n,s)?D.resolve(null):(Uo()<=fe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Us(t)),this.rs(e,o,t,VV(s,-1)).next(c=>c))})}ts(e,t){let n=new xt(Ip(e));return t.forEach((s,r)=>{z3(e,r)&&(n=n.add(r))}),n}ns(e,t,n,s){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let r=e.limitType==="F"?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(s)>0)}Xi(e,t,n){return Uo()<=fe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Us(t)),this.Ji.getDocumentsMatchingQuery(e,t,k1.min(),n)}rs(e,t,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(r=>(t.forEach(o=>{r=r.insert(o.key,o)}),r))}};var Hl=class{constructor(e,t,n,s){this.persistence=e,this.ss=t,this.serializer=s,this.os=new Ze(ze),this._s=new Xi(r=>gh(r),yh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Il(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function EA(i,e,t,n){return new Hl(i,e,t,n)}function Up(i,e){return w(this,null,function*(){let t=ie(i);return yield t.persistence.runTransaction("Handle user change","readonly",n=>{let s;return t.mutationQueue.getAllMutationBatches(n).next(r=>(s=r,t.ls(e),t.mutationQueue.getAllMutationBatches(n))).next(r=>{let o=[],c=[],l=me();for(let h of s){o.push(h.batchId);for(let f of h.mutations)l=l.add(f.key)}for(let h of r){c.push(h.batchId);for(let f of h.mutations)l=l.add(f.key)}return t.localDocuments.getDocuments(n,l).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:c}))})})})}function TA(i,e){let t=ie(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let s=e.batch.keys(),r=t.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,h,f){let v=h.batch,p=v.keys(),I=D.resolve();return p.forEach(A=>{I=I.next(()=>f.getEntry(l,A)).next(P=>{let R=h.docVersions.get(A);Me(R!==null),P.version.compareTo(R)<0&&(v.applyToRemoteDocument(P,h),P.isValidDocument()&&(P.setReadTime(h.commitVersion),f.addEntry(P)))})}),I.next(()=>c.mutationQueue.removeMutationBatch(l,v))}(t,n,e,r).next(()=>r.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let l=me();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(l=l.add(c.batch.mutations[h].key));return l}(e))).next(()=>t.localDocuments.getDocuments(n,s))})}function qp(i){let e=ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function IA(i,e){let t=ie(i),n=e.snapshotVersion,s=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});s=t.os;let c=[];e.targetChanges.forEach((f,v)=>{let p=s.get(v);if(!p)return;c.push(t.Ur.removeMatchingKeys(r,f.removedDocuments,v).next(()=>t.Ur.addMatchingKeys(r,f.addedDocuments,v)));let I=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(v)!==null?I=I.withResumeToken(Ot.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):f.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(f.resumeToken,n)),s=s.insert(v,I),function(P,R,B){return P.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(p,I,f)&&c.push(t.Ur.updateTargetData(r,I))});let l=ai(),h=me();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(r,f))}),c.push(CA(r,o,e.documentUpdates).next(f=>{l=f.Ps,h=f.Is})),!n.isEqual(ae.min())){let f=t.Ur.getLastRemoteSnapshotVersion(r).next(v=>t.Ur.setTargetsMetadata(r,r.currentSequenceNumber,n));c.push(f)}return D.waitFor(c).next(()=>o.apply(r)).next(()=>t.localDocuments.getLocalViewOfDocuments(r,l,h)).next(()=>l)}).then(r=>(t.os=s,r))}function CA(i,e,t){let n=me(),s=me();return t.forEach(r=>n=n.add(r)),e.getEntries(i,n).next(r=>{let o=ai();return t.forEach((c,l)=>{let h=r.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(c,l.readTime),o=o.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(l),o=o.insert(c,l)):U("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function MA(i,e){let t=ie(i);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function SA(i,e){let t=ie(i);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return t.Ur.getTargetData(n,e).next(r=>r?(s=r,D.resolve(s)):t.Ur.allocateTargetId(n).next(o=>(s=new e4(e,o,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{let s=t.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n})}function Fl(i,e,t){return w(this,null,function*(){let n=ie(i),s=n.os.get(e),r=t?"readwrite":"readwrite-primary";try{t||(yield n.persistence.runTransaction("Release target",r,o=>n.persistence.referenceDelegate.removeTarget(o,s)))}catch(o){if(!h4(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(s.target)})}function Jv(i,e,t){let n=ie(i),s=ae.min(),r=me();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,f){let v=ie(l),p=v._s.get(f);return p!==void 0?D.resolve(v.os.get(p)):v.Ur.getTargetData(h,f)}(n,o,Nn(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,c.targetId).next(l=>{r=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,t?s:ae.min(),t?r:me())).next(c=>(VA(n,UV(e),c),{documents:c,Ts:r})))}function VA(i,e,t){let n=i.us.get(e)||ae.min();t.forEach((s,r)=>{r.readTime.compareTo(n)>0&&(n=r.readTime)}),i.us.set(e,n)}var e3=class{constructor(){this.activeTargetIds=ZV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Bl=class{constructor(){this.so=new e3,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new e3,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _l=class{_o(e){}shutdown(){}};var t3=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ha=null;function L8(){return Ha===null?Ha=function(){return 268435456+Math.round(2147483648*Math.random())}():Ha++,"0x"+Ha.toString(16)}var AA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var jl=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Rt="WebChannelConnection",Ul=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${s}/databases/${r}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${r}`}get Fo(){return!1}Mo(t,n,s,r,o){let c=L8(),l=this.xo(t,n.toUriEncodedString());U("RestConnection",`Sending RPC '${t}' ${c}:`,l,s);let h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,r,o),this.No(t,l,h,s).then(f=>(U("RestConnection",`Received RPC '${t}' ${c}: `,f),f),f=>{throw Zs("RestConnection",`RPC '${t}' ${c} failed with error: `,f,"url: ",l,"request:",s),f})}Lo(t,n,s,r,o,c){return this.Mo(t,n,s,r,o)}Oo(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ar}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,o)=>t[o]=r),s&&s.headers.forEach((r,o)=>t[o]=r)}xo(t,n){let s=AA[t];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,s){let r=L8();return new Promise((o,c)=>{let l=new S8;l.setWithCredentials(!0),l.listenOnce(V8.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case jo.NO_ERROR:let f=l.getResponseJson();U(Rt,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(f)),o(f);break;case jo.TIMEOUT:U(Rt,`RPC '${e}' ${r} timed out`),c(new j(O.DEADLINE_EXCEEDED,"Request time out"));break;case jo.HTTP_ERROR:let v=l.getStatus();if(U(Rt,`RPC '${e}' ${r} failed with status:`,v,"response text:",l.getResponseText()),v>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);let I=p?.error;if(I&&I.status&&I.message){let A=function(R){let B=R.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(B)>=0?B:O.UNKNOWN}(I.status);c(new j(A,I.message))}else c(new j(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new j(O.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{U(Rt,`RPC '${e}' ${r} completed.`)}});let h=JSON.stringify(s);U(Rt,`RPC '${e}' ${r} sending request:`,s),l.send(t,"POST",h,n,15)})}Bo(e,t,n){let s=L8(),r=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=x8(),c=R8(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,t,n),l.encodeInitMessageHeaders=!0;let f=r.join("");U(Rt,`Creating RPC '${e}' stream ${s}: ${f}`,l);let v=o.createWebChannel(f,l),p=!1,I=!1,A=new jl({Io:R=>{I?U(Rt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(p||(U(Rt,`Opening RPC '${e}' stream ${s} transport.`),v.open(),p=!0),U(Rt,`RPC '${e}' stream ${s} sending:`,R),v.send(R))},To:()=>v.close()}),P=(R,B,J)=>{R.listen(B,te=>{try{J(te)}catch(se){setTimeout(()=>{throw se},0)}})};return P(v,js.EventType.OPEN,()=>{I||(U(Rt,`RPC '${e}' stream ${s} transport opened.`),A.yo())}),P(v,js.EventType.CLOSE,()=>{I||(I=!0,U(Rt,`RPC '${e}' stream ${s} transport closed`),A.So())}),P(v,js.EventType.ERROR,R=>{I||(I=!0,Zs(Rt,`RPC '${e}' stream ${s} transport errored:`,R),A.So(new j(O.UNAVAILABLE,"The operation could not be completed")))}),P(v,js.EventType.MESSAGE,R=>{var B;if(!I){let J=R.data[0];Me(!!J);let te=J,se=te.error||((B=te[0])===null||B===void 0?void 0:B.error);if(se){U(Rt,`RPC '${e}' stream ${s} received error:`,se);let Ye=se.status,le=function(b){let z=tt[b];if(z!==void 0)return Pp(z)}(Ye),E=se.message;le===void 0&&(le=O.INTERNAL,E="Unknown error status: "+Ye+" with message "+se.message),I=!0,A.So(new j(le,E)),v.close()}else U(Rt,`RPC '${e}' stream ${s} received:`,J),A.bo(J)}}),P(c,A8.STAT_EVENT,R=>{R.stat===Da.PROXY?U(Rt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===Da.NOPROXY&&U(Rt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function N8(){return typeof document<"u"?document:null}function E3(i){return new ml(i,!0)}var n3=class{constructor(e,t,n=1e3,s=1.5,r=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=s,this.Qo=r,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,t-n);s>0&&U("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var i3=class{constructor(e,t,n,s,r,o,c,l){this.ui=e,this.Ho=n,this.Jo=s,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new n3(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(ri(t.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===t&&this.P_(n,s)},n=>{e(()=>{let s=new j(O.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,t){let n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},ql=class extends i3{constructor(e,t,n,s,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,s,o),this.serializer=r}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=hA(this.serializer,e),n=function(r){if(!("targetChange"in r))return ae.min();let o=r.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Pn(o.readTime):ae.min()}(e);return this.listener.d_(t,n)}A_(e){let t={};t.database=yl(this.serializer),t.addTarget=function(r,o){let c,l=o.target;if(c=il(l)?{documents:fA(r,l)}:{query:mA(r,l)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Dp(r,o.resumeToken);let h=vl(r,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(ae.min())>0){c.readTime=Ja(r,o.snapshotVersion.toTimestamp());let h=vl(r,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);let n=pA(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){let t={};t.database=yl(this.serializer),t.removeTarget=e,this.a_(t)}},Wl=class extends i3{constructor(e,t,n,s,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,s,o),this.serializer=r}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=dA(e.writeResults,e.commitTime),n=Pn(e.commitTime);return this.listener.g_(n,t)}p_(){let e={};e.database=yl(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(n=>uA(this.serializer,n))};this.a_(t)}};var Xl=class extends class{}{constructor(e,t,n,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new j(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Mo(e,pl(t,n),s,r,o)).catch(r=>{throw r.name==="FirebaseError"?(r.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new j(O.UNKNOWN,r.toString())})}Lo(e,t,n,s,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(e,pl(t,n),s,o,c,r)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new j(O.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Gl=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ri(t),this.D_=!1):U("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Kl=class{constructor(e,t,n,s,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=r,this.k_._o(o=>{n.enqueueAndForget(()=>w(this,null,function*(){q1(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(l){return w(this,null,function*(){let h=ie(l);h.L_.add(4),yield u4(h),h.q_.set("Unknown"),h.L_.delete(4),yield T3(h)})}(this))}))}),this.q_=new Gl(n,s)}};function T3(i){return w(this,null,function*(){if(q1(i))for(let e of i.B_)yield e(!0)})}function u4(i){return w(this,null,function*(){for(let e of i.B_)yield e(!1)})}function Wp(i,e){let t=ie(i);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Ch(t)?Ih(t):lr(t).r_()&&Th(t,e))}function Eh(i,e){let t=ie(i),n=lr(t);t.N_.delete(e),n.r_()&&Xp(t,e),t.N_.size===0&&(n.r_()?n.o_():q1(t)&&t.q_.set("Unknown"))}function Th(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}lr(i).A_(e)}function Xp(i,e){i.Q_.xe(e),lr(i).R_(e)}function Ih(i){i.Q_=new fl({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),lr(i).start(),i.q_.v_()}function Ch(i){return q1(i)&&!lr(i).n_()&&i.N_.size>0}function q1(i){return ie(i).L_.size===0}function Gp(i){i.Q_=void 0}function RA(i){return w(this,null,function*(){i.q_.set("Online")})}function xA(i){return w(this,null,function*(){i.N_.forEach((e,t)=>{Th(i,e)})})}function OA(i,e){return w(this,null,function*(){Gp(i),Ch(i)?(i.q_.M_(e),Ih(i)):i.q_.set("Unknown")})}function LA(i,e,t){return w(this,null,function*(){if(i.q_.set("Online"),e instanceof Ya&&e.state===2&&e.cause)try{yield function(s,r){return w(this,null,function*(){let o=r.cause;for(let c of r.targetIds)s.N_.has(c)&&(yield s.remoteSyncer.rejectListen(c,o),s.N_.delete(c),s.Q_.removeTarget(c))})}(i,e)}catch(n){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),yield s3(i,n)}else if(e instanceof Gs?i.Q_.Ke(e):e instanceof Za?i.Q_.He(e):i.Q_.We(e),!t.isEqual(ae.min()))try{let n=yield qp(i.localStore);t.compareTo(n)>=0&&(yield function(r,o){let c=r.Q_.rt(o);return c.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){let f=r.N_.get(h);f&&r.N_.set(h,f.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,h)=>{let f=r.N_.get(l);if(!f)return;r.N_.set(l,f.withResumeToken(Ot.EMPTY_BYTE_STRING,f.snapshotVersion)),Xp(r,l);let v=new e4(f.target,l,h,f.sequenceNumber);Th(r,v)}),r.remoteSyncer.applyRemoteEvent(c)}(i,t))}catch(n){U("RemoteStore","Failed to raise snapshot:",n),yield s3(i,n)}})}function s3(i,e,t){return w(this,null,function*(){if(!h4(e))throw e;i.L_.add(1),yield u4(i),i.q_.set("Offline"),t||(t=()=>qp(i.localStore)),i.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield t(),i.L_.delete(1),yield T3(i)}))})}function Kp(i,e){return e().catch(t=>s3(i,t,e))}function I3(i){return w(this,null,function*(){let e=ie(i),t=Gi(e),n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;NA(e);)try{let s=yield MA(e.localStore,n);if(s===null){e.O_.length===0&&t.o_();break}n=s.batchId,PA(e,s)}catch(s){yield s3(e,s)}Zp(e)&&Yp(e)})}function NA(i){return q1(i)&&i.O_.length<10}function PA(i,e){i.O_.push(e);let t=Gi(i);t.r_()&&t.V_&&t.m_(e.mutations)}function Zp(i){return q1(i)&&!Gi(i).n_()&&i.O_.length>0}function Yp(i){Gi(i).start()}function DA(i){return w(this,null,function*(){Gi(i).p_()})}function kA(i){return w(this,null,function*(){let e=Gi(i);for(let t of i.O_)e.m_(t.mutations)})}function HA(i,e,t){return w(this,null,function*(){let n=i.O_.shift(),s=ll.from(n,e,t);yield Kp(i,()=>i.remoteSyncer.applySuccessfulWrite(s)),yield I3(i)})}function FA(i,e){return w(this,null,function*(){e&&Gi(i).V_&&(yield function(n,s){return w(this,null,function*(){if(function(o){return nA(o)&&o!==O.ABORTED}(s.code)){let r=n.O_.shift();Gi(n).s_(),yield Kp(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,s)),yield I3(n)}})}(i,e)),Zp(i)&&Yp(i)})}function $v(i,e){return w(this,null,function*(){let t=ie(i);t.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let n=q1(t);t.L_.add(3),yield u4(t),n&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield T3(t)})}function BA(i,e){return w(this,null,function*(){let t=ie(i);e?(t.L_.delete(2),yield T3(t)):e||(t.L_.add(2),yield u4(t),t.q_.set("Unknown"))})}function lr(i){return i.K_||(i.K_=function(t,n,s){let r=ie(t);return r.w_(),new ql(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(i.datastore,i.asyncQueue,{Eo:RA.bind(null,i),Ro:xA.bind(null,i),mo:OA.bind(null,i),d_:LA.bind(null,i)}),i.B_.push(e=>w(this,null,function*(){e?(i.K_.s_(),Ch(i)?Ih(i):i.q_.set("Unknown")):(yield i.K_.stop(),Gp(i))}))),i.K_}function Gi(i){return i.U_||(i.U_=function(t,n,s){let r=ie(t);return r.w_(),new Wl(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,s)}(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:DA.bind(null,i),mo:FA.bind(null,i),f_:kA.bind(null,i),g_:HA.bind(null,i)}),i.B_.push(e=>w(this,null,function*(){e?(i.U_.s_(),yield I3(i)):(yield i.U_.stop(),i.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))}))),i.U_}var Zl=class i{constructor(e,t,n,s,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=s,this.removalCallback=r,this.deferred=new On,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,s,r){let o=Date.now()+n,c=new i(e,t,o,s,r);return c.start(n),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Mh(i,e){if(ri("AsyncQueue",`${e}: ${i}`),h4(i))return new j(O.UNAVAILABLE,`${e}: ${i}`);throw i}var r3=class i{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Q.comparator(t.key,n.key):(t,n)=>Q.comparator(t.key,n.key),this.keyedMap=qo(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new i(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof i)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){let s=t.getNext().key,r=n.getNext().key;if(!s.isEqual(r))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let n=new i;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}};var o3=class{constructor(){this.W_=new Ze(Q.comparator)}track(e){let t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}},rr=class i{constructor(e,t,n,s,r,o,c,l,h){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(e,t,n,s,r){let o=[];return t.forEach(c=>{o.push({type:0,doc:c})}),new i(e,t,r3.emptySet(t),o,n,s,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&w3(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==n[s].type||!t[s].doc.isEqual(n[s].doc))return!1;return!0}};var Yl=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Ql=class{constructor(){this.queries=ep(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){let s=ie(t),r=s.queries;s.queries=ep(),r.forEach((o,c)=>{for(let l of c.j_)l.onError(n)})})(this,new j(O.ABORTED,"Firestore shutting down"))}};function ep(){return new Xi(i=>Tp(i),w3)}function Qp(i,e){return w(this,null,function*(){let t=ie(i),n=3,s=e.query,r=t.queries.get(s);r?!r.H_()&&e.J_()&&(n=2):(r=new Yl,n=e.J_()?0:1);try{switch(n){case 0:r.z_=yield t.onListen(s,!0);break;case 1:r.z_=yield t.onListen(s,!1);break;case 2:yield t.onFirstRemoteStoreListen(s)}}catch(o){let c=Mh(o,`Initialization of query '${Us(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,r),r.j_.push(e),e.Z_(t.onlineState),r.z_&&e.X_(r.z_)&&Sh(t)})}function Jp(i,e){return w(this,null,function*(){let t=ie(i),n=e.query,s=3,r=t.queries.get(n);if(r){let o=r.j_.indexOf(e);o>=0&&(r.j_.splice(o,1),r.j_.length===0?s=e.J_()?0:1:!r.H_()&&e.J_()&&(s=2))}switch(s){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}})}function _A(i,e){let t=ie(i),n=!1;for(let s of e){let r=s.query,o=t.queries.get(r);if(o){for(let c of o.j_)c.X_(s)&&(n=!0);o.z_=s}}n&&Sh(t)}function jA(i,e,t){let n=ie(i),s=n.queries.get(e);if(s)for(let r of s.j_)r.onError(t);n.queries.delete(e)}function Sh(i){i.Y_.forEach(e=>{e.next()})}var Jl,tp;(tp=Jl||(Jl={})).ea="default",tp.Cache="cache";var a3=class{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){let n=[];for(let s of e.docChanges)s.type!==3&&n.push(s);e=new rr(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=rr.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Jl.Cache}};var c3=class{constructor(e){this.key=e}},l3=class{constructor(e){this.key=e}},$l=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=Ip(e),this.Ra=new r3(this.Aa)}get Va(){return this.Ta}ma(e,t){let n=t?t.fa:new o3,s=t?t.Ra:this.Ra,r=t?t.mutatedKeys:this.mutatedKeys,o=s,c=!1,l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((f,v)=>{let p=s.get(f),I=z3(this.query,v)?v:null,A=!!p&&this.mutatedKeys.has(p.key),P=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),R=!1;p&&I?p.data.isEqual(I.data)?A!==P&&(n.track({type:3,doc:I}),R=!0):this.ga(p,I)||(n.track({type:2,doc:I}),R=!0,(l&&this.Aa(I,l)>0||h&&this.Aa(I,h)<0)&&(c=!0)):!p&&I?(n.track({type:0,doc:I}),R=!0):p&&!I&&(n.track({type:1,doc:p}),R=!0,(l||h)&&(c=!0)),R&&(I?(o=o.add(I),r=P?r.add(f):r.delete(f)):(o=o.delete(f),r=r.delete(f)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let f=this.query.limitType==="F"?o.last():o.first();o=o.delete(f.key),r=r.delete(f.key),n.track({type:1,doc:f})}return{Ra:o,fa:n,ns:c,mutatedKeys:r}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,s){let r=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((f,v)=>function(I,A){let P=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return P(I)-P(A)}(f.type,v.type)||this.Aa(f.doc,v.doc)),this.pa(n),s=s!=null&&s;let c=t&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,h=l!==this.Ea;return this.Ea=l,o.length!==0||h?{snapshot:new rr(this.query,e.Ra,r,o,e.mutatedKeys,l===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new o3,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});let t=[];return e.forEach(n=>{this.da.has(n)||t.push(new l3(n))}),this.da.forEach(n=>{e.has(n)||t.push(new c3(n))}),t}ba(e){this.Ta=e.Ts,this.da=me();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return rr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},eh=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},th=class{constructor(e){this.key=e,this.va=!1}},nh=class{constructor(e,t,n,s,r,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=s,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Xi(c=>Tp(c),w3),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(Q.comparator),this.Na=new Map,this.La=new n4,this.Ba={},this.ka=new Map,this.qa=t4.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function UA(i,e,t=!0){return w(this,null,function*(){let n=sg(i),s,r=n.Fa.get(e);return r?(n.sharedClientState.addLocalQueryTarget(r.targetId),s=r.view.Da()):s=yield $p(n,e,t,!0),s})}function qA(i,e){return w(this,null,function*(){let t=sg(i);yield $p(t,e,!0,!1)})}function $p(i,e,t,n){return w(this,null,function*(){let s=yield SA(i.localStore,Nn(e)),r=s.targetId,o=i.sharedClientState.addLocalQueryTarget(r,t),c;return n&&(c=yield WA(i,e,r,o==="current",s.resumeToken)),i.isPrimaryClient&&t&&Wp(i.remoteStore,s),c})}function WA(i,e,t,n,s){return w(this,null,function*(){i.Ka=(v,p,I)=>function(P,R,B,J){return w(this,null,function*(){let te=R.view.ma(B);te.ns&&(te=yield Jv(P.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,te)));let se=J&&J.targetChanges.get(R.targetId),Ye=J&&J.targetMismatches.get(R.targetId)!=null,le=R.view.applyChanges(te,P.isPrimaryClient,se,Ye);return ip(P,R.targetId,le.wa),le.snapshot})}(i,v,p,I);let r=yield Jv(i.localStore,e,!0),o=new $l(e,r.Ts),c=o.ma(r.documents),l=$o.createSynthesizedTargetChangeForCurrentChange(t,n&&i.onlineState!=="Offline",s),h=o.applyChanges(c,i.isPrimaryClient,l);ip(i,t,h.wa);let f=new eh(e,t,o);return i.Fa.set(e,f),i.Ma.has(t)?i.Ma.get(t).push(e):i.Ma.set(t,[e]),h.snapshot})}function XA(i,e,t){return w(this,null,function*(){let n=ie(i),s=n.Fa.get(e),r=n.Ma.get(s.targetId);if(r.length>1)return n.Ma.set(s.targetId,r.filter(o=>!w3(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Fl(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),t&&Eh(n.remoteStore,s.targetId),ih(n,s.targetId)}).catch(l4))):(ih(n,s.targetId),yield Fl(n.localStore,s.targetId,!0))})}function GA(i,e){return w(this,null,function*(){let t=ie(i),n=t.Fa.get(e),s=t.Ma.get(n.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Eh(t.remoteStore,n.targetId))})}function KA(i,e,t){return w(this,null,function*(){let n=tR(i);try{let s=yield function(o,c){let l=ie(o),h=gt.now(),f=c.reduce((I,A)=>I.add(A.key),me()),v,p;return l.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=ai(),P=me();return l.cs.getEntries(I,f).next(R=>{A=R,A.forEach((B,J)=>{J.isValidDocument()||(P=P.add(B))})}).next(()=>l.localDocuments.getOverlayedDocuments(I,A)).next(R=>{v=R;let B=[];for(let J of c){let te=tA(J,v.get(J.key).overlayedDocument);te!=null&&B.push(new ci(J.key,te,pp(te.value.mapValue),si.exists(!0)))}return l.mutationQueue.addMutationBatch(I,h,B,c)}).next(R=>{p=R;let B=R.applyToLocalDocumentSet(v,P);return l.documentOverlayCache.saveOverlays(I,R.batchId,B)})}).then(()=>({batchId:p.batchId,changes:Mp(v)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,c,l){let h=o.Ba[o.currentUser.toKey()];h||(h=new Ze(ze)),h=h.insert(c,l),o.Ba[o.currentUser.toKey()]=h}(n,s.batchId,t),yield d4(n,s.changes),yield I3(n.remoteStore)}catch(s){let r=Mh(s,"Failed to persist write");t.reject(r)}})}function eg(i,e){return w(this,null,function*(){let t=ie(i);try{let n=yield IA(t.localStore,e);e.targetChanges.forEach((s,r)=>{let o=t.Na.get(r);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Me(o.va):s.removedDocuments.size>0&&(Me(o.va),o.va=!1))}),yield d4(t,n,e)}catch(n){yield l4(n)}})}function np(i,e,t){let n=ie(i);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){let s=[];n.Fa.forEach((r,o)=>{let c=o.view.Z_(e);c.snapshot&&s.push(c.snapshot)}),function(o,c){let l=ie(o);l.onlineState=c;let h=!1;l.queries.forEach((f,v)=>{for(let p of v.j_)p.Z_(c)&&(h=!0)}),h&&Sh(l)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}function ZA(i,e,t){return w(this,null,function*(){let n=ie(i);n.sharedClientState.updateQueryState(e,"rejected",t);let s=n.Na.get(e),r=s&&s.key;if(r){let o=new Ze(Q.comparator);o=o.insert(r,vn.newNoDocument(r,ae.min()));let c=me().add(r),l=new Ka(ae.min(),new Map,new Ze(ze),o,c);yield eg(n,l),n.Oa=n.Oa.remove(r),n.Na.delete(e),Vh(n)}else yield Fl(n.localStore,e,!1).then(()=>ih(n,e,t)).catch(l4)})}function YA(i,e){return w(this,null,function*(){let t=ie(i),n=e.batch.batchId;try{let s=yield TA(t.localStore,e);ng(t,n,null),tg(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),yield d4(t,s)}catch(s){yield l4(s)}})}function QA(i,e,t){return w(this,null,function*(){let n=ie(i);try{let s=yield function(o,c){let l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let f;return l.mutationQueue.lookupMutationBatch(h,c).next(v=>(Me(v!==null),f=v.keys(),l.mutationQueue.removeMutationBatch(h,v))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,f,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,f)).next(()=>l.localDocuments.getDocuments(h,f))})}(n.localStore,e);ng(n,e,t),tg(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),yield d4(n,s)}catch(s){yield l4(s)}})}function tg(i,e){(i.ka.get(e)||[]).forEach(t=>{t.resolve()}),i.ka.delete(e)}function ng(i,e,t){let n=ie(i),s=n.Ba[n.currentUser.toKey()];if(s){let r=s.get(e);r&&(t?r.reject(t):r.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function ih(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(let n of i.Ma.get(e))i.Fa.delete(n),t&&i.Ca.$a(n,t);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(n=>{i.La.containsKey(n)||ig(i,n)})}function ig(i,e){i.xa.delete(e.path.canonicalString());let t=i.Oa.get(e);t!==null&&(Eh(i.remoteStore,t),i.Oa=i.Oa.remove(e),i.Na.delete(t),Vh(i))}function ip(i,e,t){for(let n of t)n instanceof c3?(i.La.addReference(n.key,e),JA(i,n)):n instanceof l3?(U("SyncEngine","Document no longer in limbo: "+n.key),i.La.removeReference(n.key,e),i.La.containsKey(n.key)||ig(i,n.key)):ee()}function JA(i,e){let t=e.key,n=t.path.canonicalString();i.Oa.get(t)||i.xa.has(n)||(U("SyncEngine","New document in limbo: "+t),i.xa.add(n),Vh(i))}function Vh(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){let e=i.xa.values().next().value;i.xa.delete(e);let t=new Q(qe.fromString(e)),n=i.qa.next();i.Na.set(n,new th(t)),i.Oa=i.Oa.insert(t,n),Wp(i.remoteStore,new e4(Nn(bh(t.path)),n,"TargetPurposeLimboResolution",dp.oe))}}function d4(i,e,t){return w(this,null,function*(){let n=ie(i),s=[],r=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((c,l)=>{o.push(n.Ka(l,e,t).then(h=>{var f;if((h||t)&&n.isPrimaryClient){let v=h?!h.fromCache:(f=t?.targetChanges.get(l.targetId))===null||f===void 0?void 0:f.current;n.sharedClientState.updateQueryState(l.targetId,v?"current":"not-current")}if(h){s.push(h);let v=Pl.Wi(l.targetId,h);r.push(v)}}))}),yield Promise.all(o),n.Ca.d_(s),yield function(l,h){return w(this,null,function*(){let f=ie(l);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>D.forEach(h,p=>D.forEach(p.$i,I=>f.persistence.referenceDelegate.addReference(v,p.targetId,I)).next(()=>D.forEach(p.Ui,I=>f.persistence.referenceDelegate.removeReference(v,p.targetId,I)))))}catch(v){if(!h4(v))throw v;U("LocalStore","Failed to update sequence numbers: "+v)}for(let v of h){let p=v.targetId;if(!v.fromCache){let I=f.os.get(p),A=I.snapshotVersion,P=I.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(p,P)}}})}(n.localStore,r))})}function $A(i,e){return w(this,null,function*(){let t=ie(i);if(!t.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let n=yield Up(t.localStore,e);t.currentUser=e,function(r,o){r.ka.forEach(c=>{c.forEach(l=>{l.reject(new j(O.CANCELLED,o))})}),r.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),yield d4(t,n.hs)}})}function eR(i,e){let t=ie(i),n=t.Na.get(e);if(n&&n.va)return me().add(n.key);{let s=me(),r=t.Ma.get(e);if(!r)return s;for(let o of r){let c=t.Fa.get(o);s=s.unionWith(c.view.Va)}return s}}function sg(i){let e=ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=eg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZA.bind(null,e),e.Ca.d_=_A.bind(null,e.eventManager),e.Ca.$a=jA.bind(null,e.eventManager),e}function tR(i){let e=ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=YA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QA.bind(null,e),e}var sp=(()=>{class i{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=E3(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,n){return null}Ha(t,n){return null}za(t){return EA(this.persistence,new kl,t.initialUser,this.serializer)}Ga(t){return new Ol(Nl.Zr,this.serializer)}Wa(t){return new Bl}terminate(){return w(this,null,function*(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return i.provider={build:()=>new i},i})();var nR=(()=>{class i{initialize(t,n){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>np(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=$A.bind(null,this.syncEngine),yield BA(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Ql}()}createDatastore(t){let n=E3(t.databaseInfo.databaseId),s=function(o){return new Ul(o)}(t.databaseInfo);return function(o,c,l,h){return new Xl(o,c,l,h)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,r,o,c,l){return new Kl(s,r,o,c,l)}(this.localStore,this.datastore,t.asyncQueue,n=>np(this.syncEngine,n,0),function(){return t3.D()?new t3:new _l}())}createSyncEngine(t,n){return function(r,o,c,l,h,f,v){let p=new nh(r,o,c,l,h,f);return v&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return w(this,null,function*(){var t,n;yield function(r){return w(this,null,function*(){let o=ie(r);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield u4(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}}return i.provider={build:()=>new i},i})();var h3=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var sh=class{constructor(e,t,n,s,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=s,this.user=ut.UNAUTHENTICATED,this.clientId=ja.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,o=>w(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new On;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=Mh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}};function P8(i,e){return w(this,null,function*(){i.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let t=i.configuration;yield e.initialize(t);let n=t.initialUser;i.setCredentialChangeListener(s=>w(this,null,function*(){n.isEqual(s)||(yield Up(e.localStore,s),n=s)})),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e})}function rp(i,e){return w(this,null,function*(){i.asyncQueue.verifyOperationInProgress();let t=yield iR(i);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,i.configuration),i.setCredentialChangeListener(n=>$v(e.remoteStore,n)),i.setAppCheckTokenChangeListener((n,s)=>$v(e.remoteStore,s)),i._onlineComponents=e})}function iR(i){return w(this,null,function*(){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield P8(i,i._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(s){return s.name==="FirebaseError"?s.code===O.FAILED_PRECONDITION||s.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Zs("Error using user provided cache. Falling back to memory cache: "+t),yield P8(i,new sp)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield P8(i,new sp);return i._offlineComponents})}function rg(i){return w(this,null,function*(){return i._onlineComponents||(i._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield rp(i,i._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield rp(i,new nR))),i._onlineComponents})}function sR(i){return rg(i).then(e=>e.syncEngine)}function rh(i){return w(this,null,function*(){let e=yield rg(i),t=e.eventManager;return t.onListen=UA.bind(null,e.syncEngine),t.onUnlisten=XA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=qA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=GA.bind(null,e.syncEngine),t})}function rR(i,e,t={}){let n=new On;return i.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return function(r,o,c,l,h){let f=new h3({next:p=>{f.Za(),o.enqueueAndForget(()=>Jp(r,v)),p.fromCache&&l.source==="server"?h.reject(new j(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(p)},error:p=>h.reject(p)}),v=new a3(c,f,{includeMetadataChanges:!0,_a:!0});return Qp(r,v)}(yield rh(i),i.asyncQueue,e,t,n)})),n.promise}function og(i){let e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}var op=new Map;function ag(i,e,t){if(!t)throw new j(O.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function oR(i,e,t,n){if(e===!0&&n===!0)throw new j(O.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function ap(i){if(!Q.isDocumentKey(i))throw new j(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cp(i){if(Q.isDocumentKey(i))throw new j(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function C3(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{let e=function(n){return n.constructor?n.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ee()}function Dn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new j(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=C3(i);throw new j(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}var u3=class{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new j(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}oR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=og((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new j(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new j(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new j(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},or=class{constructor(e,t,n,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new u3({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new j(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new j(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new u3(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new D8;switch(n.type){case"firstParty":return new B8(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new j(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let n=op.get(t);n&&(U("ComponentProvider","Removing Datastore"),op.delete(t),n.terminate())}(this),Promise.resolve()}};function cg(i,e,t,n={}){var s;let r=(i=Dn(i,or))._getSettings(),o=`${e}:${t}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&Zs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),n.mockUserToken){let c,l;if(typeof n.mockUserToken=="string")c=n.mockUserToken,l=ut.MOCK_USER;else{c=am(n.mockUserToken,(s=i._app)===null||s===void 0?void 0:s.options.projectId);let h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new j(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ut(h)}i._authCredentials=new k8(new _a(c,l))}}var U1=class i{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new i(this.firestore,e,this._query)}},qt=class i{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new i(this.firestore,e,this._key)}},qi=class i extends U1{constructor(e,t,n){super(e,t,bh(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new Q(e))}withConverter(e){return new i(this.firestore,e,this._path)}};function lg(i,e,...t){if(i=pt(i),ag("collection","path",e),i instanceof or){let n=qe.fromString(e,...t);return cp(n),new qi(i,null,n)}{if(!(i instanceof qt||i instanceof qi))throw new j(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=i._path.child(qe.fromString(e,...t));return cp(n),new qi(i.firestore,null,n)}}function Ah(i,e,...t){if(i=pt(i),arguments.length===1&&(e=ja.newId()),ag("doc","path",e),i instanceof or){let n=qe.fromString(e,...t);return ap(n),new qt(i,null,new Q(n))}{if(!(i instanceof qt||i instanceof qi))throw new j(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=i._path.child(qe.fromString(e,...t));return ap(n),new qt(i.firestore,i instanceof qi?i.converter:null,new Q(n))}}var d3=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new n3(this,"async_queue_retry"),this.Vu=()=>{let n=N8();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;let t=N8();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=N8();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new On;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!h4(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;let s=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(n);throw ri("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let s=Zl.createAndSchedule(this,e,t,n,r=>this.yu(r));return this.Tu.push(s),s}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function lp(i){return function(t,n){if(typeof t!="object"||t===null)return!1;let s=t;for(let r of n)if(r in s&&typeof s[r]=="function")return!0;return!1}(i,["next","error","complete"])}var li=class extends or{constructor(e,t,n,s){super(e,t,n,s),this.type="firestore",this._queue=new d3,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new d3(e),this._firestoreClient=void 0,yield e}})}};function hg(i,e){let t=typeof i=="object"?i:Ds(),n=typeof i=="string"?i:e||"(default)",s=Ao(t,"firestore").getImmediate({identifier:n});if(!s._initialized){let r=om("firestore");r&&cg(s,...r)}return s}function Rh(i){if(i._terminated)throw new j(O.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||aR(i),i._firestoreClient}function aR(i){var e,t,n;let s=i._freezeSettings(),r=function(c,l,h,f){return new W8(c,l,h,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,og(f.experimentalLongPollingOptions),f.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,s);i._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),i._firestoreClient=new sh(i._authCredentials,i._appCheckCredentials,i._queue,r,i._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(i._componentsProvider))}var i4=class i{constructor(e){this._byteString=e}static fromBase64String(e){try{return new i(Ot.fromBase64String(e))}catch(t){throw new j(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new i(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var s4=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new j(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var f3=class{constructor(e){this._methodName=e}};var r4=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new j(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new j(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}};var o4=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let r=0;r<n.length;++r)if(n[r]!==s[r])return!1;return!0}(this._values,e._values)}};var cR=/^__.*__$/,oh=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,t,this.fieldTransforms):new j1(e,this.data,t,this.fieldTransforms)}};function ug(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var ah=class i{constructor(e,t,n,s,r,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=s,r===void 0&&this.vu(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new i(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var t;let n=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return m3(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ug(this.Cu)&&cR.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},ch=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||E3(e)}Qu(e,t,n,s=!1){return new ah({Cu:e,methodName:t,qu:n,path:$t.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xh(i){let e=i._freezeSettings(),t=E3(i._databaseId);return new ch(i._databaseId,!!e.ignoreUndefinedProperties,t)}function dg(i,e,t,n,s,r={}){let o=i.Qu(r.merge||r.mergeFields?2:0,e,t,s);vg("Data must be an object, but it was:",o,n);let c=fg(n,o),l,h;if(r.merge)l=new xn(o.fieldMask),h=o.fieldTransforms;else if(r.mergeFields){let f=[];for(let v of r.mergeFields){let p=hR(e,v,t);if(!o.contains(p))throw new j(O.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);dR(f,p)||f.push(p)}l=new xn(f),h=o.fieldTransforms.filter(v=>l.covers(v.field))}else l=null,h=o.fieldTransforms;return new oh(new mn(c),l,h)}function lR(i,e,t,n=!1){return Oh(t,i.Qu(n?4:3,e))}function Oh(i,e){if(mg(i=pt(i)))return vg("Unsupported field value:",e,i),fg(i,e);if(i instanceof f3)return function(n,s){if(!ug(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);let r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){let r=[],o=0;for(let c of n){let l=Oh(c,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),r.push(l),o++}return{arrayValue:{values:r}}}(i,e)}return function(n,s){if((n=pt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return YV(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let r=gt.fromDate(n);return{timestampValue:Ja(s.serializer,r)}}if(n instanceof gt){let r=new gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ja(s.serializer,r)}}if(n instanceof r4)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof i4)return{bytesValue:Dp(s.serializer,n._byteString)};if(n instanceof qt){let r=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(r))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:zh(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof o4)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return wh(c.serializer,l)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${C3(n)}`)}(i,e)}function fg(i,e){let t={};return fp(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cr(i,(n,s)=>{let r=Oh(s,e.Mu(n));r!=null&&(t[n]=r)}),{mapValue:{fields:t}}}function mg(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof gt||i instanceof r4||i instanceof i4||i instanceof qt||i instanceof f3||i instanceof o4)}function vg(i,e,t){if(!mg(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){let n=C3(t);throw n==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+n)}}function hR(i,e,t){if((e=pt(e))instanceof s4)return e._internalPath;if(typeof e=="string")return pg(i,e);throw m3("Field path arguments must be of type string or ",i,!1,void 0,t)}var uR=new RegExp("[~\\*/\\[\\]]");function pg(i,e,t){if(e.search(uR)>=0)throw m3(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new s4(...e.split("."))._internalPath}catch{throw m3(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function m3(i,e,t,n,s){let r=n&&!n.isEmpty(),o=s!==void 0,c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(r||o)&&(l+=" (found",r&&(l+=` in field ${n}`),o&&(l+=` in document ${s}`),l+=")"),new j(O.INVALID_ARGUMENT,c+i+l)}function dR(i,e){return i.some(t=>t.isEqual(e))}var v3=class{constructor(e,t,n,s,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=s,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new lh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Lh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},lh=class extends v3{data(){return super.data()}};function Lh(i,e){return typeof e=="string"?pg(i,e):e instanceof s4?e._internalPath:e._delegate._internalPath}function gg(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new j(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var a4=class{},hh=class extends a4{};function yg(i,e,...t){let n=[];e instanceof a4&&n.push(e),n=n.concat(t),function(r){let o=r.filter(l=>l instanceof uh).length,c=r.filter(l=>l instanceof p3).length;if(o>1||o>0&&c>0)throw new j(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(let s of n)i=s._apply(i);return i}var p3=class i extends hh{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new i(e,t,n)}_apply(e){let t=this._parse(e);return wg(e._query,t),new U1(e.firestore,e.converter,sl(e._query,t))}_parse(e){let t=xh(e.firestore);return function(r,o,c,l,h,f,v){let p;if(h.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new j(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){up(v,f);let I=[];for(let A of v)I.push(hp(l,r,A));p={arrayValue:{values:I}}}else p=hp(l,r,v)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||up(v,f),p=lR(c,o,v,f==="in"||f==="not-in");return it.create(h,f,p)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function bg(i,e,t){let n=e,s=Lh("where",i);return p3._create(s,n,t)}var uh=class i extends a4{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new i(e,t)}_parse(e){let t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:pn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(s,r){let o=s,c=r.getFlattenedFilters();for(let l of c)wg(o,l),o=sl(o,l)}(e._query,t),new U1(e.firestore,e.converter,sl(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function hp(i,e,t){if(typeof(t=pt(t))=="string"){if(t==="")throw new j(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ep(e)&&t.indexOf("/")!==-1)throw new j(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let n=e.path.child(qe.fromString(t));if(!Q.isDocumentKey(n))throw new j(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Pv(i,new Q(n))}if(t instanceof qt)return Pv(i,t._key);throw new j(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${C3(t)}.`)}function up(i,e){if(!Array.isArray(i)||i.length===0)throw new j(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wg(i,e){let t=function(s,r){for(let o of s)for(let c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(i.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new j(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var dh=class{convertValue(e,t="none"){switch(H1(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let n={};return cr(e,(s,r)=>{n[s]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,s;let r=(s=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(o=>Fe(o.doubleValue));return new o4(r)}convertGeoPoint(e){return new r4(Fe(e.latitude),Fe(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":let n=vh(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Yo(e));default:return null}}convertTimestamp(e){let t=oi(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=qe.fromString(e);Me(jp(n));let s=new Xa(n.get(1),n.get(3)),r=new Q(n.popFirst(5));return s.isEqual(t)||ri(`Document ${r} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}};function zg(i,e,t){let n;return n=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,n}var P1=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},g3=class extends v3{constructor(e,t,n,s,r,o){super(e,t,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ks(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(Lh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}},Ks=class extends g3{data(e={}){return super.data(e)}},y3=class{constructor(e,t,n,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new P1(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ks(this._firestore,this._userDataWriter,n.key,n,new P1(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new j(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(c=>{let l=new Ks(s._firestore,s._userDataWriter,c.doc.key,c.doc,new P1(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>r||c.type!==3).map(c=>{let l=new Ks(s._firestore,s._userDataWriter,c.doc.key,c.doc,new P1(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter),h=-1,f=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),f=o.indexOf(c.doc.key)),{type:fR(c.type),doc:l,oldIndex:h,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function fR(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}var c4=class extends dh{constructor(e){super(),this.firestore=e}convertBytes(e){return new i4(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}};function Eg(i){i=Dn(i,U1);let e=Dn(i.firestore,li),t=Rh(e),n=new c4(e);return gg(i._query),rR(t,i._query).then(s=>new y3(e,n,i,s))}function Tg(i,e,t){i=Dn(i,qt);let n=Dn(i.firestore,li),s=zg(i.converter,e,t);return Ph(n,[dg(xh(n),"setDoc",i._key,s,i.converter!==null,t).toMutation(i._key,si.none())])}function Ig(i){return Ph(Dn(i.firestore,li),[new Jo(i._key,si.none())])}function Cg(i,e){let t=Dn(i.firestore,li),n=Ah(i),s=zg(i.converter,e);return Ph(t,[dg(xh(i.firestore),"addDoc",n._key,s,i.converter!==null,{}).toMutation(n._key,si.exists(!1))]).then(()=>n)}function Nh(i,...e){var t,n,s;i=pt(i);let r={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||lp(e[o])||(r=e[o],o++);let c={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(lp(e[o])){let v=e[o];e[o]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[o+1]=(n=v.error)===null||n===void 0?void 0:n.bind(v),e[o+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let l,h,f;if(i instanceof qt)h=Dn(i.firestore,li),f=bh(i._key.path),l={next:v=>{e[o]&&e[o](mR(h,i,v))},error:e[o+1],complete:e[o+2]};else{let v=Dn(i,U1);h=Dn(v.firestore,li),f=v._query;let p=new c4(h);l={next:I=>{e[o]&&e[o](new y3(h,p,v,I))},error:e[o+1],complete:e[o+2]},gg(i._query)}return function(p,I,A,P){let R=new h3(P),B=new a3(I,R,A);return p.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return Qp(yield rh(p),B)})),()=>{R.Za(),p.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return Jp(yield rh(p),B)}))}}(Rh(h),f,c,l)}function Ph(i,e){return function(n,s){let r=new On;return n.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return KA(yield sR(n),s,r)})),r.promise}(Rh(i),e)}function mR(i,e,t){let n=t.docs.get(e._key),s=new c4(i);return new g3(i,s,e._key,n,new P1(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){ar=s})(Hi),ki(new rn("firestore",(n,{instanceIdentifier:s,options:r})=>{let o=n.getProvider("app").getImmediate(),c=new li(new H8(n.getProvider("auth-internal")),new j8(n.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new j(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xa(h.options.projectId,f)}(o,s),o);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),rt(xv,"4.7.3",e),rt(xv,"4.7.3","esm2017")})();var M3=function(){return M3=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},M3.apply(this,arguments)};var gR={includeMetadataChanges:!1};function Mg(i,e){return e===void 0&&(e=gR),new Xe(function(t){var n=Nh(i,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:n}})}function Sg(i,e){var t;e===void 0&&(e={});var n=i.data(e);return!i.exists()||typeof n!="object"||n===null||!e.idField?n:M3(M3({},n),(t={},t[e.idField]=i.id,t))}function Vg(i){return Mg(i,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}function Ag(i,e){return e===void 0&&(e={}),Vg(i).pipe(Z(function(t){return t.map(function(n){return Sg(n,e)})}))}var W1=class{constructor(e){return e}},Rg="firestore",Dh=class{constructor(){return Ro(Rg)}};var kh=new X("angularfire2.firestore-instances");function yR(i,e){let t=ma(Rg,i,e);return t&&new W1(t)}function bR(i){return(e,t)=>{let n=e.runOutsideAngular(()=>i(t));return new W1(n)}}var wR={provide:Dh,deps:[[new mt,kh]]},zR={provide:W1,useFactory:yR,deps:[[new mt,kh],ei]};function I_(i,...e){return rt("angularfire",S1.full,"fst"),Tt([zR,wR,{provide:kh,useFactory:bR(i),multi:!0,deps:[Y,Ge,Fs,V1,[new mt,_o],[new mt,Hs],...e]}])}var xg=ht(Ag,!0);var Og=ht(Cg,!0);var Hh=ht(lg,!0);var Lg=ht(Ig,!0);var Fh=ht(Ah,!0);var Ng=ht(Eg,!0);var C_=ht(hg,!0);var Pg=ht(yg,!0);var Dg=ht(Tg,!0);var kg=ht(bg,!0);var Hg=class i{firestore=x(W1);newsCollections=Hh(this.firestore,"news");getNews(){return xg(this.newsCollections,{idField:"id"})}getNewsByRef(e,t){let n=Hh(this.firestore,"news"),s=Pg(n,kg(e,"==",t)),r=Ng(s);return Re(r)}addNews(e){let t=Og(this.newsCollections,e);return Re(t)}update(e,t){let n=Fh(this.firestore,"news/"+e),s=Dg(n,t);return Re(s)}remove(e){let t=Fh(this.firestore,"news/"+e),n=Lg(t);return Re(n)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})};function f4(i){i||(i7(f4),i=x(P4));let e=new Xe(t=>i.onDestroy(t.next.bind(t)));return t=>t.pipe(ve(e))}var ER=()=>({"background-image":"url(images/home/spraying.png)"});function TR(i,e){if(i&1&&ue(0,"app-burger-menu",6),i&2){let t=de();Ve("isHomePage",t.isHomePage())}}function IR(i,e){i&1&&ue(0,"app-switch-lang")}function CR(i,e){if(i&1&&(_(0,"div",7),ue(1,"app-header-menu",10),G()),i&2){let t=de();W(),Ve("isHomePage",t.isHomePage())("isLangVisible",!t.isHomePage())}}var Fg=class i{router=x(kt);_langDetector=x(Ki);isHomePage=i1(!1);isMobile=window.innerWidth<767;lang=a1(()=>this._langDetector.lang());constructor(){this.router.events.pipe(xe(e=>e instanceof sn),f4()).subscribe({next:e=>{e.url==="/"?this.isHomePage.set(!0):this.isHomePage.set(!1)}})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=De({type:i,selectors:[["app-header"]],standalone:!0,features:[ke],decls:11,vars:6,consts:[[1,"header",3,"ngStyle"],[1,"header__main","container"],[1,"header__main-logo"],["alt","ecoc logo","width","453","height","293",3,"src"],[1,"header__lang"],[3,"nzOffsetTop"],[3,"isHomePage"],[1,"header__menu"],[1,"triangle__up"],["src","images/icons/up.svg","alt","up image"],[3,"isHomePage","isLangVisible"]],template:function(t,n){t&1&&(_(0,"header",0)(1,"div",1)(2,"div",2),ue(3,"img",3),G(),_(4,"div",4)(5,"nz-affix",5),Se(6,TR,1,1,"app-burger-menu",6)(7,IR,1,0,"app-switch-lang"),G()()(),Se(8,CR,2,2,"div",7),_(9,"div",8),ue(10,"img",9),G()()),t&2&&(Ve("ngStyle",E7(5,ER)),W(3),Ve("src","images/home/ecoc_logo_"+n.lang()+".svg",ts),W(2),Ve("nzOffsetTop",10),W(),Ke(n.isMobile?6:7),W(2),Ke(n.isMobile?-1:8))},dependencies:[En,aa,Ni,Os,oa,Io,K4],styles:[".header[_ngcontent-%COMP%]{position:relative;height:100vh;display:flex;flex-direction:column;justify-content:space-between;background-color:var(--primary-yellow);background-position:center;background-size:cover;background-repeat:no-repeat}.header__main[_ngcontent-%COMP%]{width:100%;margin-top:15px;display:flex;justify-content:space-between;align-items:baseline}.header__main-logo[_ngcontent-%COMP%]{width:453px}.header__main-logo[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{width:100%;height:100%}.header__bg-image[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.header__lang[_ngcontent-%COMP%]{z-index:11}@media (max-width: 1024px){.header__main-logo[_ngcontent-%COMP%]{width:340px}}@media (max-width: 767px){.header__main-logo[_ngcontent-%COMP%]{width:40%}.header__bg-up[_ngcontent-%COMP%]{width:50px;bottom:0}}@media (max-width: 580px){.header__main[_ngcontent-%COMP%]{padding-left:36px}}.triangle__up[_ngcontent-%COMP%]{bottom:50px}@media (max-width: 767px){.triangle__up[_ngcontent-%COMP%]{bottom:0}}"],changeDetection:0})};var Bg=class i{content=t1();_langDetector=x(Ki);lang=a1(()=>this._langDetector.lang());static \u0275fac=function(t){return new(t||i)};static \u0275cmp=De({type:i,selectors:[["app-grid-section"]],inputs:{content:[1,"content"]},standalone:!0,features:[ke],decls:8,vars:5,consts:[[1,"home-section"],[1,"home-section__aside","home-section__aside--left"],[1,"home-section__title"],[1,"home-section__aside","home-section__aside--right"],[1,"home-section__desc",3,"innerHTML"]],template:function(t,n){if(t&1&&(_(0,"div",0)(1,"aside",1)(2,"h1",2),Je(3),$e(4,"translate"),G()(),_(5,"aside",3),ue(6,"div",4)(7,"div",4),G()()),t&2){let s,r,o;W(3),B4(" ",(s=n.content())!=null&&s.title?et(4,3,n.content().title):"In progress..."," "),W(3),Ve("innerHTML",((r=n.content())==null||r.block1==null?null:r.block1[n.lang()])||((r=n.content())!=null&&r.title?"In progress":""),n1),W(),Ve("innerHTML",((o=n.content())==null||o.block2==null?null:o.block2[n.lang()])||"",n1)}},dependencies:[En,Vi],styles:[".home-section__desc[_ngcontent-%COMP%]     a{color:#886f00}",".home-section[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));row-gap:2rem}.home-section__aside--left[_ngcontent-%COMP%]{grid-column:span 12/span 12;grid-column-start:1}.home-section__aside--right[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;grid-column:span 12/span 12;grid-column-start:1;font-size:1.125rem;line-height:1.75rem}@media (min-width: 768px){.home-section__aside--right[_ngcontent-%COMP%]{justify-content:space-between;flex-direction:row;gap:2.5rem;font-size:1.5rem;line-height:2rem}}@media (min-width: 1024px){.home-section__aside--left[_ngcontent-%COMP%]{grid-column:span 3/span 3}.home-section__aside--right[_ngcontent-%COMP%]{grid-column:span 8/span 8;grid-column-end:13}}.home-section__title[_ngcontent-%COMP%]{font-size:2.25rem;font-weight:500;line-height:2.5rem}@media (min-width: 1024px){.home-section__title[_ngcontent-%COMP%]{font-size:4rem;line-height:1}}@media (min-width: 768px){.home-section__title[_ngcontent-%COMP%]{font-size:4rem;line-height:1}}@media (min-width: 768px){.home-section[_ngcontent-%COMP%]{column-gap:2rem}}"]})};var _g=class i{windowScrolled=i1(!1);onWindowScroll(){window.scrollY>window.innerHeight?this.windowScrolled.set(!0):window.scrollY<window.innerHeight&&this.windowScrolled.set(!1)}scrollToTop(){(function e(){(document.documentElement.scrollTop||document.body.scrollTop)>0&&(window.requestAnimationFrame(e),window.scrollTo(0,0))})()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=De({type:i,selectors:[["app-back-to-top"]],hostBindings:function(t,n){t&1&&Le("scroll",function(){return n.onWindowScroll()},!1,p7)},standalone:!0,features:[ke],decls:3,vars:2,consts:[[1,"back-to-top"],["nz-button","","nzShape","circle",3,"click"],["nz-icon","","nzType","double-left","nzTheme","outline",1,"arrow"]],template:function(t,n){t&1&&(_(0,"div",0)(1,"button",1),Le("click",function(){return n.scrollToTop()}),ue(2,"span",2),G()()),t&2&&Dt("show",n.windowScrolled())},dependencies:[Ms,y1,Cs,q2,Li,Cn],styles:[".arrow[_ngcontent-%COMP%]{transform:rotate(90deg)}.back-to-top[_ngcontent-%COMP%]{position:fixed;bottom:11vh;right:15px;opacity:0;transition:all .2s ease-in-out}.back-to-top.show[_ngcontent-%COMP%]{opacity:1;transition:all .2s ease-in-out}"],changeDetection:0})};var jg=class i{_langDetector=x(Ki);lang=a1(()=>this._langDetector.lang());static \u0275fac=function(t){return new(t||i)};static \u0275cmp=De({type:i,selectors:[["app-footer"]],standalone:!0,features:[ke],decls:8,vars:6,consts:[[1,"footer"],[1,"container","footer__content"],[1,"footer__img-wrap"],["alt","\u0456\u043D\u0441\u0442\u0438\u0442\u0443\u0442 \u0441\u0442\u0440\u0430\u0442\u0435\u0433\u0456\u0457 \u043A\u0443\u043B\u044C\u0442\u0443\u0440\u0438",3,"src"],["alt","\u043B\u044C\u0432\u0456\u0432\u0441\u044C\u043A\u0430 \u0440\u0430\u0434\u0430",3,"src"],["alt","\u043B\u044C\u0432\u0456\u0432 \u0432\u0456\u0434\u043A\u0440\u0438\u0442\u0438\u0439 \u0434\u043B\u044F \u0441\u0432\u0456\u0442\u0443",3,"src"]],template:function(t,n){t&1&&(_(0,"footer",0)(1,"div",1)(2,"div",2),ue(3,"img",3),G(),_(4,"div",2),ue(5,"img",4),G(),_(6,"div",2),ue(7,"img",5),G()()()),t&2&&(W(3),F4("src","images/icons/isc_bw_",n.lang(),".svg",ts),W(2),F4("src","images/icons/lviv_rada_bw_",n.lang(),".svg",ts),W(2),F4("src","images/icons/lviv_open_bw_",n.lang(),".svg",ts))},styles:[".footer[_ngcontent-%COMP%]{height:71px;background-color:#f4c848}.footer__content[_ngcontent-%COMP%]{display:flex;column-gap:4rem;padding-top:17px;padding-bottom:17px}.footer__img-wrap[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{height:35px}@media (max-width: 580px){.footer__content[_ngcontent-%COMP%]{justify-content:space-between;column-gap:normal}}"]})};var Ki=class i{_translate=x(d1);destroyRef=x(P4);currentLang=localStorage.getItem(wo)||"en";lang=i1(this.currentLang);constructor(){this._translate.onLangChange.pipe(f4(this.destroyRef)).subscribe({next:e=>{this.lang.set(e.lang)}})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=N({token:i,factory:i.\u0275fac,providedIn:"root"})};export{Sc as a,HR as b,i2 as c,ax as d,Wr as e,sn as f,Ci as g,qb as h,kt as i,C2 as j,Mx as k,Sx as l,$w as m,M2 as n,bs as o,d1 as p,Vi as q,En as r,Qt as s,Ue as t,$9 as u,j6 as v,ef as w,In as x,CO as y,Hz as z,po as A,v1 as B,xi as C,OO as D,LO as E,NO as F,PO as G,P6 as H,DO as I,go as J,kO as K,Kz as L,HO as M,FO as N,_O as O,jO as P,UO as Q,Oi as R,Tn as S,AP as T,l0 as U,h0 as V,XE as W,GP as X,KP as Y,Ff as Z,Bf as _,YE as $,ZP as aa,ea as ba,em as ca,Io as da,oa as ea,Cn as fa,Li as ga,Cs as ha,q2 as ia,y1 as ja,Ms as ka,W2 as la,RN as ma,Eo as na,ME as oa,xN as pa,Q6 as qa,Vs as ra,b1 as sa,K2 as ta,Y2 as ua,Q2 as va,As as wa,He as xa,s0 as ya,z1 as za,$2 as Aa,Af as Ba,nP as Ca,oP as Da,cP as Ea,lP as Fa,hP as Ga,dP as Ha,mP as Ia,pP as Ja,Of as Ka,Lf as La,Nf as Ma,At as Na,iD as Oa,QE as Pa,cD as Qa,lD as Ra,jf as Sa,qf as Ta,Zf as Ua,AT as Va,RT as Wa,PT as Xa,AD as Ya,RD as Za,wo as _a,aa as $a,RH as ab,xH as bb,Bo as cb,RF as db,xF as eb,OF as fb,LF as gb,NF as hb,I_ as ib,C_ as jb,Hg as kb,f4 as lb,Ki as mb,Fg as nb,Bg as ob,_g as pb,jg as qb};
