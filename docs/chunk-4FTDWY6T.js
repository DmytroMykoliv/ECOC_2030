import{a as W,b as $}from"./chunk-KRH7GXQQ.js";import{a as j,b as U}from"./chunk-ELQKQ26F.js";import{$a as R,ha as O,ia as k,ja as E,ka as F,kb as V,lb as B,mb as H,n as z,q as P,r as I}from"./chunk-LLFFFVF7.js";import{$b as a,Ba as v,Bc as D,Fc as h,Gb as S,Gc as C,Lb as d,Na as x,Oa as b,Pb as l,Ta as N,Uc as M,Vb as _,Yb as w,Zb as g,Zc as L,_b as s,ac as m,ec as T,hc as y,jc as r,tc as f,vb as o,vc as u,wa as p}from"./chunk-TANJPCFI.js";var q=(e,n)=>n.id;function G(e,n){if(e&1&&m(0,"app-news-item-desktop",10)(1,"hr"),e&2){let t=n.$implicit,i=r(2);l("article",t)("dateLang",i.dateLang())}}function J(e,n){if(e&1&&(s(0,"div",7),w(1,G,2,2,null,null,q),a()),e&2){let t=r();o(),g(t.newsToShow)}}function K(e,n){if(e&1&&(s(0,"div",11),m(1,"app-news-item",10),a()),e&2){let t=n.$implicit,i=r(2);o(),l("article",t)("dateLang",i.dateLang())}}function Q(e,n){if(e&1&&(s(0,"div",8),w(1,K,2,2,"div",11,q),a()),e&2){let t=r();o(),g(t.newsToShow)}}function X(e,n){if(e&1){let t=T();s(0,"div",9)(1,"button",12),y("click",function(){x(t);let A=r();return b(A.loadMore())}),f(2),h(3,"translate"),a()()}e&2&&(o(2),u(" ",C(3,1,"btn.load_more")," "))}var c=class e{_cdr=p(M);destroyRef=p(N);_newsFirebase=p(V);_langDetector=p(H);news=[];newsToShow=[];isLoading=S(!1);isTablet=window.innerWidth<1024;dateLang=L(()=>this._langDetector.lang()==="ua"?"uk":"en");ngOnInit(){this._getNews()}_getNews(){this.isLoading.set(!0),this._newsFirebase.getNews().pipe(B(this.destroyRef)).subscribe({next:n=>{this.news=n.filter(t=>t.status==="published").sort((t,i)=>Date.parse(i.created_at)-Date.parse(t.created_at)),this.newsToShow=this.news.slice(0,2),this.isLoading.set(!1),this._cdr.markForCheck()}})}loadMore(){this.newsToShow=this.news.slice(0,this.newsToShow.length+2)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=v({type:e,selectors:[["app-news"]],standalone:!0,features:[D],decls:13,vars:8,consts:[[1,"header__menu"],[3,"isHomePage","isLangVisible"],[1,"page","news","container"],[1,"page__section","page__head"],[1,"page__title"],[1,"page__section"],[3,"nzSpinning"],[1,"news__list"],[1,"news__tablet"],[1,"news__load-more"],[3,"article","dateLang"],[1,"news__col"],["nz-button","","nzShape","round",1,"news__load-btn",3,"click"]],template:function(t,i){t&1&&(s(0,"header",0),m(1,"app-header-menu",1),a(),s(2,"main",2)(3,"section",3)(4,"h1",4),f(5),h(6,"translate"),a()(),m(7,"hr"),s(8,"section",5)(9,"nz-spin",6),d(10,J,3,0,"div",7)(11,Q,3,0,"div",8),a(),d(12,X,4,3,"div",9),a()()),t&2&&(o(),l("isHomePage",!1)("isLangVisible",!0),o(4),u(" ",C(6,6,"title.news")," "),o(4),l("nzSpinning",i.isLoading()),o(),_(i.isTablet?11:10),o(2),_(i.news.length!==i.newsToShow.length?12:-1))},dependencies:[I,P,z,R,$,W,U,j,F,E,O,k],styles:["[_nghost-%COMP%]{flex:1 1 auto}.news__tablet[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,minmax(0,1fr));row-gap:2rem;padding:3rem 0}.news__col[_ngcontent-%COMP%]{grid-column:span 12/span 12;border:1px solid #fff}.news__load-more[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:2rem}@media (min-width: 768px){.news__tablet[_ngcontent-%COMP%]{column-gap:2rem}.news__col[_ngcontent-%COMP%]{grid-column:span 6/span 6}.news__load-btn[_ngcontent-%COMP%]{min-width:160px;height:40px;font-size:18px}}"],changeDetection:0})};var Ce=[{path:"",component:c}];export{Ce as NEWS_ROUTES};
